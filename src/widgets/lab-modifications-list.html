<require from="../layout/title"></require>
<require from="../layout/footer"></require>
<require from="../components/checkbox"></require>
<require from="../components/primary-stat"></require>

<title text="LAB MODIFICATIONS"></title>
<div class="container">
    <input class="add-item-input add-modifier-input" type="text" keyup.delegate="keyPressed($event, 'modifier')" value.two-way="newModifierText" title="Add Modifier Column">
    <div class="modifier-titles">
        <input type="text" repeat.for="modifier of model.availableModifiers" class="modifier-title text" value.bind="modifier.name" title="${modifier.name}">
    </div>

    <label class="text title">VIRTUES</label>
    <div class="virtue grid" repeat.for="virtue of model.virtues">
        <input class="name" type="text" value.bind="virtue.name" placeholder="Name">
        <input class="category" type="text" value.bind="virtue.category" placeholder="Category">
        <input class="description" type="text" value.bind="virtue.description" placeholder="Description">
        <primary-stat class="cost" mode="secondary" value.two-way="virtue.cost" min="0" size="s" title="Cost"></primary-stat>
        <primary-stat class="modifier" prefix-plus.bind="true" mode="secondary" repeat.for="modifier of virtue.modifiers" value.two-way="modifier.rating" size="s" title="${modifier.name} modifier" color-mode="monochrome"></primary-stat>
    </div>
    <input class="add-item-input" type="text" placeholder="Add virtue" keyup.delegate="keyPressed($event, 'virtue')" value.two-way="newVirtueText">

    <label class="text title">FLAWS</label>
    <div class="flaw grid" repeat.for="flaw of model.flaws">
        <input class="name" type="text" value.bind="flaw.name" placeholder="Name">
        <input class="category" type="text" value.bind="flaw.category" placeholder="Category">
        <input class="description" type="text" value.bind="flaw.description" placeholder="Description">
        <primary-stat class="cost" mode="secondary" value.two-way="flaw.cost" max="0" size="s" title="Cost"></primary-stat>
        <primary-stat class="modifier" prefix-plus.bind="true" mode="secondary" repeat.for="modifier of flaw.modifiers" value.two-way="modifier.rating" size="s" title="${modifier.name} modifier" color-mode="monochrome"></primary-stat>
    </div>
    <input class="add-item-input" type="text" placeholder="Add flaw" keyup.delegate="keyPressed($event, 'flaw')" value.two-way="newFlawText">

    <div class="modifier-totals">
        <span class="numbers modifier-total" repeat.for="total of totals" class="modifier-title text">${total}</span>
    </div>
</div>
<footer></footer>