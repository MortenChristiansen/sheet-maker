/*! For license information please see entry.04e616bb08f07ffbbde7.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={288:(t,e,i)=>{i.d(e,{Z:()=>f});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(8390),i.b),h=new URL(i(3208),i.b),u=o()(r()),d=l()(c),p=l()(h);u.push([t.id,"checkbox {\r\n    display: inline-block;\r\n}\r\n\r\ncheckbox > .container:not(.readonly) {\r\n    cursor: pointer;\r\n}\r\n\r\ncheckbox .container {\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    width: 24px;\r\n    height: 24px;\r\n}\r\n\r\ncheckbox .container.angled {\r\n    transform: rotate(45deg);\r\n}\r\n\r\ncheckbox .container.s {\r\n    width: 18px;\r\n    height: 18px;\r\n}\r\n\r\ncheckbox .container.xs {\r\n    width: 13px;\r\n    height: 13px;\r\n}\r\n\r\ncheckbox .container.checked {\r\n    background-image: url("+d+");\r\n}\r\n\r\ncheckbox .container.unchecked {\r\n    background-image: url("+p+");\r\n}",""]);const f=u},2001:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nlist > .container {\r\n    margin: 0 25px 20px 20px;\r\n}\r\n\r\nlist .add-item-input {\r\n    margin-top: 15px;\r\n    border-bottom-style: dashed;\r\n}",""]);const a=o},8908:(t,e,i)=>{i.d(e,{Z:()=>b});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(8801),i.b),h=new URL(i(9462),i.b),u=new URL(i(3473),i.b),d=new URL(i(2867),i.b),p=o()(r()),f=l()(c),g=l()(h),v=l()(u),m=l()(d);p.push([t.id,"primary-stat {\r\n    display: inline-block;\r\n}\r\n\r\nprimary-stat .container {\r\n    width: 60px;\r\n    height: 60px;\r\n    background-size: contain;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\nprimary-stat > .container:not(.readonly) {\r\n    cursor: -webkit-grab;\r\n    cursor: grab;\r\n}\r\n\r\nprimary-stat .container.l {\r\n    width: 90px;\r\n    height: 90px;\r\n    font-size: 30px;\r\n}\r\n\r\nprimary-stat .container.s {\r\n    width: 45px;\r\n    height: 45px;\r\n    font-size: 13px;\r\n}\r\n\r\nprimary-stat .container.xs {\r\n    width: 36px;\r\n    height: 36px;\r\n    font-size: 10px;\r\n}\r\n\r\nprimary-stat .container.primary {\r\n    background-image: url("+f+");\r\n}\r\n\r\nprimary-stat .container.primary-angled {\r\n    background-image: url("+g+");\r\n}\r\n\r\nprimary-stat .container.secondary {\r\n    background-image: url("+v+");\r\n    width: 44px;\r\n    height: 44px;\r\n}\r\nprimary-stat .container.secondary.s {\r\n    width: 33px;\r\n    height: 33px;\r\n}\r\nprimary-stat .container.secondary.xs {\r\n    width: 24px;\r\n    height: 24px;\r\n}\r\n\r\nprimary-stat .container.secondary-angled {\r\n    background-image: url("+m+");\r\n}\r\n\r\nprimary-stat .container.active {\r\n    cursor: -webkit-grabbing;\r\n    cursor: grabbing;\r\n}\r\n\r\nprimary-stat .container .content {\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n            user-select: none;\r\n}\r\n\r\nprimary-stat .overlay {\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n}",""]);const b=p},9909:(t,e,i)=>{i.d(e,{Z:()=>f});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(164),i.b),h=new URL(i(2),i.b),u=o()(r()),d=l()(c),p=l()(h);u.push([t.id,"radio-button {\r\n    display: inline-block;\r\n    cursor: pointer;\r\n}\r\n\r\nradio-button .container {\r\n    background-size: contain;\r\n    width: 24px;\r\n    height: 24px;\r\n}\r\n\r\nradio-button .container.selected {\r\n    background-image: url("+d+");\r\n}\r\n\r\nradio-button .container.unselected {\r\n    background-image: url("+p+");\r\n}",""]);const f=u},835:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"text-box {\r\n    display: block;\r\n    margin: 30px;\r\n    float: left;\r\n    width: 300px;\r\n}\r\n\r\ntext-box > .container {\r\n    margin: 0 25px 20px 20px;\r\n}\r\n\r\ntext-box textarea {\r\n    font-family: 'Estonia', cursive;\r\n    font-size: 30px;\r\n    background-color: transparent;\r\n    font-weight: bold;\r\n\r\n    width: 100%;\r\n    border: none;\r\n    overflow: auto;\r\n    outline: none;\r\n    box-shadow: none;\r\n\r\n    resize: none;\r\n}",""]);const a=o},6140:(t,e,i)=>{i.d(e,{Z:()=>f});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(3356),i.b),h=new URL(i(1668),i.b),u=o()(r()),d=l()(c),p=l()(h);u.push([t.id,"footer {\r\n    display: block;\r\n}\r\n\r\nfooter .line {\r\n    background-image: url("+d+");\r\n    background-repeat: repeat-x;\r\n    background-size: contain;\r\n    height: 4px;\r\n    width: 100%;\r\n    display: inline-block;\r\n    transform: scaleY(-1);\r\n    align-self: center;\r\n}\r\n\r\nfooter .line-start {\r\n    background-image: url("+p+");\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: 18px;\r\n    width: 13px;\r\n    display: inline-block;\r\n    transform: scaleX(-1) scaleY(-1);\r\n    align-self: center;\r\n}\r\n\r\nfooter .line-end {\r\n    background-image: url("+p+");\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: 18px;\r\n    width: 13px;\r\n    display: inline-block; \r\n    transform: scaleY(-1);\r\n    align-self: center;\r\n}\r\n\r\nfooter .grid {\r\n    display: grid;\r\n    grid-template-columns: auto 1fr auto;\r\n    grid-template-rows: 1fr;\r\n}",""]);const f=u},6392:(t,e,i)=>{i.d(e,{Z:()=>d});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(8626),i.b),h=o()(r()),u=l()(c);h.push([t.id,"page-header {\r\n    display: block;\r\n    width: 100%;\r\n    margin-top: 20px;\r\n}\r\n\r\npage-header > .grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr auto 1fr;\r\n    grid-template-rows: 1fr;\r\n}\r\n\r\npage-header .name-box {\r\n    height: 150px;\r\n    width: 400px;\r\n    background-position: 50%;\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    background-image: url("+u+");\r\n    text-align: center;\r\n}\r\n\r\npage-header .name-box input {\r\n    margin-top: 30px;\r\n    text-align: center;\r\n    font-size: 70px;\r\n    width: 300px;\r\n    border: none;\r\n}",""]);const d=h},1525:(t,e,i)=>{i.d(e,{Z:()=>d});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(7283),i.b),h=o()(r()),u=l()(c);h.push([t.id,"rune-edge {\r\n    display: block;\r\n    width: 100%;\r\n    height: 20px;\r\n    background-size: contain;\r\n    background-repeat: repeat-x;\r\n    background-image: url("+u+");\r\n    margin: 45px 0;\r\n}",""]);const d=h},7015:(t,e,i)=>{i.d(e,{Z:()=>f});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(9462),i.b),h=new URL(i(8628),i.b),u=o()(r()),d=l()(c),p=l()(h);u.push([t.id,"sigil {\r\n    display: block;\r\n    height: auto;\r\n    float: left;\r\n}\r\n\r\nsigil > .container {\r\n    width: 130px;\r\n    height: 130px;\r\n    background-size: contain;\r\n    background-image: url("+d+");\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\nsigil > .container .sigil-image {\r\n    width: 70px;\r\n    height: 35px;\r\n    background-size: contain;\r\n    background-image: url("+p+");\r\n    mix-blend-mode: multiply;\r\n}",""]);const f=u},1939:(t,e,i)=>{i.d(e,{Z:()=>f});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(3356),i.b),h=new URL(i(1668),i.b),u=o()(r()),d=l()(c),p=l()(h);u.push([t.id,"title {\r\n    display: block;\r\n    height: auto;\r\n}\r\n\r\ntitle .text {\r\n    font-size: 18px;\r\n    color: darkred;\r\n    padding: 0 4px;\r\n    display: inline-block;\r\n}\r\n\r\ntitle .line {\r\n    background-image: url("+d+");\r\n    background-repeat: repeat-x;\r\n    background-size: contain;\r\n    height: 4px;\r\n    width: 100%;\r\n    display: inline-block;\r\n    margin-top: 15px;\r\n    align-self: center;\r\n}\r\n\r\ntitle .line-start {\r\n    background-image: url("+p+");\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: 18px;\r\n    width: 13px;\r\n    display: inline-block;\r\n    transform: scaleX(-1);\r\n    margin-top: 15px;\r\n    align-self: center;\r\n}\r\n\r\ntitle .line-end {\r\n    background-image: url("+p+");\r\n    background-size: contain;\r\n    background-repeat: no-repeat;\r\n    height: 18px;\r\n    width: 13px;\r\n    display: inline-block;\r\n    margin-top: 15px;\r\n    align-self: center;\r\n}\r\n\r\ntitle .grid {\r\n    display: grid;\r\n    grid-template-columns: auto 1fr auto auto auto 1fr auto;\r\n    grid-template-rows: 1fr;\r\n    \r\n}",""]);const f=u},1138:(t,e,i)=>{i.d(e,{Z:()=>d});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s),a=i(1667),l=i.n(a),c=new URL(i(4378),i.b),h=o()(r()),u=l()(c);h.push([t.id,".message {\n  background-color: red;\n}\n\nbody {\n  font-family: 'Eagle Lake', cursive;\n  font-size: 20px;\n  color: darkred;\n  background-image:  url("+u+");\n  background-color: #FBF5EB;\n  margin: 0;\n}\n\n.numbers {\n  font-family: 'MedievalSharp', cursive;\n}\n\n/*\nfont-family: 'Amatic SC', cursive;\nfont-family: 'Eagle Lake', cursive;\nfont-family: 'Estonia', cursive;\nfont-family: 'Fleur De Leah', cursive;\nfont-family: 'IM Fell DW Pica SC', serif;\nfont-family: 'IM Fell English SC', serif;\nfont-family: 'MedievalSharp', cursive;\n*/\n\n.monochrome {\n  filter: grayscale(100%);\n}\n\n.text {\n    font-size: 16px;\n    color: #446;\n}\n\ninput[type=\"text\"] {\n  border: none;\n  border-bottom: 2px solid #cbc1ad;\n  background: none;\n  padding: 0px 6px;\n  font-family: 'Estonia', cursive;\n  font-size: 30px;\n  font-weight: bold;\n  text-indent: 5px;\n}\n\ninput[type=\"text\"]:focus {\n  outline: none;\n}\n\ninput[type=\"text\"].specialisation {\n  text-align: center;\n  width: 150px;\n  color: #888;\n}\n\n::-moz-placeholder {\n  color: #bbb;\n  opacity: 1; /* Firefox */\n}\n\n::placeholder {\n  color: #bbb;\n  opacity: 1; /* Firefox */\n}",""]);const d=h},927:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"abilities-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nabilities-block > .container {\r\n    margin: 0 25px 20px 20px;\r\n}\r\n\r\nabilities-block .ability > * {\r\n    display: inline-block;\r\n}\r\n\r\nabilities-block .ability .name {\r\n    width: 200px;\r\n}\r\n\r\nabilities-block .ability.untrained .name {\r\n    opacity: 0.4;\r\n}\r\n\r\nabilities-block .ability .specialisation {\r\n    width: 150px;\r\n    text-align: center;\r\n}\r\n\r\nabilities-block .ability.untrained .specialisation {\r\n    opacity: 0;\r\n}\r\n\r\nabilities-block .add-item-input {\r\n    margin-top: 15px;\r\n    width: 200px;\r\n    border-bottom-style: dashed;\r\n}\r\n\r\nabilities-block .puissant-label {\r\n    width: 0;\r\n}",""]);const a=o},7804:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"active-magic-list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n    width: 366px;\r\n}\r\n\r\nactive-magic-list > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\nactive-magic-list > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nactive-magic-list > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nactive-magic-list .add-magic-input {\r\n    margin-top: 15px;\r\n    border-bottom-style: dashed;\r\n}",""]);const a=o},2012:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"age-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nage-block > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto;\r\n    grid-template-rows: auto auto auto 60px;\r\n}\r\n\r\nage-block > .grid > * {\r\n    align-self: center;\r\n    justify-self: center;\r\n    margin: 4px;\r\n}\r\n\r\nage-block > .grid > .left {\r\n    justify-self: left;\r\n}\r\n\r\nage-block > .grid > .right {\r\n    justify-self: right;\r\n}\r\n\r\nage-block > .grid > .bottom {\r\n    align-self: end;\r\n}\r\n\r\nage-block > .grid > .top {\r\n    align-self: baseline;\r\n}\r\n\r\nage-block .small-text {\r\n    font-size: 14px;\r\n}",""]);const a=o},5185:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"arts-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\narts-block > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto 40px auto auto auto auto  10px auto auto auto auto;\r\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr;\r\n}\r\n\r\narts-block > .grid > * {\r\n    align-self: center;\r\n    justify-self: left;\r\n    margin: 1px 2px;\r\n}\r\n\r\narts-block .untrained {\r\n    opacity: 0.4;\r\n}",""]);const a=o},3292:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"characteristics-block {\r\n    display: block;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    color: #446;\r\n    margin: 30px;\r\n    float: left;\r\n}\r\n\r\ncharacteristics-block > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\ncharacteristics-block .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto auto auto auto auto;\r\n    grid-template-rows: 1fr 1fr;\r\n}\r\n\r\ncharacteristics-block .grid > * {\r\n    align-self: center;\r\n}\r\n\r\ncharacteristics-block .grid .text.left-col {\r\n    justify-self: right;\r\n}\r\n\r\ncharacteristics-block .grid .text{\r\n    justify-self: left;\r\n    margin-left: 3px;\r\n    margin-right: 3px;\r\n}\r\n\r\n\r\ncharacteristics-block .grid primary-stat {\r\n    margin: 1px;\r\n}\r\n\r\ncharacteristics-block footer {\r\n    margin-top: 5px;\r\n}",""]);const a=o},4397:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"confidence-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}",""]);const a=o},6903:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"damage-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\ndamage-block > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\ndamage-block .wound-type {\r\n    display: inline-block;\r\n    margin: 0 10px;\r\n}\r\n\r\ndamage-block .wound-type:nth-child(1) {\r\n    display: inline-block;\r\n    margin-left: 0;\r\n}\r\n",""]);const a=o},1459:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"fatigue-block {\r\n    display: block;\r\n    margin: 30px;\r\n    min-width: 280px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nfatigue-block > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\nfatigue-block > .grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr auto auto;\r\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr;\r\n}\r\n\r\nfatigue-block > .grid > * {\r\n    align-self: center;\r\n}\r\n\r\nfatigue-block > .grid > .right {\r\n    justify-self: right;\r\n}\r\n\r\nfatigue-block radio-button {\r\n    margin-left: 5px;\r\n}",""]);const a=o},6964:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,'lab-modifications-list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    min-width: 845px;\r\n    float: left;\r\n}\r\n\r\nlab-modifications-list > .container {\r\n    padding: 10px 30px;\r\n    position: relative;\r\n}\r\n\r\nlab-modifications-list > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nlab-modifications-list > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nlab-modifications-list .add-item-input {\r\n    margin-top: 15px;\r\n    border-bottom-style: dashed;\r\n    width: 200px;\r\n}\r\n\r\nlab-modifications-list .container > .title {\r\n    display: block;\r\n    margin-top: 30px;\r\n}\r\n\r\nlab-modifications-list .grid > .name {\r\n    width: 200px;\r\n}\r\n\r\nlab-modifications-list .grid > .category {\r\n    width: 100px;\r\n    text-align: center;\r\n}\r\n\r\nlab-modifications-list .grid > .description {\r\n    width: 400px;\r\n}\r\n\r\nlab-modifications-list .add-item-input.add-modifier-input {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: -15px;\r\n    width: 60px;\r\n    text-align: center;\r\n}\r\n\r\nlab-modifications-list .modifier-titles {\r\n    position: absolute;\r\n    right: 32px;\r\n    top: 40px;\r\n}\r\n\r\nlab-modifications-list .modifier-title {\r\n    font-size: 9px;\r\n    display: inline-block;\r\n    width: 33px;\r\n    margin: 2px;\r\n    text-align: center;\r\n    font-family: "Eagle Lake", cursive;\r\n    border-bottom: none;\r\n    padding: 0px;\r\n    font-weight: unset;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\nlab-modifications-list .modifier-totals {\r\n    position: absolute;\r\n    right: 30px;\r\n    bottom: 20px;\r\n}\r\n\r\nlab-modifications-list .modifier-total {\r\n    font-size: 16px;\r\n    display: inline-block;\r\n    width: 33px;\r\n    margin: 2px;\r\n    text-align: center;\r\n}',""]);const a=o},8412:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"lab-stats {\r\n    display: block;\r\n    margin: 30px;\r\n    width: 1500px;\r\n    float: left;\r\n}\r\n\r\nlab-stats > .container {\r\n    padding: 10px 30px;\r\n    position: relative;\r\n}\r\n\r\nlab-stats > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\r\n    grid-auto-rows: 1fr 1fr 1fr;\r\n}\r\n\r\nlab-stats > .container > .grid > * {\r\n    align-self: center;\r\n    justify-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nlab-stats > .container > .grid > .text {\r\n    font-size: 10px;\r\n    text-align: center;\r\n}\r\n\r\nlab-stats .modifier-selector {\r\n    text-align: center;\r\n    width: 100px;\r\n}",""]);const a=o},3349:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"notes-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: 800px;\r\n    float: left;\r\n}\r\n\r\nnotes-block text-box {\r\n    width: 100%;\r\n}\r\n\r\n\r\nnotes-block text-box textarea {\r\n    height: 1200px;\r\n}",""]);const a=o},5555:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"personality-traits-list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\npersonality-traits-list > .container {\r\n    margin: 0 25px 20px 20px;\r\n}\r\n\r\npersonality-traits-list .add-item-input {\r\n    margin-top: 15px;\r\n    border-bottom-style: dashed;\r\n}\r\n\r\npersonality-traits-list primary-stat {\r\n    margin-left: 10px;;\r\n}",""]);const a=o},4467:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"research-projects {\r\n    display: block;\r\n    margin: 30px;\r\n    width: 1969px;\r\n    float: left;\r\n}\r\n\r\nresearch-projects > .container {\r\n    padding: 10px 30px;\r\n    position: relative;\r\n}\r\n\r\nresearch-projects .aura-bonus {\r\n    display: block;\r\n}\r\n\r\nresearch-projects .add-item-input {\r\n    margin-top: 15px;\r\n    width: 250px;\r\n    border-bottom-style: dashed;\r\n}\r\n\r\nresearch-projects > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nresearch-projects > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nresearch-projects .description {\r\n    width: 600px;\r\n    margin-left: 40px !important;\r\n    text-overflow: ellipsis;\r\n}\r\nresearch-projects .arts, research-projects .prerequisites {\r\n    width: 50px;\r\n    text-align: center;\r\n}\r\nresearch-projects .level {\r\n    margin-right: 40px !important;\r\n}\r\n\r\nresearch-projects .material, research-projects .shape {\r\n    width: 150px;\r\n    text-align: center;\r\n}\r\n\r\nresearch-projects .total {\r\n    margin-left: 40px !important;\r\n}",""]);const a=o},7624:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"spell-list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nspell-list > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\nspell-list > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nspell-list > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nspell-list .add-item-input {\r\n    margin-top: 15px;\r\n    width: 300px;\r\n    border-bottom-style: dashed;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text] {\r\n    width: 100px;\r\n    text-align: center;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].name {\r\n    width: 300px;\r\n    text-align: left;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].notes {\r\n    width: 300px;\r\n    text-align: left;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].arts {\r\n    width: 50px;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].prerequisites {\r\n    width: 50px;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].page {\r\n    width: 50px;\r\n}\r\n\r\nspell-list  > .container > .grid .casting-total-label {\r\n    width: 25px;\r\n}\r\n\r\nspell-list  > .container > .grid input[type=text].sigil {\r\n    width: 200px;\r\n}\r\n\r\nspell-list .spell {\r\n    position: relative;\r\n}\r\n\r\nspell-list .co-form .form-header::before {\r\n    content: 'Co';\r\n}\r\nspell-list .an-form .form-header::before {\r\n    content: 'An';\r\n}\r\nspell-list .au-form .form-header::before {\r\n    content: 'Au';\r\n}\r\nspell-list .aq-form .form-header::before {\r\n    content: 'Aq';\r\n}\r\nspell-list .he-form .form-header::before {\r\n    content: 'He';\r\n}\r\nspell-list .vi-form .form-header::before {\r\n    content: 'Vi';\r\n}\r\nspell-list .te-form .form-header::before {\r\n    content: 'Te';\r\n}\r\nspell-list .ig-form .form-header::before {\r\n    content: 'Ig';\r\n}\r\nspell-list .me-form .form-header::before {\r\n    content: 'Me';\r\n}\r\nspell-list .im-form .form-header::before {\r\n    content: 'Im';\r\n}\r\n\r\nspell-list .form-header::before {\r\n    position: absolute;\r\n    left: -25px;\r\n    top: 5px;\r\n    font-size: 16px;\r\n    color: #bbb;\r\n}\r\n\r\nspell-list .co-form ~ .co-form .form-header::before,\r\nspell-list .an-form ~ .an-form .form-header::before,\r\nspell-list .au-form ~ .au-form .form-header::before,\r\nspell-list .aq-form ~ .aq-form .form-header::before,\r\nspell-list .he-form ~ .he-form .form-header::before,\r\nspell-list .vi-form ~ .vi-form .form-header::before,\r\nspell-list .te-form ~ .te-form .form-header::before,\r\nspell-list .ig-form ~ .ig-form .form-header::before,\r\nspell-list .me-form ~ .me-form .form-header::before,\r\nspell-list .im-form ~ .im-form .form-header::before {\r\n    content: '';\r\n}",""]);const a=o},2244:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"spellcasting-modifiers-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: 1000px;\r\n    float: left;\r\n}\r\n\r\nspellcasting-modifiers-block > .container {\r\n    padding: 10px 30px;\r\n    position: relative;\r\n}\r\n\r\nspellcasting-modifiers-block > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\r\n    grid-auto-rows: 1fr 1fr;\r\n}\r\n\r\nspellcasting-modifiers-block > .container > .grid > * {\r\n    align-self: center;\r\n    justify-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nspellcasting-modifiers-block > .container > .grid > .text {\r\n    font-size: 10px;\r\n    text-align: center;\r\n}\r\n\r\nspellcasting-modifiers-block > .container > .grid .arts {\r\n    width: 60px;\r\n    text-align: center;\r\n}",""]);const a=o},2410:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"warping-block {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n    width: 420px;\r\n}\r\n\r\nwarping-block > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\nwarping-block > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nwarping-block > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nwarping-block .warping-level {\r\n    text-align: center;\r\n}\r\n\r\nwarping-block .add-effect-input {\r\n    margin-top: 15px;\r\n    border-bottom-style: dashed;\r\n}",""]);const a=o},8840:(t,e,i)=>{i.d(e,{Z:()=>a});var n=i(8081),r=i.n(n),s=i(3645),o=i.n(s)()(r());o.push([t.id,"xp-list {\r\n    display: block;\r\n    margin: 30px;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n    float: left;\r\n}\r\n\r\nxp-list > .container {\r\n    padding: 10px 30px;\r\n}\r\n\r\nxp-list > .container > .grid {\r\n    display: grid;\r\n    grid-template-columns: 70px 100px auto auto auto auto auto;\r\n    grid-auto-rows: 1fr;\r\n}\r\n\r\nxp-list > .container > .grid.past-xp-entry {\r\n    grid-template-columns: 70px 100px auto auto auto auto;\r\n    width: -webkit-fit-content;\r\n    width: -moz-fit-content;\r\n    width: fit-content;\r\n}\r\n\r\nxp-list > .container > .grid > * {\r\n    align-self: center;\r\n    margin: 1px 2px;\r\n}\r\n\r\nxp-list .description, xp-list .plans {\r\n    width: 400px;\r\n}\r\n\r\nxp-list .xp {\r\n    width: 600px;\r\n}\r\n\r\nxp-list .correspondence, xp-list .area-lore  {\r\n    width: 150px;\r\n}\r\n\r\nxp-list .separator {\r\n    height: 40px;\r\n}",""]);const a=o},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,s){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);n&&o[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),e.push(h))}},e}},1667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{t.exports=function(t){return t[1]}},3379:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},o=[],a=0;a<t.length;a++){var l=t[a],c=n.base?l[0]+n.base:l[0],h=s[c]||0,u="".concat(c," ").concat(h);s[c]=h+1;var d=i(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=r(p,n);n.byIndex=a,e.splice(a,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var s=n(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=i(s[o]);e[a].references--}for(var l=n(t,r),c=0;c<s.length;c++){var h=i(s[c]);0===e[h].references&&(e[h].updater(),e.splice(h,1))}s=l}}},569:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},8390:(t,e,i)=>{t.exports=i.p+"3747d62d05f8f09fb741.png"},3208:(t,e,i)=>{t.exports=i.p+"b037ca7f505f5c048bae.png"},164:(t,e,i)=>{t.exports=i.p+"5c3d1b2ce7bb3793be6e.png"},2:(t,e,i)=>{t.exports=i.p+"2b9f9a8912419b0f4b69.png"},2867:(t,e,i)=>{t.exports=i.p+"fe3a2cf273f4367e50c9.png"},3473:(t,e,i)=>{t.exports=i.p+"60e08010af0453fec957.png"},9462:(t,e,i)=>{t.exports=i.p+"c945e6443b532c587958.png"},8801:(t,e,i)=>{t.exports=i.p+"8a70e34efeda3124235b.png"},7283:(t,e,i)=>{t.exports=i.p+"33cbb501e4e522021025.png"},1668:(t,e,i)=>{t.exports=i.p+"92bd8516e50642f8233a.png"},3356:(t,e,i)=>{t.exports=i.p+"5bd76dab3a9d835f39f2.png"},8626:(t,e,i)=>{t.exports=i.p+"ec6a054a75f35ddbe8db.png"},4378:(t,e,i)=>{t.exports=i.p+"4a319709cc0699c694dc.png"},8628:(t,e,i)=>{t.exports=i.p+"f61728c0cc37358d9345.png"}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,exports:{}};return t[n](s,s.exports,i),s.exports}i.m=t,i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t+"../"})(),i.b=document.baseURI||self.location.href,i.nc=void 0,(()=>{var t={};i.r(t),i.d(t,{default:()=>Wv,dependencies:()=>Kv,name:()=>Hv,register:()=>Xv,template:()=>_v});var e={};i.r(e),i.d(e,{PrimaryStat:()=>Yv});var n={};i.r(n),i.d(n,{default:()=>nm,dependencies:()=>rm,name:()=>em,register:()=>om,template:()=>im});var r={};i.r(r),i.d(r,{Title:()=>am});var s={};i.r(s),i.d(s,{default:()=>dm,dependencies:()=>pm,name:()=>hm,register:()=>gm,template:()=>um});var o={};i.r(o),i.d(o,{Footer:()=>vm});var a={};i.r(a),i.d(a,{default:()=>ym,dependencies:()=>wm,name:()=>mm,register:()=>km,template:()=>bm});var l={};i.r(l),i.d(l,{CharacteristicsBlock:()=>ab});var c={};i.r(c),i.d(c,{default:()=>fb,dependencies:()=>gb,name:()=>db,register:()=>mb,template:()=>pb});var h={};i.r(h),i.d(h,{RadioButton:()=>bb});var u={};i.r(u),i.d(u,{default:()=>xb,dependencies:()=>kb,name:()=>yb,register:()=>$b,template:()=>wb});var d={};i.r(d),i.d(d,{FatigueBlock:()=>Sb});var p={};i.r(p),i.d(p,{default:()=>Mb,dependencies:()=>Lb,name:()=>Ob,register:()=>Ib,template:()=>Pb});var f={};i.r(f),i.d(f,{Checkbox:()=>Bb});var g={};i.r(g),i.d(g,{default:()=>Vb,dependencies:()=>zb,name:()=>Ub,register:()=>Fb,template:()=>Nb});var v={};i.r(v),i.d(v,{AbilitiesBlock:()=>qb});var m={};i.r(m),i.d(m,{default:()=>Kb,dependencies:()=>Qb,name:()=>_b,register:()=>Gb,template:()=>Wb});var b={};i.r(b),i.d(b,{List:()=>Yb});var y={};i.r(y),i.d(y,{default:()=>ey,dependencies:()=>iy,name:()=>Jb,register:()=>ry,template:()=>ty});var w={};i.r(w),i.d(w,{VirtuesList:()=>sy});var x={};i.r(x),i.d(x,{default:()=>ly,dependencies:()=>cy,name:()=>oy,register:()=>uy,template:()=>ay});var k={};i.r(k),i.d(k,{FlawsList:()=>dy});var A={};i.r(A),i.d(A,{default:()=>my,dependencies:()=>by,name:()=>gy,register:()=>wy,template:()=>vy});var $={};i.r($),i.d($,{TextBox:()=>xy});var S={};i.r(S),i.d(S,{default:()=>$y,dependencies:()=>Sy,name:()=>ky,register:()=>Ey,template:()=>Ay});var T={};i.r(T),i.d(T,{DescriptionBlock:()=>Cy});var E={};i.r(E),i.d(E,{default:()=>Ly,dependencies:()=>jy,name:()=>Py,register:()=>By,template:()=>My});var C={};i.r(C),i.d(C,{ArtsBlock:()=>Uy});var R={};i.r(R),i.d(R,{default:()=>Fy,dependencies:()=>qy,name:()=>zy,register:()=>Hy,template:()=>Dy});var O={};i.r(O),i.d(O,{SpellList:()=>_y});var P={};i.r(P),i.d(P,{default:()=>Gy,dependencies:()=>Yy,name:()=>Qy,register:()=>tw,template:()=>Xy});var M={};i.r(M),i.d(M,{DamageBlock:()=>ew});var L={};i.r(L),i.d(L,{default:()=>ow,dependencies:()=>aw,name:()=>rw,register:()=>cw,template:()=>sw});var j={};i.r(j),i.d(j,{PersonalityTraitsList:()=>hw});var I={};i.r(I),i.d(I,{default:()=>gw,dependencies:()=>vw,name:()=>pw,register:()=>bw,template:()=>fw});var B={};i.r(B),i.d(B,{AgeBlock:()=>yw});var U={};i.r(U),i.d(U,{default:()=>$w,dependencies:()=>Sw,name:()=>kw,register:()=>Ew,template:()=>Aw});var N={};i.r(N),i.d(N,{ConfidenceBlock:()=>Cw});var V={};i.r(V),i.d(V,{default:()=>Lw,dependencies:()=>jw,name:()=>Pw,register:()=>Bw,template:()=>Mw});var z={};i.r(z),i.d(z,{WarpingBlock:()=>Uw});var D={};i.r(D),i.d(D,{default:()=>Fw,dependencies:()=>qw,name:()=>zw,register:()=>Hw,template:()=>Dw});var F={};i.r(F),i.d(F,{ActiveMagicList:()=>_w});var q={};i.r(q),i.d(q,{default:()=>Gw,dependencies:()=>Yw,name:()=>Qw,register:()=>tx,template:()=>Xw});var Z={};i.r(Z),i.d(Z,{XpList:()=>ex});var H={};i.r(H),i.d(H,{default:()=>ox,dependencies:()=>ax,name:()=>rx,register:()=>cx,template:()=>sx});var _={};i.r(_),i.d(_,{NotesBlock:()=>hx});var W={};i.r(W),i.d(W,{default:()=>gx,dependencies:()=>vx,name:()=>px,register:()=>bx,template:()=>fx});var K={};i.r(K),i.d(K,{LabModificationsList:()=>yx});var Q={};i.r(Q),i.d(Q,{default:()=>$x,dependencies:()=>Sx,name:()=>kx,register:()=>Ex,template:()=>Ax});var X={};i.r(X),i.d(X,{ResearchProjects:()=>Cx});var G={};i.r(G),i.d(G,{default:()=>Lx,dependencies:()=>jx,name:()=>Px,register:()=>Bx,template:()=>Mx});var Y={};i.r(Y),i.d(Y,{LabStats:()=>Ux});var J={};i.r(J),i.d(J,{default:()=>Fx,dependencies:()=>qx,name:()=>zx,register:()=>Hx,template:()=>Dx});var tt={};i.r(tt),i.d(tt,{SpellcastingModifiersBlock:()=>_x});var et={};i.r(et),i.d(et,{default:()=>Gx,dependencies:()=>Yx,name:()=>Qx,register:()=>tk,template:()=>Xx});var it={};i.r(it),i.d(it,{RuneEdge:()=>ek});var nt={};i.r(nt),i.d(nt,{default:()=>ok,dependencies:()=>ak,name:()=>rk,register:()=>ck,template:()=>sk});var rt={};i.r(rt),i.d(rt,{PageHeader:()=>hk});var st={};i.r(st),i.d(st,{default:()=>gk,dependencies:()=>vk,name:()=>pk,register:()=>bk,template:()=>fk});var ot={};i.r(ot),i.d(ot,{Sigil:()=>yk});var at={};function lt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ct(t){return null==t}i.r(at),i.d(at,{default:()=>kk,dependencies:()=>Ak,name:()=>wk,register:()=>Sk,template:()=>xk});let ht=new WeakMap;function ut(t,e,i,n,r){return new TypeError(`${t}(${e.map(String).join(",")}) - Expected '${i}' to be of type ${r}, but got: ${Object.prototype.toString.call(n)} (${String(n)})`)}function dt(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:return`${t}`}}function pt(t,e,i){let n=ht.get(t);if(void 0===n){if(!i)return;n=new Map,ht.set(t,n)}let r=n.get(e);if(void 0===r){if(!i)return;r=new Map,n.set(e,r)}return r}function ft(t,e,i){const n=pt(e,i,!1);return void 0!==n&&n.has(t)}function gt(t,e,i){if(ft(t,e,i))return!0;const n=Object.getPrototypeOf(e);return null!==n&&gt(t,n,i)}function vt(t,e,i){const n=pt(e,i,!1);if(void 0!==n)return n.get(t)}function mt(t,e,i){if(ft(t,e,i))return vt(t,e,i);const n=Object.getPrototypeOf(e);return null!==n?mt(t,n,i):void 0}function bt(t,e,i,n){pt(i,n,!0).set(t,e)}function yt(t,e){const i=[],n=pt(t,e,!1);if(void 0===n)return i;const r=n.keys();let s=0;for(const t of r)i[s]=t,++s;return i}function wt(t,e){const i=yt(t,e),n=Object.getPrototypeOf(t);if(null===n)return i;const r=wt(n,e),s=i.length;if(0===s)return r;const o=r.length;if(0===o)return i;const a=new Set,l=[];let c,h=0;for(let t=0;t<s;++t)c=i[t],a.has(c)||(a.add(c),l[h]=c,++h);for(let t=0;t<o;++t)c=r[t],a.has(c)||(a.add(c),l[h]=c,++h);return l}function xt(t,e){return function(i,n){if(!lt(i))throw ut("@metadata",[t,e,i,n],"target",i,"Object or Function");bt(t,e,i,function(t){switch(typeof t){case"undefined":case"string":case"symbol":return t;default:throw new TypeError(`Invalid metadata propertyKey: ${t}.`)}}(n))}}function kt(t,e,i,n){if(void 0!==i){if(!Array.isArray(t))throw ut("Metadata.decorate",[t,e,i,n],"decorators",t,"Array");if(!lt(e))throw ut("Metadata.decorate",[t,e,i,n],"target",e,"Object or Function");if(!lt(n)&&!ct(n))throw ut("Metadata.decorate",[t,e,i,n],"attributes",n,"Object, Function, null, or undefined");return null===n&&(n=void 0),function(t,e,i,n){for(let r=t.length-1;r>=0;--r){const s=(0,t[r])(e,i,n);if(!ct(s)){if(!lt(s))throw ut("DecorateProperty",[t,e,i,n],"decorated",s,"Object, Function, null, or undefined");n=s}}return n}(t,e,i=function(t){switch(typeof t){case"string":case"symbol":return t;default:return`${t}`}}(i),n)}if(!Array.isArray(t))throw ut("Metadata.decorate",[t,e,i,n],"decorators",t,"Array");if("function"!=typeof e)throw ut("Metadata.decorate",[t,e,i,n],"target",e,"Function");return function(t,e){for(let i=t.length-1;i>=0;--i){const n=(0,t[i])(e);if(!ct(n)){if("function"!=typeof n)throw ut("DecorateConstructor",[t,e],"decorated",n,"Function, null, or undefined");e=n}}return e}(t,e)}function At(t,e,i,n){if(!lt(i))throw ut("Metadata.define",[t,e,i,n],"target",i,"Object or Function");return bt(t,e,i,dt(n))}function $t(t,e,i){if(!lt(e))throw ut("Metadata.has",[t,e,i],"target",e,"Object or Function");return gt(t,e,dt(i))}function St(t,e,i){if(!lt(e))throw ut("Metadata.hasOwn",[t,e,i],"target",e,"Object or Function");return ft(t,e,dt(i))}function Tt(t,e,i){if(!lt(e))throw ut("Metadata.get",[t,e,i],"target",e,"Object or Function");return mt(t,e,dt(i))}function Et(t,e,i){if(!lt(e))throw ut("Metadata.getOwn",[t,e,i],"target",e,"Object or Function");return vt(t,e,dt(i))}function Ct(t,e){if(!lt(t))throw ut("Metadata.getKeys",[t,e],"target",t,"Object or Function");return wt(t,dt(e))}function Rt(t,e){if(!lt(t))throw ut("Metadata.getOwnKeys",[t,e],"target",t,"Object or Function");return yt(t,dt(e))}function Ot(t,e,i){if(!lt(e))throw ut("Metadata.delete",[t,e,i],"target",e,"Object or Function");return function(t,e,i){const n=pt(t,i,!1);return void 0!==n&&n.delete(e)}(e,t,dt(i))}const Pt={define:At,has:$t,hasOwn:St,get:Tt,getOwn:Et,getKeys:Ct,getOwnKeys:Rt,delete:Ot};function Mt(t,e,i,n,r){if(!Reflect.defineProperty(t,e,{writable:n,enumerable:!1,configurable:r,value:i}))throw new Error(`Unable to apply metadata polyfill: could not add property '${e}' to the global Reflect object`)}const Lt="[[$au]]";function jt(t,e,i){Mt(t,Lt,ht,e,i),Mt(t,"metadata",xt,e,i),Mt(t,"decorate",kt,e,i),Mt(t,"defineMetadata",At,e,i),Mt(t,"hasMetadata",$t,e,i),Mt(t,"hasOwnMetadata",St,e,i),Mt(t,"getMetadata",Tt,e,i),Mt(t,"getOwnMetadata",Et,e,i),Mt(t,"getMetadataKeys",Ct,e,i),Mt(t,"getOwnMetadataKeys",Rt,e,i),Mt(t,"deleteMetadata",Ot,e,i)}const It=Pt.getOwn,Bt=Pt.hasOwn,Ut=Pt.define,Nt=t=>"function"==typeof t,Vt=t=>"string"==typeof t,zt=()=>Object.create(null),Dt={};function Ft(t){switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=Dt[t];if(void 0!==e)return e;const i=t.length;if(0===i)return Dt[t]=!1;let n=0,r=0;for(;r<i;++r)if(n=t.charCodeAt(r),0===r&&48===n&&i>1||n<48||n>57)return Dt[t]=!1;return Dt[t]=!0}default:return!1}}function qt(t){switch(typeof t){case"number":case"bigint":return!0;default:return!1}}function Zt(t){switch(typeof t){case"string":return!0;case"object":return t instanceof Date;default:return!1}}const Ht=function(){let t;!function(t){t[t.none=0]="none",t[t.digit=1]="digit",t[t.upper=2]="upper",t[t.lower=3]="lower"}(t||(t={}));const e=Object.assign(zt(),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function i(t){return""===t?0:t!==t.toUpperCase()?3:t!==t.toLowerCase()?2:!0===e[t]?1:0}return function(t,e){const n=t.length;if(0===n)return t;let r,s=!1,o="",a="",l=0,c=t.charAt(0),h=i(c),u=0;for(;u<n;++u)r=l,a=c,l=h,c=t.charAt(u+1),h=i(c),0===l?o.length>0&&(s=!0):(!s&&o.length>0&&2===l&&(s=3===r||3===h),o+=e(a,s),s=!1);return o}}(),_t=function(){const t=zt();function e(t,e){return e?t.toUpperCase():t.toLowerCase()}return function(i){let n=t[i];return void 0===n&&(n=t[i]=Ht(i,e)),n}}(),Wt=function(){const t=zt();return function(e){let i=t[e];return void 0===i&&(i=_t(e),i.length>0&&(i=i[0].toUpperCase()+i.slice(1)),t[e]=i),i}}(),Kt=function(){const t=zt();function e(t,e){return e?`-${t.toLowerCase()}`:t.toLowerCase()}return function(i){let n=t[i];return void 0===n&&(n=t[i]=Ht(i,e)),n}}();function Qt(t){const{length:e}=t,i=Array(e);let n=0;for(;n<e;++n)i[n]=t[n];return i}const Xt={};function Gt(t){return void 0===Xt[t]&&(Xt[t]=0),++Xt[t]}function Yt(t,e){return t-e}function Jt(t,e,i){return{configurable:!0,enumerable:i.enumerable,get(){const t=i.value.bind(this);return Reflect.defineProperty(this,e,{value:t,writable:!0,configurable:!0,enumerable:i.enumerable}),t}}}function te(...t){const e=[];let i=0;const n=t.length;let r,s=0,o=0;for(;o<n;++o)if(r=t[o],void 0!==r){s=r.length;let t=0;for(;t<s;++t)e[i++]=r[t]}return e}function ee(...t){const e=t.length;let i,n=0;for(;e>n;++n)if(i=t[n],void 0!==i)return i;throw new Error("No default value found")}const ie=function(){const t=Function.prototype,e=Object.getPrototypeOf,i=new WeakMap;let n,r=t,s=0;return function(o){if(n=i.get(o),void 0===n)for(i.set(o,n=[r=o]),s=0;(r=e(r))!==t;)n[++s]=r;return n}}();function ne(...t){return Object.assign(zt(),...t)}const re=function(){const t=new WeakMap;let e=!1,i="",n=0;return function(r){return e=t.get(r),void 0===e&&(i=r.toString(),n=i.length,e=n>=29&&n<=100&&125===i.charCodeAt(n-1)&&i.charCodeAt(n-2)<=32&&93===i.charCodeAt(n-3)&&101===i.charCodeAt(n-4)&&100===i.charCodeAt(n-5)&&111===i.charCodeAt(n-6)&&99===i.charCodeAt(n-7)&&32===i.charCodeAt(n-8)&&101===i.charCodeAt(n-9)&&118===i.charCodeAt(n-10)&&105===i.charCodeAt(n-11)&&116===i.charCodeAt(n-12)&&97===i.charCodeAt(n-13)&&110===i.charCodeAt(n-14)&&88===i.charCodeAt(n-15),t.set(r,e)),e}}();function se(t,e){return t instanceof Promise?t.then(e):e(t)}function oe(...t){let e,i,n,r=0,s=t.length;for(;r<s;++r)e=t[r],(e=t[r])instanceof Promise&&(void 0===i?i=e:void 0===n?n=[i,e]:n.push(e));return void 0===n?i:Promise.all(n)}const ae="au:annotation",le=(t,e)=>void 0===e?`${ae}:${t}`:`${ae}:${t}:${e}`,ce=(t,e)=>{const i=It(ae,t);void 0===i?Ut(ae,[e],t):i.push(e)},he=Object.freeze({name:"au:annotation",appendTo:ce,set(t,e,i){Ut(le(e),i,t)},get:(t,e)=>It(le(e),t),getKeys(t){let e=It(ae,t);return void 0===e&&Ut(ae,e=[],t),e},isKey:t=>t.startsWith(ae),keyFor:le}),ue="au:resource",de=Object.freeze({name:ue,appendTo(t,e){const i=It(ue,t);void 0===i?Ut(ue,[e],t):i.push(e)},has:t=>Bt(ue,t),getAll(t){const e=It(ue,t);return void 0===e?ii:e.map((e=>It(e,t)))},getKeys(t){let e=It(ue,t);return void 0===e&&Ut(ue,e=[],t),e},isKey:t=>t.startsWith(ue),keyFor:(t,e)=>void 0===e?`${ue}:${t}`:`${ue}:${t}:${e}`}),pe={annotation:he,resource:de},fe=Object.prototype.hasOwnProperty;function ge(t,e,i,n){let r=It(le(t),i);return void 0===r?(r=e[t],void 0===r?(r=i[t],void 0!==r&&fe.call(i,t)?r:n()):r):r}function ve(t,e,i){let n=It(le(t),e);return void 0===n?(n=e[t],void 0!==n&&fe.call(e,t)?n:i()):n}function me(t,e,i){const n=e[t];return void 0===n?i():n}!function(t,e=!0,i=!1,n=!0,r=!0){if(function(t){return Lt in t}(t)){if(t[Lt]===ht)return;if(t[Lt]instanceof WeakMap)return void(ht=t[Lt]);throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const s=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(t){return t in Reflect}));if(s.length>0){if(e){const t=s.map((function(t){return`${t}:\n${Reflect[t].toString().slice(0,100)}...`})).join("\n\n");throw new Error(`Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n${t}`)}i&&jt(t,n,r)}else jt(t,n,r)}(Reflect,!1,!1);class be{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,Xe(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:i,key:n}=this;return this.container=this.key=void 0,i.registerResolver(n,new Ue(n,t,e))}}function ye(t){const e=t.slice(),i=Object.keys(t),n=i.length;let r;for(let s=0;s<n;++s)r=i[s],Ft(r)||(e[r]=t[r]);return e}const we={none(t){throw Error(`AUR0002:${t.toString()}`)},singleton:t=>new Ue(t,1,t),transient:t=>new Ue(t,2,t)};class xe{constructor(t,e){this.inheritParentResources=t,this.defaultResolver=e}static from(t){var e,i;return void 0===t||t===xe.DEFAULT?xe.DEFAULT:new xe(null!==(e=t.inheritParentResources)&&void 0!==e&&e,null!==(i=t.defaultResolver)&&void 0!==i?i:we.singleton)}}xe.DEFAULT=xe.from({});const ke={createContainer:t=>new We(null,xe.from(t)),getDesignParamtypes:t=>It("design:paramtypes",t),getAnnotationParamtypes(t){const e=le("di:paramtypes");return It(e,t)},getOrCreateAnnotationParamTypes:$e,getDependencies:Ae,createInterface(t,e){const i=Nt(t)?t:e,n=Vt(t)?t:void 0,r=function(t,e,i){if(null==t||void 0!==new.target)throw new Error(`AUR0001:${r.friendlyName}`);$e(t)[i]=r};return r.$isInterface=!0,r.friendlyName=null==n?"(anonymous)":n,null!=i&&(r.register=function(t,e){return i(new be(t,null!=e?e:r))}),r.toString=function(){return`InterfaceSymbol<${r.friendlyName}>`},r},inject:(...t)=>function(e,i,n){if("number"==typeof n){const i=$e(e),r=t[0];void 0!==r&&(i[n]=r)}else if(i){const n=$e(e.constructor),r=t[0];void 0!==r&&(n[i]=r)}else if(n){const e=$e(n.value);let i;for(let n=0;n<t.length;++n)i=t[n],void 0!==i&&(e[n]=i)}else{const i=$e(e);let n;for(let e=0;e<t.length;++e)n=t[e],void 0!==n&&(i[e]=n)}},transient:t=>(t.register=function(e){return Ge.transient(t,t).register(e,t)},t.registerInRequestor=!1,t),singleton:(t,e=Oe)=>(t.register=function(e){return Ge.singleton(t,t).register(e,t)},t.registerInRequestor=e.scoped,t)};function Ae(t){const e=le("di:dependencies");let i=It(e,t);if(void 0===i){const n=t.inject;if(void 0===n){const e=ke.getDesignParamtypes(t),n=ke.getAnnotationParamtypes(t);if(void 0===e)if(void 0===n){const e=Object.getPrototypeOf(t);i=Nt(e)&&e!==Function.prototype?ye(Ae(e)):[]}else i=ye(n);else if(void 0===n)i=ye(e);else{i=ye(e);let t,r=n.length,s=0;for(;s<r;++s)t=n[s],void 0!==t&&(i[s]=t);const o=Object.keys(n);let a;for(s=0,r=o.length,s=0;s<r;++s)a=o[s],Ft(a)||(i[a]=n[a])}}else i=ye(n);Ut(e,i,t),ce(t,e)}return i}function $e(t){const e=le("di:paramtypes");let i=It(e,t);return void 0===i&&(Ut(e,i=[],t),ce(t,e)),i}const Se=ke.createInterface("IContainer"),Te=Se;function Ee(t){return function(e){const i=function(t,e,n){ke.inject(i)(t,e,n)};return i.$isResolver=!0,i.resolve=function(i,n){return t(e,i,n)},i}}function Ce(t){return ke.transient(t)}function Re(t){return null==t?Ce:Ce(t)}ke.inject;const Oe={scoped:!1},Pe=function(t,e){e=!!e;const i=function(t,e,n){ke.inject(i)(t,e,n)};return i.$isResolver=!0,i.resolve=function(i,n){return((t,e,i,n)=>i.getAll(t,n))(t,0,n,e)},i},Me=(Ee(((t,e,i)=>()=>i.get(t))),Ee(((t,e,i)=>i.has(t,!0)?i.get(t):void 0)));function Le(t,e,i){ke.inject(Le)(t,e,i)}function je(t,e,i){return e.getFactory(t).construct(i)}var Ie,Be;Le.$isResolver=!0,Le.resolve=()=>{},Ee(((t,e,i)=>(...n)=>e.getFactory(t).construct(i,n))),Ee(((t,e,i)=>{const n=je(t,e,i),r=new Ye(String(t),n);return i.registerResolver(t,r,!0),n})),Ee(((t,e,i)=>je(t,e,i))),(Be=Ie||(Ie={}))[Be.instance=0]="instance",Be[Be.singleton=1]="singleton",Be[Be.transient=2]="transient",Be[Be.callback=3]="callback",Be[Be.array=4]="array",Be[Be.alias=5]="alias";class Ue{constructor(t,e,i){this.key=t,this.strategy=e,this.state=i,this.resolving=!1}get $isResolver(){return!0}register(t,e){return t.registerResolver(e||this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`AUR0003:${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state;case 2:{const i=t.getFactory(this.state);if(null===i)throw new Error(`AUR0004:${String(this.key)}`);return i.construct(e)}case 3:return this.state(t,e,this);case 4:return this.state[0].resolve(t,e);case 5:return e.get(this.state);default:throw new Error(`AUR0005:${this.strategy}`)}}getFactory(t){var e,i,n;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return null!==(n=null===(i=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===i?void 0:i.call(e,t))&&void 0!==n?n:null;default:return null}}}function Ne(t){return this.get(t)}function Ve(t,e){return e(t)}class ze{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let i;return i=void 0===e?new this.Type(...this.dependencies.map(Ne,t)):new this.Type(...this.dependencies.map(Ne,t),...e),null==this.transformers?i:this.transformers.reduce(Ve,i)}registerTransformer(t){var e;(null!==(e=this.transformers)&&void 0!==e?e:this.transformers=[]).push(t)}}const De={$isResolver:!0,resolve:(t,e)=>e};function Fe(t){return Nt(t.register)}function qe(t){return function(t){return Fe(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}function Ze(t){return void 0!==t.prototype}const He=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]);let _e=0;class We{constructor(t,e){this.parent=t,this.config=e,this.id=++_e,this.t=0,this.i=new Map,null===t?(this.root=this,this.u=new Map,this.h=new Map,this.res=zt()):(this.root=t.root,this.u=new Map,this.h=t.h,e.inheritParentResources?this.res=Object.assign(zt(),t.res,this.root.res):this.res=zt()),this.u.set(Se,De)}get depth(){return null===this.parent?0:this.parent.depth+1}register(...t){if(100==++this.t)throw new Error(`AUR0006:${t.map(String)}`);let e,i,n,r,s,o=0,a=t.length;for(;o<a;++o)if(e=t[o],lt(e))if(Fe(e))e.register(this);else if(pe.resource.has(e)){const t=pe.resource.getAll(e);if(1===t.length)t[0].register(this);else for(r=0,s=t.length;s>r;)t[r].register(this),++r}else if(Ze(e))Ge.singleton(e,e).register(this);else for(i=Object.keys(e),r=0,s=i.length;r<s;++r)n=e[i[r]],lt(n)&&(Fe(n)?n.register(this):this.register(n));return--this.t,this}registerResolver(t,e,i=!1){Je(t);const n=this.u,r=n.get(t);if(null==r){if(n.set(t,e),function(t){return Vt(t)&&t.indexOf(":")>0}(t)){if(void 0!==this.res[t])throw new Error(`AUR0007:${t}`);this.res[t]=e}}else r instanceof Ue&&4===r.strategy?r.state.push(e):n.set(t,new Ue(t,4,[r,e]));return i&&this.i.set(t,e),e}registerTransformer(t,e){const i=this.getResolver(t);if(null==i)return!1;if(i.getFactory){const t=i.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(Je(t),void 0!==t.resolve)return t;let i,n=this;for(;null!=n;){if(i=n.u.get(t),null!=i)return i;if(null==n.parent){const i=qe(t)?this:n;return e?this.R(t,i):null}n=n.parent}return null}has(t,e=!1){return!!this.u.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(Je(t),t.$isResolver)return t.resolve(this,this);let e,i=this;for(;null!=i;){if(e=i.u.get(t),null!=e)return e.resolve(i,this);if(null==i.parent){const n=qe(t)?this:i;return e=this.R(t,n),e.resolve(i,this)}i=i.parent}throw new Error(`AUR0008:${String(t)}`)}getAll(t,e=!1){Je(t);const i=this;let n,r=i;if(e){let e=ii;for(;null!=r;)n=r.u.get(t),null!=n&&(e=e.concat(ti(n,r,i))),r=r.parent;return e}for(;null!=r;){if(n=r.u.get(t),null!=n)return ti(n,r,i);if(r=r.parent,null==r)return ii}return ii}invoke(t,e){if(re(t))throw ei(t);return void 0===e?new t(...Ae(t).map(Ne,this)):new t(...Ae(t).map(Ne,this),...e)}getFactory(t){let e=this.h.get(t);if(void 0===e){if(re(t))throw ei(t);this.h.set(t,e=new ze(t,Ae(t)))}return e}registerFactory(t,e){this.h.set(t,e)}createChild(t){return void 0===t&&this.config.inheritParentResources?this.config===xe.DEFAULT?new We(this,this.config):new We(this,xe.from({...this.config,inheritParentResources:!1})):new We(this,xe.from(null!=t?t:this.config))}disposeResolvers(){const t=this.u,e=this.i;let i,n;for([n,i]of e.entries())i.dispose(),t.delete(n);e.clear()}find(t,e){const i=t.keyFrom(e);let n=this.res[i];if(void 0===n&&(n=this.root.res[i],void 0===n))return null;if(null===n)return null;if(Nt(n.getFactory)){const e=n.getFactory(this);if(null==e)return null;const i=It(t.name,e.Type);return void 0===i?null:i}return null}create(t,e){var i,n;const r=t.keyFrom(e);let s=this.res[r];return void 0===s?(s=this.root.res[r],void 0===s?null:null!==(i=s.resolve(this.root,this))&&void 0!==i?i:null):null!==(n=s.resolve(this,this))&&void 0!==n?n:null}dispose(){this.i.size>0&&this.disposeResolvers(),this.u.clear()}R(t,e){if(!Nt(t))throw new Error(`AUR0009:${t}`);if(He.has(t.name))throw new Error(`AUR0010:${t.name}`);if(Fe(t)){const i=t.register(e,t);if(!(i instanceof Object)||null==i.resolve){const i=e.u.get(t);if(null!=i)return i;throw new Error("AUR0011")}return i}if(pe.resource.has(t)){const i=pe.resource.getAll(t);if(1===i.length)i[0].register(e);else{const t=i.length;for(let n=0;n<t;++n)i[n].register(e)}const n=e.u.get(t);if(null!=n)return n;throw new Error("AUR0011")}if(t.$isInterface)throw new Error(`AUR0012:${t.friendlyName}`);{const i=this.config.defaultResolver(t,e);return e.u.set(t,i),i}}}class Ke{constructor(t,e){this.key=t,this.params=e}register(t){t.has(this.key,!0)?t.get(this.key).register(t,...this.params):t.register(...this.params.filter((t=>"object"==typeof t)))}}const Qe=new WeakMap;function Xe(t){return function(e,i,n){let r=Qe.get(e);if(void 0===r&&Qe.set(e,r=new WeakMap),r.has(n))return r.get(n);const s=t(e,i,n);return r.set(n,s),s}}const Ge={instance:(t,e)=>new Ue(t,0,e),singleton:(t,e)=>new Ue(t,1,e),transient:(t,e)=>new Ue(t,2,e),callback:(t,e)=>new Ue(t,3,e),cachedCallback:(t,e)=>new Ue(t,3,Xe(e)),aliasTo:(t,e)=>new Ue(e,5,t),defer:(t,...e)=>new Ke(t,e)};class Ye{constructor(t,e){this.C=null,this.$=t,void 0!==e&&(this.C=e)}get friendlyName(){return this.$}prepare(t){this.C=t}get $isResolver(){return!0}resolve(){if(null==this.C)throw new Error(`AUR0013:${this.$}`);return this.C}dispose(){this.C=null}}function Je(t){if(null==t)throw new Error("AUR0014")}function ti(t,e,i){if(t instanceof Ue&&4===t.strategy){const n=t.state;let r=n.length;const s=new Array(r);for(;r--;)s[r]=n[r].resolve(e,i);return s}return[t.resolve(e,i)]}function ei(t){return new Error(`AUR0015:${t.name}`)}const ii=Object.freeze([]),ni=Object.freeze({});function ri(){}const si=ke.createInterface("IPlatform");function oi(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function ai(t,e){return function(i,n){e(i,n,t)}}var li,ci;!function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.fatal=5]="fatal",t[t.none=6]="none"}(li||(li={})),function(t){t[t.noColors=0]="noColors",t[t.colors=1]="colors"}(ci||(ci={}));const hi=ke.createInterface("ILogConfig",(t=>t.instance(new mi(0,3)))),ui=ke.createInterface("ISink"),di=ke.createInterface("ILogEventFactory",(t=>t.singleton(xi))),pi=ke.createInterface("ILogger",(t=>t.singleton(Ai))),fi=ke.createInterface("ILogScope"),gi=Object.freeze({key:le("logger-sink-handles"),define(t,e){return Ut(this.key,e.handles,t.prototype),t},getHandles(t){return Pt.get(this.key,t)}}),vi=ne({red:t=>`[31m${t}[39m`,green:t=>`[32m${t}[39m`,yellow:t=>`[33m${t}[39m`,blue:t=>`[34m${t}[39m`,magenta:t=>`[35m${t}[39m`,cyan:t=>`[36m${t}[39m`,white:t=>`[37m${t}[39m`,grey:t=>`[90m${t}[39m`});class mi{constructor(t,e){this.colorOptions=t,this.level=e}}const bi=function(){const t=[ne({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),ne({TRC:vi.grey("TRC"),DBG:vi.grey("DBG"),INF:vi.white("INF"),WRN:vi.yellow("WRN"),ERR:vi.red("ERR"),FTL:vi.red("FTL"),QQQ:vi.grey("???")})];return function(e,i){return e<=0?t[i].TRC:e<=1?t[i].DBG:e<=2?t[i].INF:e<=3?t[i].WRN:e<=4?t[i].ERR:e<=5?t[i].FTL:t[i].QQQ}}();function yi(t,e){return 0===e?new Date(t).toISOString():vi.grey(new Date(t).toISOString())}class wi{constructor(t,e,i,n,r,s){this.severity=t,this.message=e,this.optionalParams=i,this.scope=n,this.colorOptions=r,this.timestamp=s}toString(){const{severity:t,message:e,scope:i,colorOptions:n,timestamp:r}=this;return 0===i.length?`${yi(r,n)} [${bi(t,n)}] ${e}`:`${yi(r,n)} [${bi(t,n)} ${function(t,e){return 0===e?t.join("."):t.map(vi.cyan).join(".")}(i,n)}] ${e}`}}let xi=class{constructor(t){this.config=t}createLogEvent(t,e,i,n){return new wi(e,i,n,t.scope,this.config.colorOptions,Date.now())}};xi=oi([ai(0,hi)],xi);let ki=class t{constructor(t){const e=t.console;this.handleEvent=function(t){const i=t.optionalParams;if(void 0===i||0===i.length){const i=t.toString();switch(t.severity){case 0:case 1:return e.debug(i);case 2:return e.info(i);case 3:return e.warn(i);case 4:case 5:return e.error(i)}}else{let n=t.toString(),r=0;for(;n.includes("%s");)n=n.replace("%s",String(i[r++]));switch(t.severity){case 0:case 1:return e.debug(n,...i.slice(r));case 2:return e.info(n,...i.slice(r));case 3:return e.warn(n,...i.slice(r));case 4:case 5:return e.error(n,...i.slice(r))}}}}static register(e){Ge.singleton(ui,t).register(e)}};ki=oi([ai(0,si)],ki);let Ai=class t{constructor(t,e,i,n=[],r=null){var s,o,a,l,c,h;let u,d,p,f,g,v;if(this.config=t,this.factory=e,this.scope=n,this.scopedLoggers=zt(),null===r){this.root=this,this.parent=this,u=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],f=this.warnSinks=[],g=this.errorSinks=[],v=this.fatalSinks=[];for(const t of i){const e=gi.getHandles(t);(null===(s=null==e?void 0:e.includes(0))||void 0===s||s)&&u.push(t),(null===(o=null==e?void 0:e.includes(1))||void 0===o||o)&&d.push(t),(null===(a=null==e?void 0:e.includes(2))||void 0===a||a)&&p.push(t),(null===(l=null==e?void 0:e.includes(3))||void 0===l||l)&&f.push(t),(null===(c=null==e?void 0:e.includes(4))||void 0===c||c)&&g.push(t),(null===(h=null==e?void 0:e.includes(5))||void 0===h||h)&&v.push(t)}}else this.root=r.root,this.parent=r,u=this.traceSinks=r.traceSinks,d=this.debugSinks=r.debugSinks,p=this.infoSinks=r.infoSinks,f=this.warnSinks=r.warnSinks,g=this.errorSinks=r.errorSinks,v=this.fatalSinks=r.fatalSinks}trace(t,...e){this.config.level<=0&&this.emit(this.traceSinks,0,t,e)}debug(t,...e){this.config.level<=1&&this.emit(this.debugSinks,1,t,e)}info(t,...e){this.config.level<=2&&this.emit(this.infoSinks,2,t,e)}warn(t,...e){this.config.level<=3&&this.emit(this.warnSinks,3,t,e)}error(t,...e){this.config.level<=4&&this.emit(this.errorSinks,4,t,e)}fatal(t,...e){this.config.level<=5&&this.emit(this.fatalSinks,5,t,e)}scopeTo(e){const i=this.scopedLoggers;let n=i[e];return void 0===n&&(n=i[e]=new t(this.config,this.factory,void 0,this.scope.concat(e),this)),n}emit(t,e,i,n){const r=Nt(i)?i():i,s=this.factory.createLogEvent(this,e,r,n);for(let e=0,i=t.length;e<i;++e)t[e].handleEvent(s)}};function $i(t){return t}oi([Jt],Ai.prototype,"trace",null),oi([Jt],Ai.prototype,"debug",null),oi([Jt],Ai.prototype,"info",null),oi([Jt],Ai.prototype,"warn",null),oi([Jt],Ai.prototype,"error",null),oi([Jt],Ai.prototype,"fatal",null),Ai=oi([ai(0,hi),ai(1,di),ai(2,Pe(ui)),ai(3,Me(fi)),ai(4,Le)],Ai),ne({create:({level:t=3,colorOptions:e=0,sinks:i=[]}={})=>ne({register(n){n.register(Ge.instance(hi,new mi(e,t)));for(const t of i)Nt(t)?n.register(Ge.singleton(ui,t)):n.register(t);return n}})}),ke.createInterface((t=>t.singleton(Ti)));class Si{constructor(t){this.$transform=t,this.A=new Map,this.j=new Map}transform(t){if(t instanceof Promise)return this.I(t);if("object"==typeof t&&null!==t)return this.O(t);throw new Error(`Invalid input: ${String(t)}. Expected Promise or Object.`)}I(t){if(this.A.has(t))return this.A.get(t);const e=t.then((t=>this.O(t)));return this.A.set(t,e),e.then((e=>{this.A.set(t,e)})),e}O(t){if(this.j.has(t))return this.j.get(t);const e=this.$transform(this.M(t));return this.j.set(t,e),e instanceof Promise&&e.then((e=>{this.j.set(t,e)})),e}M(t){let e,i,n,r;const s=[];for(const o in t){switch(typeof(e=t[o])){case"object":if(null===e)continue;i=Nt(e.register),n=!1,r=ii;break;case"function":i=Nt(e.register),n=void 0!==e.prototype,r=pe.resource.getAll(e);break;default:continue}s.push(new Ci(o,e,i,n,r))}return new Ei(t,s)}}class Ti{constructor(){this.transformers=new Map}load(t,e=$i){const i=this.transformers;let n=i.get(e);return void 0===n&&i.set(e,n=new Si(e)),n.transform(t)}dispose(){this.transformers.clear()}}class Ei{constructor(t,e){this.raw=t,this.items=e}}class Ci{constructor(t,e,i,n,r){this.key=t,this.value=e,this.isRegistry=i,this.isConstructable=n,this.definitions=r}}class Ri{constructor(t,e){this.messageType=t,this.callback=e}handle(t){t instanceof this.messageType&&this.callback.call(null,t)}}const Oi=ke.createInterface("IEventAggregator",(t=>t.singleton(Pi)));class Pi{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(t,e){if(!t)throw new Error(`Invalid channel name or instance: ${t}.`);if(Vt(t)){let i=this.eventLookup[t];if(void 0!==i){i=i.slice();let n=i.length;for(;n-- >0;)i[n](e,t)}}else{const e=this.messageHandlers.slice();let i=e.length;for(;i-- >0;)e[i].handle(t)}}subscribe(t,e){if(!t)throw new Error(`Invalid channel name or type: ${t}.`);let i,n;return Vt(t)?(void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]),i=e,n=this.eventLookup[t]):(i=new Ri(t,e),n=this.messageHandlers),n.push(i),{dispose(){const t=n.indexOf(i);-1!==t&&n.splice(t,1)}}}subscribeOnce(t,e){const i=this.subscribe(t,(function(t,n){i.dispose(),e(t,n)}));return i}}const Mi=Object.prototype.hasOwnProperty,Li=Reflect.defineProperty,ji=t=>"function"==typeof t,Ii=t=>"string"==typeof t;function Bi(t,e,i){return Li(t,e,{enumerable:!1,configurable:!0,writable:!0,value:i}),i}function Ui(t,e,i,n=!1){!n&&Mi.call(t,e)||Bi(t,e,i)}const Ni=()=>Object.create(null),Vi=Pt.getOwn,zi=Pt.hasOwn,Di=Pt.define,Fi=pe.annotation.keyFor,qi=pe.resource.keyFor,Zi=pe.resource.appendTo;function Hi(t,e,i,n){for(let r=0,s=t.length;r<s;++r)Ge.aliasTo(i,e.keyFrom(t[r])).register(n)}Object.freeze({});class _i{constructor(t,e){if(void 0!==t)if(void 0!==e)this[t]=e;else for(const e in t)Mi.call(t,e)&&(this[e]=t[e])}static create(t,e){return new _i(t,e)}static get(t,e,i,n){var r,s;if(null==t)throw new Error(`AUR0203:${t}`);let o=t.overrideContext,a=t;if(i>0){for(;i>0;)if(i--,a=a.parentScope,null==(null==a?void 0:a.overrideContext))return;return o=a.overrideContext,e in o?o:o.bindingContext}for(;!((null==a?void 0:a.isBoundary)||null==o||e in o||o.bindingContext&&e in o.bindingContext);)a=null!==(r=a.parentScope)&&void 0!==r?r:null,o=null!==(s=null==a?void 0:a.overrideContext)&&void 0!==s?s:null;return o?e in o?o:o.bindingContext:t.bindingContext||t.overrideContext}}class Wi{constructor(t,e,i,n){this.parentScope=t,this.bindingContext=e,this.overrideContext=i,this.isBoundary=n}static create(t,e,i){return new Wi(null,t,null==e?Ki.create(t):e,null!=i&&i)}static fromOverride(t){if(null==t)throw new Error(`AUR0204:${t}`);return new Wi(null,t.bindingContext,t,!1)}static fromParent(t,e){if(null==t)throw new Error(`AUR0205:${t}`);return new Wi(t,e,Ki.create(e),!1)}}class Ki{constructor(t){this.bindingContext=t}static create(t){return new Ki(t)}}const Qi=ke.createInterface("ISignaler",(t=>t.singleton(Xi)));class Xi{constructor(){this.signals=Ni()}dispatchSignal(t,e){const i=this.signals[t];if(void 0===i)return;let n;for(n of i.keys())n.handleChange(void 0,void 0,e)}addSignalListener(t,e){const i=this.signals,n=i[t];void 0===n?i[t]=new Set([e]):n.add(e)}removeSignalListener(t,e){const i=this.signals[t];i&&i.delete(e)}}var Gi;function Yi(t){return function(e){return sn.define(t,e)}}!function(t){t[t.singleton=1]="singleton",t[t.interceptor=2]="interceptor"}(Gi||(Gi={}));class Ji{constructor(t,e,i,n,r){this.Type=t,this.name=e,this.aliases=i,this.key=n,this.strategy=r}static create(t,e){let i,n;Ii(t)?(i=t,n={name:i}):(i=t.name,n=t);const r=Object.getPrototypeOf(e)===en;return new Ji(e,ee(rn(e,"name"),i),te(rn(e,"aliases"),n.aliases,e.aliases),sn.keyFrom(i),ge("strategy",n,e,(()=>r?2:1)))}register(t){const{Type:e,key:i,aliases:n,strategy:r}=this;switch(r){case 1:Ge.singleton(i,e).register(t);break;case 2:Ge.instance(i,new tn(t,e)).register(t)}Ge.aliasTo(i,e).register(t),Hi(n,sn,i,t)}}class tn{constructor(t,e){this.ctn=t,this.Type=e,this.deps=ke.getDependencies(e)}construct(t,e){const i=this.ctn,n=this.deps;switch(n.length){case 0:return new this.Type(t,e);case 1:return new this.Type(i.get(n[0]),t,e);case 2:return new this.Type(i.get(n[0]),i.get(n[1]),t,e);default:return new this.Type(...n.map((t=>i.get(t))),t,e)}}}class en{constructor(t,e){let i;for(this.binding=t,this.expr=e,this.interceptor=this;t.interceptor!==this;)i=t.interceptor,t.interceptor=this,t=i}updateTarget(t,e){this.binding.updateTarget(t,e)}updateSource(t,e){this.binding.updateSource(t,e)}callSource(t){return this.binding.callSource(t)}handleChange(t,e,i){this.binding.handleChange(t,e,i)}handleCollectionChange(t,e){this.binding.handleCollectionChange(t,e)}observe(t,e){this.binding.observe(t,e)}observeCollection(t){this.binding.observeCollection(t)}$bind(t,e){this.binding.$bind(t,e)}$unbind(t){this.binding.$unbind(t)}}["isBound","$scope","obs","sourceExpression","locator","oL"].forEach((t=>{Li(en.prototype,t,{enumerable:!1,configurable:!0,get:function(){return this.binding[t]}})}));const nn=qi("binding-behavior"),rn=(t,e)=>Vi(Fi(e),t),sn=Object.freeze({name:nn,keyFrom:t=>`${nn}:${t}`,isType:t=>ji(t)&&zi(nn,t),define(t,e){const i=Ji.create(t,e);return Di(nn,i,i.Type),Di(nn,i,i),Zi(e,nn),i.Type},getDefinition(t){const e=Vi(nn,t);if(void 0===e)throw new Error(`AUR0151:${t.name}`);return e},annotate(t,e,i){Di(Fi(e),i,t)},getAnnotation:rn});function on(t){return function(e){return hn.define(t,e)}}class an{constructor(t,e,i,n){this.Type=t,this.name=e,this.aliases=i,this.key=n}static create(t,e){let i,n;return Ii(t)?(i=t,n={name:i}):(i=t.name,n=t),new an(e,ee(cn(e,"name"),i),te(cn(e,"aliases"),n.aliases,e.aliases),hn.keyFrom(i))}register(t){const{Type:e,key:i,aliases:n}=this;Ge.singleton(i,e).register(t),Ge.aliasTo(i,e).register(t),Hi(n,hn,i,t)}}const ln=qi("value-converter"),cn=(t,e)=>Vi(Fi(e),t),hn=Object.freeze({name:ln,keyFrom:t=>`${ln}:${t}`,isType:t=>ji(t)&&zi(ln,t),define(t,e){const i=an.create(t,e);return Di(ln,i,i.Type),Di(ln,i,i),Zi(e,ln),i.Type},getDefinition(t){const e=Vi(ln,t);if(void 0===e)throw new Error(`AUR0152:${t.name}`);return e},annotate(t,e,i){Di(Fi(e),i,t)},getAnnotation:cn});var un;!function(t){t[t.CallsFunction=128]="CallsFunction",t[t.HasAncestor=256]="HasAncestor",t[t.IsPrimary=512]="IsPrimary",t[t.IsLeftHandSide=1024]="IsLeftHandSide",t[t.HasBind=2048]="HasBind",t[t.HasUnbind=4096]="HasUnbind",t[t.IsAssignable=8192]="IsAssignable",t[t.IsLiteral=16384]="IsLiteral",t[t.IsResource=32768]="IsResource",t[t.IsForDeclaration=65536]="IsForDeclaration",t[t.Type=31]="Type",t[t.AccessThis=1793]="AccessThis",t[t.AccessScope=10082]="AccessScope",t[t.ArrayLiteral=17955]="ArrayLiteral",t[t.ObjectLiteral=17956]="ObjectLiteral",t[t.PrimitiveLiteral=17925]="PrimitiveLiteral",t[t.Template=17958]="Template",t[t.Unary=39]="Unary",t[t.CallScope=1448]="CallScope",t[t.CallMember=1161]="CallMember",t[t.CallFunction=1162]="CallFunction",t[t.AccessMember=9323]="AccessMember",t[t.AccessKeyed=9324]="AccessKeyed",t[t.TaggedTemplate=1197]="TaggedTemplate",t[t.Binary=46]="Binary",t[t.Conditional=63]="Conditional",t[t.Assign=8208]="Assign",t[t.ValueConverter=36913]="ValueConverter",t[t.BindingBehavior=38962]="BindingBehavior",t[t.HtmlLiteral=51]="HtmlLiteral",t[t.ArrayBindingPattern=65556]="ArrayBindingPattern",t[t.ObjectBindingPattern=65557]="ObjectBindingPattern",t[t.BindingIdentifier=65558]="BindingIdentifier",t[t.ForOfStatement=6199]="ForOfStatement",t[t.Interpolation=24]="Interpolation",t[t.ArrayDestructuring=90137]="ArrayDestructuring",t[t.ObjectDestructuring=106521]="ObjectDestructuring",t[t.DestructuringAssignmentLeaf=139289]="DestructuringAssignmentLeaf"}(un||(un={}));class dn{constructor(){this.text=""}static unparse(t){const e=new dn;return t.accept(e),e.text}visitAccessMember(t){t.object.accept(this),this.text+=`.${t.name}`}visitAccessKeyed(t){t.object.accept(this),this.text+="[",t.key.accept(this),this.text+="]"}visitAccessThis(t){if(0===t.ancestor)return void(this.text+="$this");this.text+="$parent";let e=t.ancestor-1;for(;e--;)this.text+=".$parent"}visitAccessScope(t){let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name}visitArrayLiteral(t){const e=t.elements;this.text+="[";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectLiteral(t){const e=t.keys,i=t.values;this.text+="{";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,i[t].accept(this);this.text+="}"}visitPrimitiveLiteral(t){if(this.text+="(",Ii(t.value)){const e=t.value.replace(/'/g,"\\'");this.text+=`'${e}'`}else this.text+=`${t.value}`;this.text+=")"}visitCallFunction(t){this.text+="(",t.func.accept(this),this.writeArgs(t.args),this.text+=")"}visitCallMember(t){this.text+="(",t.object.accept(this),this.text+=`.${t.name}`,this.writeArgs(t.args),this.text+=")"}visitCallScope(t){this.text+="(";let e=t.ancestor;for(;e--;)this.text+="$parent.";this.text+=t.name,this.writeArgs(t.args),this.text+=")"}visitTemplate(t){const{cooked:e,expressions:i}=t,n=i.length;this.text+="`",this.text+=e[0];for(let t=0;t<n;t++)i[t].accept(this),this.text+=e[t+1];this.text+="`"}visitTaggedTemplate(t){const{cooked:e,expressions:i}=t,n=i.length;t.func.accept(this),this.text+="`",this.text+=e[0];for(let t=0;t<n;t++)i[t].accept(this),this.text+=e[t+1];this.text+="`"}visitUnary(t){this.text+=`(${t.operation}`,t.operation.charCodeAt(0)>=97&&(this.text+=" "),t.expression.accept(this),this.text+=")"}visitBinary(t){this.text+="(",t.left.accept(this),105===t.operation.charCodeAt(0)?this.text+=` ${t.operation} `:this.text+=t.operation,t.right.accept(this),this.text+=")"}visitConditional(t){this.text+="(",t.condition.accept(this),this.text+="?",t.yes.accept(this),this.text+=":",t.no.accept(this),this.text+=")"}visitAssign(t){this.text+="(",t.target.accept(this),this.text+="=",t.value.accept(this),this.text+=")"}visitValueConverter(t){const e=t.args;t.expression.accept(this),this.text+=`|${t.name}`;for(let t=0,i=e.length;t<i;++t)this.text+=":",e[t].accept(this)}visitBindingBehavior(t){const e=t.args;t.expression.accept(this),this.text+=`&${t.name}`;for(let t=0,i=e.length;t<i;++t)this.text+=":",e[t].accept(this)}visitArrayBindingPattern(t){const e=t.elements;this.text+="[";for(let t=0,i=e.length;t<i;++t)0!==t&&(this.text+=","),e[t].accept(this);this.text+="]"}visitObjectBindingPattern(t){const e=t.keys,i=t.values;this.text+="{";for(let t=0,n=e.length;t<n;++t)0!==t&&(this.text+=","),this.text+=`'${e[t]}':`,i[t].accept(this);this.text+="}"}visitBindingIdentifier(t){this.text+=t.name}visitHtmlLiteral(t){throw new Error("visitHtmlLiteral")}visitForOfStatement(t){t.declaration.accept(this),this.text+=" of ",t.iterable.accept(this)}visitInterpolation(t){const{parts:e,expressions:i}=t,n=i.length;this.text+="${",this.text+=e[0];for(let t=0;t<n;t++)i[t].accept(this),this.text+=e[t+1];this.text+="}"}visitDestructuringAssignmentExpression(t){const e=106521===t.$kind;this.text+=e?"{":"[";const i=t.list,n=i.length;let r,s;for(r=0;r<n;r++)switch(s=i[r],s.$kind){case 139289:s.accept(this);break;case 90137:case 106521:{const t=s.source;t&&(t.accept(this),this.text+=":"),s.accept(this);break}}this.text+=e?"}":"]"}visitDestructuringAssignmentSingleExpression(t){t.source.accept(this),this.text+=":",t.target.accept(this);const e=t.initializer;void 0!==e&&(this.text+="=",e.accept(this))}visitDestructuringAssignmentRestExpression(t){this.text+="...",t.accept(this)}writeArgs(t){this.text+="(";for(let e=0,i=t.length;e<i;++e)0!==e&&(this.text+=","),t[e].accept(this);this.text+=")"}}class pn{constructor(t){this.value=t}evaluate(t,e,i,n){return this.value}}class fn{constructor(t,e,i){this.expression=t,this.name=e,this.args=i,this.behaviorKey=sn.keyFrom(e)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(t,e,i,n){return this.expression.evaluate(t,e,i,n)}assign(t,e,i,n){return this.expression.assign(t,e,i,n)}bind(t,e,i){this.expression.hasBind&&this.expression.bind(t,e,i);const n=i.locator.get(this.behaviorKey);if(null==n)throw new Error(`AUR0101:${this.name}`);if(!(n instanceof tn)){if(void 0!==i[this.behaviorKey])throw new Error(`AUR0102:${this.name}`);i[this.behaviorKey]=n,n.bind.call(n,t,e,i,...this.args.map((n=>n.evaluate(t,e,i.locator,null))))}}unbind(t,e,i){const n=this.behaviorKey,r=i;void 0!==r[n]&&(ji(r[n].unbind)&&r[n].unbind(t,e,i),r[n]=void 0),this.expression.hasUnbind&&this.expression.unbind(t,e,i)}accept(t){return t.visitBindingBehavior(this)}toString(){return dn.unparse(this)}}class gn{constructor(t,e,i){this.expression=t,this.name=e,this.args=i,this.converterKey=hn.keyFrom(e)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(t,e,i,n){const r=i.get(this.converterKey);if(null==r)throw new Error(`AUR0103:${this.name}`);if(null!==n&&"handleChange"in n){const t=r.signals;if(null!=t){const e=i.get(Qi);for(let i=0,r=t.length;i<r;++i)e.addSignalListener(t[i],n)}}return"toView"in r?r.toView(this.expression.evaluate(t,e,i,n),...this.args.map((r=>r.evaluate(t,e,i,n)))):this.expression.evaluate(t,e,i,n)}assign(t,e,i,n){const r=i.get(this.converterKey);if(null==r)throw new Error(`AUR0104:${this.name}`);return"fromView"in r&&(n=r.fromView(n,...this.args.map((n=>n.evaluate(t,e,i,null))))),this.expression.assign(t,e,i,n)}unbind(t,e,i){const n=i.locator.get(this.converterKey);if(void 0===n.signals)return;const r=i.locator.get(Qi);for(let t=0;t<n.signals.length;++t)r.removeSignalListener(n.signals[t],i)}accept(t){return t.visitValueConverter(this)}toString(){return dn.unparse(this)}}class vn{constructor(t,e){this.target=t,this.value=e}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.target.assign(t,e,i,this.value.evaluate(t,e,i,n))}assign(t,e,i,n){return this.value.assign(t,e,i,n),this.target.assign(t,e,i,n)}accept(t){return t.visitAssign(this)}toString(){return dn.unparse(this)}}class mn{constructor(t,e,i){this.condition=t,this.yes=e,this.no=i}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.condition.evaluate(t,e,i,n)?this.yes.evaluate(t,e,i,n):this.no.evaluate(t,e,i,n)}assign(t,e,i,n){}accept(t){return t.visitConditional(this)}toString(){return dn.unparse(this)}}class bn{constructor(t=0){this.ancestor=t}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){var r;let s=e.overrideContext,o=e,a=this.ancestor;for(;a--&&s;)o=o.parentScope,s=null!==(r=null==o?void 0:o.overrideContext)&&void 0!==r?r:null;return a<1&&s?s.bindingContext:void 0}assign(t,e,i,n){}accept(t){return t.visitAccessThis(this)}toString(){return dn.unparse(this)}}bn.$this=new bn(0),bn.$parent=new bn(1);class yn{constructor(t,e=0){this.name=t,this.ancestor=e}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=_i.get(e,this.name,this.ancestor,t);null!==n&&n.observe(r,this.name);const s=r[this.name];if(null==s&&"$host"===this.name)throw new Error("AUR0105");return 1&t?s:null==s?"":s}assign(t,e,i,n){var r;if("$host"===this.name)throw new Error("AUR0106");const s=_i.get(e,this.name,this.ancestor,t);if(s instanceof Object)return void 0!==(null===(r=s.$observers)||void 0===r?void 0:r[this.name])?(s.$observers[this.name].setValue(n,t),n):s[this.name]=n}accept(t){return t.visitAccessScope(this)}toString(){return dn.unparse(this)}}class wn{constructor(t,e){this.object=t,this.name=e}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.object.evaluate(t,e,i,(32&t)>0?null:n);return 1&t?null==r?r:(null!==n&&n.observe(r,this.name),r[this.name]):(null!==n&&r instanceof Object&&n.observe(r,this.name),r?r[this.name]:"")}assign(t,e,i,n){const r=this.object.evaluate(t,e,i,null);return r instanceof Object?void 0!==r.$observers&&void 0!==r.$observers[this.name]?r.$observers[this.name].setValue(n,t):r[this.name]=n:this.object.assign(t,e,i,{[this.name]:n}),n}accept(t){return t.visitAccessMember(this)}toString(){return dn.unparse(this)}}class xn{constructor(t,e){this.object=t,this.key=e}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.object.evaluate(t,e,i,(32&t)>0?null:n);if(r instanceof Object){const s=this.key.evaluate(t,e,i,(32&t)>0?null:n);return null!==n&&n.observe(r,s),r[s]}}assign(t,e,i,n){return this.object.evaluate(t,e,i,null)[this.key.evaluate(t,e,i,null)]=n}accept(t){return t.visitAccessKeyed(this)}toString(){return dn.unparse(this)}}class kn{constructor(t,e,i=0){this.name=t,this.args=e,this.ancestor=i}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.args.map((r=>r.evaluate(t,e,i,n))),s=_i.get(e,this.name,this.ancestor,t),o=zn(t,s,this.name);if(o)return o.apply(s,r)}assign(t,e,i,n){}accept(t){return t.visitCallScope(this)}toString(){return dn.unparse(this)}}class An{constructor(t,e,i){this.object=t,this.name=e,this.args=i}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.object.evaluate(t,e,i,(32&t)>0?null:n),s=this.args.map((r=>r.evaluate(t,e,i,n))),o=zn(t,r,this.name);if(o)return o.apply(r,s)}assign(t,e,i,n){}accept(t){return t.visitCallMember(this)}toString(){return dn.unparse(this)}}class $n{constructor(t,e){this.func=t,this.args=e}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.func.evaluate(t,e,i,n);if(ji(r))return r(...this.args.map((r=>r.evaluate(t,e,i,n))));if(8&t||null!=r)throw new Error("AUR0107")}assign(t,e,i,n){}accept(t){return t.visitCallFunction(this)}toString(){return dn.unparse(this)}}class Sn{constructor(t,e,i){this.operation=t,this.left=e,this.right=i}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){switch(this.operation){case"&&":return this.left.evaluate(t,e,i,n)&&this.right.evaluate(t,e,i,n);case"||":return this.left.evaluate(t,e,i,n)||this.right.evaluate(t,e,i,n);case"==":return this.left.evaluate(t,e,i,n)==this.right.evaluate(t,e,i,n);case"===":return this.left.evaluate(t,e,i,n)===this.right.evaluate(t,e,i,n);case"!=":return this.left.evaluate(t,e,i,n)!=this.right.evaluate(t,e,i,n);case"!==":return this.left.evaluate(t,e,i,n)!==this.right.evaluate(t,e,i,n);case"instanceof":{const r=this.right.evaluate(t,e,i,n);return!!ji(r)&&this.left.evaluate(t,e,i,n)instanceof r}case"in":{const r=this.right.evaluate(t,e,i,n);return r instanceof Object&&this.left.evaluate(t,e,i,n)in r}case"+":{const r=this.left.evaluate(t,e,i,n),s=this.right.evaluate(t,e,i,n);if((1&t)>0)return r+s;if(!r||!s){if(qt(r)||qt(s))return(r||0)+(s||0);if(Zt(r)||Zt(s))return(r||"")+(s||"")}return r+s}case"-":return this.left.evaluate(t,e,i,n)-this.right.evaluate(t,e,i,n);case"*":return this.left.evaluate(t,e,i,n)*this.right.evaluate(t,e,i,n);case"/":return this.left.evaluate(t,e,i,n)/this.right.evaluate(t,e,i,n);case"%":return this.left.evaluate(t,e,i,n)%this.right.evaluate(t,e,i,n);case"<":return this.left.evaluate(t,e,i,n)<this.right.evaluate(t,e,i,n);case">":return this.left.evaluate(t,e,i,n)>this.right.evaluate(t,e,i,n);case"<=":return this.left.evaluate(t,e,i,n)<=this.right.evaluate(t,e,i,n);case">=":return this.left.evaluate(t,e,i,n)>=this.right.evaluate(t,e,i,n);default:throw new Error(`AUR0108:${this.operation}`)}}assign(t,e,i,n){}accept(t){return t.visitBinary(this)}toString(){return dn.unparse(this)}}class Tn{constructor(t,e){this.operation=t,this.expression=e}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){switch(this.operation){case"void":return void this.expression.evaluate(t,e,i,n);case"typeof":return typeof this.expression.evaluate(1|t,e,i,n);case"!":return!this.expression.evaluate(t,e,i,n);case"-":return-this.expression.evaluate(t,e,i,n);case"+":return+this.expression.evaluate(t,e,i,n);default:throw new Error(`AUR0109:${this.operation}`)}}assign(t,e,i,n){}accept(t){return t.visitUnary(this)}toString(){return dn.unparse(this)}}class En{constructor(t){this.value=t}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.value}assign(t,e,i,n){}accept(t){return t.visitPrimitiveLiteral(this)}toString(){return dn.unparse(this)}}En.$undefined=new En(void 0),En.$null=new En(null),En.$true=new En(!0),En.$false=new En(!1),En.$empty=new En("");class Cn{constructor(t){this.elements=t}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.elements.map((r=>r.evaluate(t,e,i,n)))}assign(t,e,i,n){}accept(t){return t.visitArrayLiteral(this)}toString(){return dn.unparse(this)}}Cn.$empty=new Cn(ii);class Rn{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r={};for(let s=0;s<this.keys.length;++s)r[this.keys[s]]=this.values[s].evaluate(t,e,i,n);return r}assign(t,e,i,n){}accept(t){return t.visitObjectLiteral(this)}toString(){return dn.unparse(this)}}Rn.$empty=new Rn(ii,ii);class On{constructor(t,e=ii){this.cooked=t,this.expressions=e}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){let r=this.cooked[0];for(let s=0;s<this.expressions.length;++s)r+=String(this.expressions[s].evaluate(t,e,i,n)),r+=this.cooked[s+1];return r}assign(t,e,i,n){}accept(t){return t.visitTemplate(this)}toString(){return dn.unparse(this)}}On.$empty=new On([""]);class Pn{constructor(t,e,i,n=ii){this.cooked=t,this.func=i,this.expressions=n,t.raw=e}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){const r=this.expressions.map((r=>r.evaluate(t,e,i,n))),s=this.func.evaluate(t,e,i,n);if(!ji(s))throw new Error("AUR0110");return s(this.cooked,...r)}assign(t,e,i,n){}accept(t){return t.visitTaggedTemplate(this)}toString(){return dn.unparse(this)}}class Mn{constructor(t){this.elements=t}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){}assign(t,e,i,n){}accept(t){return t.visitArrayBindingPattern(this)}toString(){return dn.unparse(this)}}class Ln{constructor(t,e){this.keys=t,this.values=e}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){}assign(t,e,i,n){}accept(t){return t.visitObjectBindingPattern(this)}toString(){return dn.unparse(this)}}class jn{constructor(t){this.name=t}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.name}accept(t){return t.visitBindingIdentifier(this)}toString(){return dn.unparse(this)}}const In=Object.prototype.toString;class Bn{constructor(t,e){this.declaration=t,this.iterable=e}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){return this.iterable.evaluate(t,e,i,n)}assign(t,e,i,n){}count(t,e){switch(In.call(e)){case"[object Array]":return e.length;case"[object Map]":case"[object Set]":return e.size;case"[object Number]":return e;case"[object Null]":case"[object Undefined]":return 0;default:throw new Error(`Cannot count ${In.call(e)}`)}}iterate(t,e,i){switch(In.call(e)){case"[object Array]":return Dn(e,i);case"[object Map]":return function(t,e){const i=Array(t.size);let n=-1;for(const e of t.entries())i[++n]=e;Dn(i,e)}(e,i);case"[object Set]":return function(t,e){const i=Array(t.size);let n=-1;for(const e of t.keys())i[++n]=e;Dn(i,e)}(e,i);case"[object Number]":return function(t,e){const i=Array(t);for(let e=0;e<t;++e)i[e]=e;Dn(i,e)}(e,i);case"[object Null]":case"[object Undefined]":return;default:throw new Error(`Cannot iterate over ${In.call(e)}`)}}bind(t,e,i){this.iterable.hasBind&&this.iterable.bind(t,e,i)}unbind(t,e,i){this.iterable.hasUnbind&&this.iterable.unbind(t,e,i)}accept(t){return t.visitForOfStatement(this)}toString(){return dn.unparse(this)}}class Un{constructor(t,e=ii){this.parts=t,this.expressions=e,this.isMulti=e.length>1,this.firstExpression=e[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){if(this.isMulti){let r=this.parts[0];for(let s=0;s<this.expressions.length;++s)r+=String(this.expressions[s].evaluate(t,e,i,n)),r+=this.parts[s+1];return r}return`${this.parts[0]}${this.firstExpression.evaluate(t,e,i,n)}${this.parts[1]}`}assign(t,e,i,n){}accept(t){return t.visitInterpolation(this)}toString(){return dn.unparse(this)}}class Nn{constructor(t,e,i,n){this.$kind=t,this.list=e,this.source=i,this.initializer=n}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,e,i,n){}assign(t,e,i,n){var r;const s=this.list,o=s.length;let a,l;for(a=0;a<o;a++)switch(l=s[a],l.$kind){case 139289:l.assign(t,e,i,n);break;case 90137:case 106521:{if("object"!=typeof n||null===n)throw new Error("AUR0112");let s=l.source.evaluate(t,Wi.create(n),i,null);void 0===s&&(s=null===(r=l.initializer)||void 0===r?void 0:r.evaluate(t,e,i,null)),l.assign(t,e,i,s);break}}}accept(t){return t.visitDestructuringAssignmentExpression(this)}toString(){return dn.unparse(this)}}class Vn{constructor(t,e,i){this.target=t,this.source=e,this.initializer=i}get $kind(){return 139289}evaluate(t,e,i,n){}assign(t,e,i,n){var r;if(null==n)return;if("object"!=typeof n)throw new Error("AUR0112");let s=this.source.evaluate(t,Wi.create(n),i,null);void 0===s&&(s=null===(r=this.initializer)||void 0===r?void 0:r.evaluate(t,e,i,null)),this.target.assign(t,e,i,s)}accept(t){return t.visitDestructuringAssignmentSingleExpression(this)}toString(){return dn.unparse(this)}}function zn(t,e,i){const n=null==e?null:e[i];if(ji(n))return n;if(!(8&t)&&null==n)return null;throw new Error(`AUR0111:${i}`)}function Dn(t,e){for(let i=0,n=t.length;i<n;++i)e(t,i,t[i])}const Fn=ke.createInterface("ICoercionConfiguration");var qn,Zn,Hn,_n,Wn,Kn;function Qn(t=0){const e=Array(t);let i=0;for(;i<t;)e[i]=i++;return e.deletedItems=[],e.isIndexMap=!0,e}function Xn(t){return null==t?Gn:Gn(t)}function Gn(t){const e=t.prototype;Li(e,"subs",{get:Jn}),Ui(e,"subscribe",tr),Ui(e,"unsubscribe",er)}!function(t){t[t.oneTime=1]="oneTime",t[t.toView=2]="toView",t[t.fromView=4]="fromView",t[t.twoWay=6]="twoWay",t[t.default=8]="default"}(qn||(qn={})),function(t){t[t.none=0]="none",t[t.persistentBindingFlags=97]="persistentBindingFlags",t[t.observeLeafPropertiesOnly=32]="observeLeafPropertiesOnly",t[t.noFlush=64]="noFlush",t[t.bindingStrategy=1]="bindingStrategy",t[t.isStrictBindingStrategy=1]="isStrictBindingStrategy",t[t.fromBind=2]="fromBind",t[t.fromUnbind=4]="fromUnbind",t[t.mustEvaluate=8]="mustEvaluate",t[t.dispose=16]="dispose"}(Zn||(Zn={})),function(t){t[t.None=0]="None",t[t.Subscriber0=1]="Subscriber0",t[t.Subscriber1=2]="Subscriber1",t[t.Subscriber2=4]="Subscriber2",t[t.SubscribersRest=8]="SubscribersRest",t[t.Any=15]="Any"}(Hn||(Hn={})),function(t){t[t.none=0]="none",t[t.capturing=1]="capturing",t[t.bubbling=2]="bubbling"}(_n||(_n={})),function(t){t[t.indexed=8]="indexed",t[t.keyed=4]="keyed",t[t.array=9]="array",t[t.map=6]="map",t[t.set=7]="set"}(Wn||(Wn={})),function(t){t[t.None=0]="None",t[t.Observer=1]="Observer",t[t.Node=2]="Node",t[t.Layout=4]="Layout",t[t.Primtive=8]="Primtive",t[t.Array=18]="Array",t[t.Set=34]="Set",t[t.Map=66]="Map"}(Kn||(Kn={}));class Yn{constructor(){this.sf=0,this.count=0}add(t){if(this.has(t))return!1;const e=this.sf;return 0==(1&e)?(this.s0=t,this.sf|=1):0==(2&e)?(this.s1=t,this.sf|=2):0==(4&e)?(this.s2=t,this.sf|=4):0==(8&e)?(this.sr=[t],this.sf|=8):this.sr.push(t),++this.count,!0}has(t){const e=this.sf;if((1&e)>0&&this.s0===t)return!0;if((2&e)>0&&this.s1===t)return!0;if((4&e)>0&&this.s2===t)return!0;if((8&e)>0){const e=this.sr,i=e.length;let n=0;for(;n<i;++n)if(e[n]===t)return!0}return!1}any(){return 0!==this.sf}remove(t){const e=this.sf;if((1&e)>0&&this.s0===t)return this.s0=void 0,this.sf=1^(1|this.sf),--this.count,!0;if((2&e)>0&&this.s1===t)return this.s1=void 0,this.sf=2^(2|this.sf),--this.count,!0;if((4&e)>0&&this.s2===t)return this.s2=void 0,this.sf=4^(4|this.sf),--this.count,!0;if((8&e)>0){const e=this.sr,i=e.length;let n=0;for(;n<i;++n)if(e[n]===t)return e.splice(n,1),1===i&&(this.sf=8^(8|this.sf)),--this.count,!0}return!1}notify(t,e,i){const n=this.s0,r=this.s1,s=this.s2;let o=this.sr;if(void 0!==o&&(o=o.slice()),void 0!==n&&n.handleChange(t,e,i),void 0!==r&&r.handleChange(t,e,i),void 0!==s&&s.handleChange(t,e,i),void 0!==o){const n=o.length;let r,s=0;for(;s<n;++s)r=o[s],void 0!==r&&r.handleChange(t,e,i)}}notifyCollection(t,e){const i=this.s0,n=this.s1,r=this.s2;let s=this.sr;if(void 0!==s&&(s=s.slice()),void 0!==i&&i.handleCollectionChange(t,e),void 0!==n&&n.handleCollectionChange(t,e),void 0!==r&&r.handleCollectionChange(t,e),void 0!==s){const i=s.length;let n,r=0;for(;r<i;++r)n=s[r],void 0!==n&&n.handleCollectionChange(t,e)}}}function Jn(){return Bi(this,"subs",new Yn)}function tr(t){return this.subs.add(t)}function er(t){return this.subs.remove(t)}function ir(t){return null==t?nr:nr(t)}function nr(t){const e=t.prototype;Li(e,"queue",{get:sr})}class rr{constructor(){this.t=!1,this.i=new Set}get count(){return this.i.size}add(t){if(this.i.add(t),!this.t){this.t=!0;try{this.i.forEach(or)}finally{this.t=!1}}}clear(){this.i.clear(),this.t=!1}}function sr(){return rr.instance}function or(t,e,i){i.delete(t),t.flush()}rr.instance=new rr;class ar{constructor(t){this.owner=t,this.type=18,this.f=0,this.v=this.h=(this.o=t.collection).length}getValue(){return this.o.length}setValue(t,e){const i=this.v;t!==i&&Ft(t)&&(0==(64&e)&&(this.o.length=t),this.v=t,this.h=i,this.f=e,this.queue.add(this))}handleCollectionChange(t,e){const i=this.v,n=this.o.length;(this.v=n)!==i&&(this.h=i,this.f=e,this.queue.add(this))}flush(){dr=this.h,this.h=this.v,this.subs.notify(this.v,dr,this.f)}}class lr{constructor(t){this.owner=t,this.f=0,this.v=this.h=(this.o=t.collection).size,this.type=this.o instanceof Map?66:34}getValue(){return this.o.size}setValue(){throw new Error("AUR02")}handleCollectionChange(t,e){const i=this.v,n=this.o.size;(this.v=n)!==i&&(this.h=i,this.f=e,this.queue.add(this))}flush(){dr=this.h,this.h=this.v,this.subs.notify(this.v,dr,this.f)}}function cr(t){const e=t.prototype;Ui(e,"subscribe",hr,!0),Ui(e,"unsubscribe",ur,!0),ir(t),Xn(t)}function hr(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}function ur(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.subscribe(this)}let dr;cr(ar),cr(lr);const pr=new WeakMap;function fr(t,e){return t===e?0:(t=null===t?"null":t.toString())<(e=null===e?"null":e.toString())?-1:1}function gr(t,e){return void 0===t?void 0===e?0:1:void 0===e?-1:0}function vr(t,e,i,n,r){let s,o,a,l,c,h,u;for(h=i+1;h<n;h++){for(s=t[h],o=e[h],u=h-1;u>=i&&(a=t[u],l=e[u],c=r(a,s),c>0);u--)t[u+1]=a,e[u+1]=l;t[u+1]=s,e[u+1]=o}}function mr(t,e,i,n,r){let s,o,a,l,c,h,u,d,p,f,g,v,m,b,y,w,x,k,A,$=0,S=0;for(;;){if(n-i<=10)return void vr(t,e,i,n,r);$=i+(n-i>>1),s=t[i],l=e[i],o=t[n-1],c=e[n-1],a=t[$],h=e[$],u=r(s,o),u>0&&(f=s,g=l,s=o,l=c,o=f,c=g),d=r(s,a),d>=0?(f=s,g=l,s=a,l=h,a=o,h=c,o=f,c=g):(p=r(o,a),p>0&&(f=o,g=c,o=a,c=h,a=f,h=g)),t[i]=s,e[i]=l,t[n-1]=a,e[n-1]=h,v=o,m=c,b=i+1,y=n-1,t[$]=t[b],e[$]=e[b],t[b]=v,e[b]=m;t:for(S=b+1;S<y;S++)if(w=t[S],x=e[S],k=r(w,v),k<0)t[S]=t[b],e[S]=e[b],t[b]=w,e[b]=x,b++;else if(k>0){do{if(y--,y==S)break t;A=t[y],k=r(A,v)}while(k>0);t[S]=t[y],e[S]=e[y],t[y]=w,e[y]=x,k<0&&(w=t[S],x=e[S],t[S]=t[b],e[S]=e[b],t[b]=w,e[b]=x,b++)}n-y<b-i?(mr(t,e,y,n,r),n=b):(mr(t,e,i,b,r),i=y)}}const br=Array.prototype,yr=br.push,wr=br.unshift,xr=br.pop,kr=br.shift,Ar=br.splice,$r=br.reverse,Sr=br.sort,Tr=["push","unshift","pop","shift","splice","reverse","sort"],Er={push:function(...t){const e=pr.get(this);if(void 0===e)return yr.apply(this,t);const i=this.length,n=t.length;if(0===n)return i;this.length=e.indexMap.length=i+n;let r=i;for(;r<this.length;)this[r]=t[r-i],e.indexMap[r]=-2,r++;return e.notify(),this.length},unshift:function(...t){const e=pr.get(this);if(void 0===e)return wr.apply(this,t);const i=t.length,n=new Array(i);let r=0;for(;r<i;)n[r++]=-2;wr.apply(e.indexMap,n);const s=wr.apply(this,t);return e.notify(),s},pop:function(){const t=pr.get(this);if(void 0===t)return xr.call(this);const e=t.indexMap,i=xr.call(this),n=e.length-1;return e[n]>-1&&e.deletedItems.push(e[n]),xr.call(e),t.notify(),i},shift:function(){const t=pr.get(this);if(void 0===t)return kr.call(this);const e=t.indexMap,i=kr.call(this);return e[0]>-1&&e.deletedItems.push(e[0]),kr.call(e),t.notify(),i},splice:function(...t){const e=t[0],i=t[1],n=pr.get(this);if(void 0===n)return Ar.apply(this,t);const r=this.length,s=0|e,o=s<0?Math.max(r+s,0):Math.min(s,r),a=n.indexMap,l=t.length,c=0===l?0:1===l?r-o:i;if(c>0){let t=o;const e=t+c;for(;t<e;)a[t]>-1&&a.deletedItems.push(a[t]),t++}if(l>2){const t=l-2,n=new Array(t);let r=0;for(;r<t;)n[r++]=-2;Ar.call(a,e,i,...n)}else Ar.apply(a,t);const h=Ar.apply(this,t);return n.notify(),h},reverse:function(){const t=pr.get(this);if(void 0===t)return $r.call(this),this;const e=this.length,i=e/2|0;let n=0;for(;n!==i;){const i=e-n-1,r=this[n],s=t.indexMap[n],o=this[i],a=t.indexMap[i];this[n]=o,t.indexMap[n]=a,this[i]=r,t.indexMap[i]=s,n++}return t.notify(),this},sort:function(t){const e=pr.get(this);if(void 0===e)return Sr.call(this,t),this;const i=this.length;if(i<2)return this;mr(this,e.indexMap,0,i,gr);let n=0;for(;n<i&&void 0!==this[n];)n++;return void 0!==t&&ji(t)||(t=fr),mr(this,e.indexMap,0,n,t),e.notify(),this}};for(const t of Tr)Li(Er[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Cr=!1;class Rr{constructor(t){this.type=18,Cr||(Cr=!0,function(){for(const t of Tr)!0!==br[t].observing&&Bi(br,t,Er[t])}()),this.indexObservers={},this.collection=t,this.indexMap=Qn(t.length),this.lenObs=void 0,pr.set(t,this)}notify(){const t=this.indexMap,e=this.collection.length;this.indexMap=Qn(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new ar(this)}getIndexObserver(t){var e,i;return null!==(e=(i=this.indexObservers)[t])&&void 0!==e?e:i[t]=new Or(this,t)}}class Or{constructor(t,e){this.owner=t,this.index=e,this.doNotCache=!0,this.value=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(t,e){if(t===this.getValue())return;const i=this.owner,n=this.index,r=i.indexMap;r[n]>-1&&r.deletedItems.push(r[n]),r[n]=-2,i.collection[n]=t,i.notify()}handleCollectionChange(t,e){const i=this.index;if(t[i]===i)return;const n=this.value,r=this.value=this.getValue();n!==r&&this.subs.notify(r,n,e)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.owner.subscribe(this)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.owner.unsubscribe(this)}}function Pr(t){let e=pr.get(t);return void 0===e&&(e=new Rr(t)),e}Xn(Rr),Xn(Or);const Mr=new WeakMap,Lr=Set.prototype,jr=Lr.add,Ir=Lr.clear,Br=Lr.delete,Ur=["add","clear","delete"],Nr={add:function(t){const e=Mr.get(this);if(void 0===e)return jr.call(this,t),this;const i=this.size;return jr.call(this,t),this.size===i||(e.indexMap[i]=-2,e.notify()),this},clear:function(){const t=Mr.get(this);if(void 0===t)return Ir.call(this);if(this.size>0){const e=t.indexMap;let i=0;for(const t of this.keys())e[i]>-1&&e.deletedItems.push(e[i]),i++;Ir.call(this),e.length=0,t.notify()}},delete:function(t){const e=Mr.get(this);if(void 0===e)return Br.call(this,t);if(0===this.size)return!1;let i=0;const n=e.indexMap;for(const r of this.keys()){if(r===t){n[i]>-1&&n.deletedItems.push(n[i]),n.splice(i,1);const r=Br.call(this,t);return!0===r&&e.notify(),r}i++}return!1}},Vr={writable:!0,enumerable:!1,configurable:!0};for(const t of Ur)Li(Nr[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let zr=!1;class Dr{constructor(t){this.type=34,zr||(zr=!0,function(){for(const t of Ur)!0!==Lr[t].observing&&Li(Lr,t,{...Vr,value:Nr[t]})}()),this.collection=t,this.indexMap=Qn(t.size),this.lenObs=void 0,Mr.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Qn(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new lr(this)}}function Fr(t){let e=Mr.get(t);return void 0===e&&(e=new Dr(t)),e}Xn(Dr);const qr=new WeakMap,Zr=Map.prototype,Hr=Zr.set,_r=Zr.clear,Wr=Zr.delete,Kr=["set","clear","delete"],Qr={set:function(t,e){const i=qr.get(this);if(void 0===i)return Hr.call(this,t,e),this;const n=this.get(t),r=this.size;if(Hr.call(this,t,e),this.size===r){let e=0;for(const r of this.entries()){if(r[0]===t)return r[1]!==n&&(i.indexMap.deletedItems.push(i.indexMap[e]),i.indexMap[e]=-2,i.notify()),this;e++}return this}return i.indexMap[r]=-2,i.notify(),this},clear:function(){const t=qr.get(this);if(void 0===t)return _r.call(this);if(this.size>0){const e=t.indexMap;let i=0;for(const t of this.keys())e[i]>-1&&e.deletedItems.push(e[i]),i++;_r.call(this),e.length=0,t.notify()}},delete:function(t){const e=qr.get(this);if(void 0===e)return Wr.call(this,t);if(0===this.size)return!1;let i=0;const n=e.indexMap;for(const r of this.keys()){if(r===t){n[i]>-1&&n.deletedItems.push(n[i]),n.splice(i,1);const r=Wr.call(this,t);return!0===r&&e.notify(),r}++i}return!1}},Xr={writable:!0,enumerable:!1,configurable:!0};for(const t of Kr)Li(Qr[t],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Gr=!1;class Yr{constructor(t){this.type=66,Gr||(Gr=!0,function(){for(const t of Kr)!0!==Zr[t].observing&&Li(Zr,t,{...Xr,value:Qr[t]})}()),this.collection=t,this.indexMap=Qn(t.size),this.lenObs=void 0,qr.set(t,this)}notify(){const t=this.indexMap,e=this.collection.size;this.indexMap=Qn(e),this.subs.notifyCollection(t,0)}getLengthObserver(){var t;return null!==(t=this.lenObs)&&void 0!==t?t:this.lenObs=new lr(this)}}function Jr(t){let e=qr.get(t);return void 0===e&&(e=new Yr(t)),e}function ts(t,e){const i=this.oL.getObserver(t,e);this.obs.add(i)}function es(){return Bi(this,"obs",new os(this))}function is(t){let e;if(t instanceof Array)e=Pr(t);else if(t instanceof Set)e=Fr(t);else{if(!(t instanceof Map))throw new Error("AUR0210");e=Jr(t)}this.obs.add(e)}function ns(t){this.obs.add(t)}function rs(){throw new Error("AUR2011:handleChange")}function ss(){throw new Error("AUR2012:handleCollectionChange")}Xn(Yr);class os{constructor(t){this.version=0,this.count=0,this.o=new Map,this.b=t}handleChange(t,e,i){return this.b.interceptor.handleChange(t,e,i)}handleCollectionChange(t,e){this.b.interceptor.handleCollectionChange(t,e)}add(t){this.o.has(t)||(t.subscribe(this),++this.count),this.o.set(t,this.version)}clear(){this.o.forEach(ls,this),this.count=this.o.size}clearAll(){this.o.forEach(as,this),this.o.clear(),this.count=0}}function as(t,e){e.unsubscribe(this)}function ls(t,e){this.version!==t&&(e.unsubscribe(this),this.o.delete(e))}function cs(t){const e=t.prototype;return Ui(e,"observe",ts,!0),Ui(e,"observeCollection",is,!0),Ui(e,"subscribeTo",ns,!0),Li(e,"obs",{get:es}),Ui(e,"handleChange",rs),Ui(e,"handleCollectionChange",ss),t}function hs(t){return null==t?cs:cs(t)}cs(class{constructor(t,e,i,n){this.key=t,this.binding=e,this.oL=i,this.locator=n,this.interceptor=this}$bind(){throw new Error("AUR0213:$bind")}$unbind(){throw new Error("AUR0214:$unbind")}handleChange(t,e,i){this.binding[this.key](t,e,i)}});const us=ke.createInterface("IExpressionParser",(t=>t.singleton(ds)));class ds{constructor(){this.u=Ni(),this.A=Ni(),this.U=Ni()}parse(t,e){let i;switch(e){case 16:return new pn(t);case 1:return i=this.U[t],void 0===i&&(i=this.U[t]=this.$parse(t,e)),i;case 2:return i=this.A[t],void 0===i&&(i=this.A[t]=this.$parse(t,e)),i;default:if(0===t.length){if((12&e)>0)return En.$empty;throw new Error("AUR0169")}return i=this.u[t],void 0===i&&(i=this.u[t]=this.$parse(t,e)),i}}$parse(t,e){return Ss.ip=t,Ss.length=t.length,Ss.index=0,Ss.O=t.charCodeAt(0),Ts(Ss,0,61,void 0===e?8:e)}}var ps,fs,gs,vs;function ms(t){switch(t){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return t}}!function(t){t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.VerticalTab=11]="VerticalTab",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.Exclamation=33]="Exclamation",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dollar=36]="Dollar",t[t.Percent=37]="Percent",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Minus=45]="Minus",t[t.Dot=46]="Dot",t[t.Slash=47]="Slash",t[t.Semicolon=59]="Semicolon",t[t.Backtick=96]="Backtick",t[t.OpenBracket=91]="OpenBracket",t[t.Backslash=92]="Backslash",t[t.CloseBracket=93]="CloseBracket",t[t.Caret=94]="Caret",t[t.Underscore=95]="Underscore",t[t.OpenBrace=123]="OpenBrace",t[t.Bar=124]="Bar",t[t.CloseBrace=125]="CloseBrace",t[t.Colon=58]="Colon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.Question=63]="Question",t[t.Zero=48]="Zero",t[t.One=49]="One",t[t.Two=50]="Two",t[t.Three=51]="Three",t[t.Four=52]="Four",t[t.Five=53]="Five",t[t.Six=54]="Six",t[t.Seven=55]="Seven",t[t.Eight=56]="Eight",t[t.Nine=57]="Nine",t[t.UpperA=65]="UpperA",t[t.UpperB=66]="UpperB",t[t.UpperC=67]="UpperC",t[t.UpperD=68]="UpperD",t[t.UpperE=69]="UpperE",t[t.UpperF=70]="UpperF",t[t.UpperG=71]="UpperG",t[t.UpperH=72]="UpperH",t[t.UpperI=73]="UpperI",t[t.UpperJ=74]="UpperJ",t[t.UpperK=75]="UpperK",t[t.UpperL=76]="UpperL",t[t.UpperM=77]="UpperM",t[t.UpperN=78]="UpperN",t[t.UpperO=79]="UpperO",t[t.UpperP=80]="UpperP",t[t.UpperQ=81]="UpperQ",t[t.UpperR=82]="UpperR",t[t.UpperS=83]="UpperS",t[t.UpperT=84]="UpperT",t[t.UpperU=85]="UpperU",t[t.UpperV=86]="UpperV",t[t.UpperW=87]="UpperW",t[t.UpperX=88]="UpperX",t[t.UpperY=89]="UpperY",t[t.UpperZ=90]="UpperZ",t[t.LowerA=97]="LowerA",t[t.LowerB=98]="LowerB",t[t.LowerC=99]="LowerC",t[t.LowerD=100]="LowerD",t[t.LowerE=101]="LowerE",t[t.LowerF=102]="LowerF",t[t.LowerG=103]="LowerG",t[t.LowerH=104]="LowerH",t[t.LowerI=105]="LowerI",t[t.LowerJ=106]="LowerJ",t[t.LowerK=107]="LowerK",t[t.LowerL=108]="LowerL",t[t.LowerM=109]="LowerM",t[t.LowerN=110]="LowerN",t[t.LowerO=111]="LowerO",t[t.LowerP=112]="LowerP",t[t.LowerQ=113]="LowerQ",t[t.LowerR=114]="LowerR",t[t.LowerS=115]="LowerS",t[t.LowerT=116]="LowerT",t[t.LowerU=117]="LowerU",t[t.LowerV=118]="LowerV",t[t.LowerW=119]="LowerW",t[t.LowerX=120]="LowerX",t[t.LowerY=121]="LowerY",t[t.LowerZ=122]="LowerZ"}(ps||(ps={})),function(t){t[t.Reset=0]="Reset",t[t.Ancestor=511]="Ancestor",t[t.This=512]="This",t[t.Scope=1024]="Scope",t[t.Member=2048]="Member",t[t.Keyed=4096]="Keyed"}(fs||(fs={})),function(t){t[t.Variadic=61]="Variadic",t[t.Assign=62]="Assign",t[t.Conditional=63]="Conditional",t[t.LogicalOR=64]="LogicalOR",t[t.LogicalAND=128]="LogicalAND",t[t.Equality=192]="Equality",t[t.Relational=256]="Relational",t[t.Additive=320]="Additive",t[t.Multiplicative=384]="Multiplicative",t[t.Binary=448]="Binary",t[t.LeftHandSide=449]="LeftHandSide",t[t.Primary=450]="Primary",t[t.Unary=451]="Unary"}(gs||(gs={})),function(t){t[t.EOF=1572864]="EOF",t[t.ExpressionTerminal=1048576]="ExpressionTerminal",t[t.AccessScopeTerminal=524288]="AccessScopeTerminal",t[t.ClosingToken=262144]="ClosingToken",t[t.OpeningToken=131072]="OpeningToken",t[t.BinaryOp=65536]="BinaryOp",t[t.UnaryOp=32768]="UnaryOp",t[t.LeftHandSide=16384]="LeftHandSide",t[t.StringOrNumericLiteral=12288]="StringOrNumericLiteral",t[t.NumericLiteral=8192]="NumericLiteral",t[t.StringLiteral=4096]="StringLiteral",t[t.IdentifierName=3072]="IdentifierName",t[t.Keyword=2048]="Keyword",t[t.Identifier=1024]="Identifier",t[t.Contextual=512]="Contextual",t[t.Precedence=448]="Precedence",t[t.Type=63]="Type",t[t.FalseKeyword=2048]="FalseKeyword",t[t.TrueKeyword=2049]="TrueKeyword",t[t.NullKeyword=2050]="NullKeyword",t[t.UndefinedKeyword=2051]="UndefinedKeyword",t[t.ThisScope=3076]="ThisScope",t[t.ParentScope=3078]="ParentScope",t[t.OpenParen=671751]="OpenParen",t[t.OpenBrace=131080]="OpenBrace",t[t.Dot=16393]="Dot",t[t.CloseBrace=1835018]="CloseBrace",t[t.CloseParen=1835019]="CloseParen",t[t.Comma=1572876]="Comma",t[t.OpenBracket=671757]="OpenBracket",t[t.CloseBracket=1835022]="CloseBracket",t[t.Colon=1572879]="Colon",t[t.Question=1572880]="Question",t[t.Ampersand=1572883]="Ampersand",t[t.Bar=1572884]="Bar",t[t.BarBar=1638549]="BarBar",t[t.AmpersandAmpersand=1638614]="AmpersandAmpersand",t[t.EqualsEquals=1638679]="EqualsEquals",t[t.ExclamationEquals=1638680]="ExclamationEquals",t[t.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",t[t.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",t[t.LessThan=1638747]="LessThan",t[t.GreaterThan=1638748]="GreaterThan",t[t.LessThanEquals=1638749]="LessThanEquals",t[t.GreaterThanEquals=1638750]="GreaterThanEquals",t[t.InKeyword=1640799]="InKeyword",t[t.InstanceOfKeyword=1640800]="InstanceOfKeyword",t[t.Plus=623009]="Plus",t[t.Minus=623010]="Minus",t[t.TypeofKeyword=34851]="TypeofKeyword",t[t.VoidKeyword=34852]="VoidKeyword",t[t.Asterisk=1638885]="Asterisk",t[t.Percent=1638886]="Percent",t[t.Slash=1638887]="Slash",t[t.Equals=1048616]="Equals",t[t.Exclamation=32809]="Exclamation",t[t.TemplateTail=540714]="TemplateTail",t[t.TemplateContinuation=540715]="TemplateContinuation",t[t.OfKeyword=1051180]="OfKeyword"}(vs||(vs={}));const bs=En.$false,ys=En.$true,ws=En.$null,xs=En.$undefined,ks=bn.$this,As=bn.$parent;var $s;!function(t){t[t.None=0]="None",t[t.Interpolation=1]="Interpolation",t[t.IsIterator=2]="IsIterator",t[t.IsFunction=4]="IsFunction",t[t.IsProperty=8]="IsProperty",t[t.IsCustom=16]="IsCustom"}($s||($s={}));const Ss=new class{constructor(t){this.ip=t,this.index=0,this.C=0,this.B=0,this.$=1572864,this.L="",this.R=!0,this.length=t.length,this.O=t.charCodeAt(0)}get P(){return this.ip.slice(this.C,this.index)}}("");function Ts(t,e,i,n){if(16===n)return new pn(t.ip);if(0===t.index){if(1&n)return function(t){const e=[],i=[],n=t.length;let r="";for(;t.index<n;){switch(t.O){case 36:if(123===t.ip.charCodeAt(t.index+1)){e.push(r),r="",t.index+=2,t.O=t.ip.charCodeAt(t.index),Cs(t);const n=Ts(t,0,61,1);i.push(n);continue}r+="$";break;case 92:r+=String.fromCharCode(ms(Rs(t)));break;default:r+=String.fromCharCode(t.O)}Rs(t)}return i.length?(e.push(r),new Un(e,i)):null}(t);if(Cs(t),1048576&t.$)throw new Error(`AUR0151:${t.ip}`)}let r;if(t.R=448>i,32768&t.$){const i=Is[63&t.$];Cs(t),r=new Tn(i,Ts(t,e,449,n)),t.R=!1}else{t:switch(t.$){case 3078:t.R=!1;do{if(Cs(t),e++,!Ls(t,16393)){if(524288&t.$){const t=511&e;r=0===t?ks:1===t?As:new bn(t),e=512;break t}throw new Error(`AUR0154:${t.ip}`)}if(16393===t.$)throw new Error(`AUR0152:${t.ip}`);if(1572864===t.$)throw new Error(`AUR0153:${t.ip}`)}while(3078===t.$);case 1024:2&n?r=new jn(t.L):(r=new yn(t.L,511&e),e=1024),t.R=!0,Cs(t);break;case 3076:t.R=!1,Cs(t),r=ks,e=512;break;case 671751:Cs(t),r=Ts(t,0,62,n),js(t,1835019),e=0;break;case 671757:r=t.ip.search(/\s+of\s+/)>t.index?function(t){const e=[],i=new Nn(90137,e,void 0,void 0);let n="",r=!0,s=0;for(;r;)switch(Cs(t),t.$){case 1835022:r=!1,o();break;case 1572876:o();break;case 1024:n=t.P;break;default:throw new Error(`AUR0170:${t.ip}`)}return js(t,1835022),i;function o(){""!==n?(e.push(new Vn(new wn(ks,n),new xn(ks,new En(s++)),void 0)),n=""):s++}}(t):function(t,e,i){Cs(t);const n=new Array;for(;1835022!==t.$;)if(Ls(t,1572876)){if(n.push(xs),1835022===t.$)break}else{if(n.push(Ts(t,e,62,-3&i)),!Ls(t,1572876))break;if(1835022===t.$)break}return js(t,1835022),2&i?new Mn(n):(t.R=!1,new Cn(n))}(t,e,n),e=0;break;case 131080:r=function(t,e){const i=new Array,n=new Array;for(Cs(t);1835018!==t.$;){if(i.push(t.L),12288&t.$)Cs(t),js(t,1572879),n.push(Ts(t,0,62,-3&e));else{if(!(3072&t.$))throw new Error(`AUR0164:${t.ip}`);{const{O:i,$:r,index:s}=t;Cs(t),Ls(t,1572879)?n.push(Ts(t,0,62,-3&e)):(t.O=i,t.$=r,t.index=s,n.push(Ts(t,0,450,-3&e)))}}1835018!==t.$&&js(t,1572876)}return js(t,1835018),2&e?new Ln(i,n):(t.R=!1,new Rn(i,n))}(t,n),e=0;break;case 540714:r=new On([t.L]),t.R=!1,Cs(t),e=0;break;case 540715:r=Es(t,e,n,r,!1),e=0;break;case 4096:case 8192:r=new En(t.L),t.R=!1,Cs(t),e=0;break;case 2050:case 2051:case 2049:case 2048:r=Is[63&t.$],t.R=!1,Cs(t),e=0;break;default:throw t.index>=t.length?new Error(`AUR0155:${t.ip}`):new Error(`AUR0156:${t.ip}`)}if(2&n)return function(t,e){if(0==(65536&e.$kind))throw new Error(`AUR0163:${t.ip}`);if(1051180!==t.$)throw new Error(`AUR0163:${t.ip}`);Cs(t);const i=e,n=Ts(t,0,61,0);return new Bn(i,n)}(t,r);if(449<i)return r;let s=t.L;for(;(16384&t.$)>0;){const i=[];let o;switch(t.$){case 16393:if(t.R=!0,Cs(t),0==(3072&t.$))throw new Error(`AUR0153:${t.ip}`);if(s=t.L,Cs(t),e=(1536&e)<<1|2048&e|(4096&e)>>1,671751===t.$){0===e&&(e=2048);continue}r=1024&e?new yn(s,r.ancestor):new wn(r,s);continue;case 671757:t.R=!0,Cs(t),e=4096,r=new xn(r,Ts(t,0,62,n)),js(t,1835022);break;case 671751:for(t.R=!1,Cs(t);1835019!==t.$&&(i.push(Ts(t,0,62,n)),Ls(t,1572876)););js(t,1835019),r=1024&e?new kn(s,i,r.ancestor):2048&e?new An(r,s,i):new $n(r,i),e=0;break;case 540714:t.R=!1,o=[t.L],r=new Pn(o,o,r),Cs(t);break;case 540715:r=Es(t,e,n,r,!0)}}}if(448<i)return r;for(;(65536&t.$)>0;){const s=t.$;if((448&s)<=i)break;Cs(t),r=new Sn(Is[63&s],r,Ts(t,e,448&s,n)),t.R=!1}if(63<i)return r;if(Ls(t,1572880)){const i=Ts(t,e,62,n);js(t,1572879),r=new mn(r,i,Ts(t,e,62,n)),t.R=!1}if(62<i)return r;if(Ls(t,1048616)){if(!t.R)throw new Error(`AUR0158:${t.ip}`);r=new vn(r,Ts(t,e,62,n))}if(61<i)return r;for(;Ls(t,1572884);){if(1572864===t.$)throw new Error(`AUR0159:${t.ip}`);const i=t.L;Cs(t);const s=new Array;for(;Ls(t,1572879);)s.push(Ts(t,e,62,n));r=new gn(r,i,s)}for(;Ls(t,1572883);){if(1572864===t.$)throw new Error(`AUR0160:${t.ip}`);const i=t.L;Cs(t);const s=new Array;for(;Ls(t,1572879);)s.push(Ts(t,e,62,n));r=new fn(r,i,s)}if(1572864!==t.$){if(1&n)return r;if("of"===t.P)throw new Error(`AUR0161:${t.ip}`);throw new Error(`AUR0162:${t.ip}`)}return r}function Es(t,e,i,n,r){const s=[t.L];js(t,540715);const o=[Ts(t,e,62,i)];for(;540714!==(t.$=Ms(t));)s.push(t.L),js(t,540715),o.push(Ts(t,e,62,i));return s.push(t.L),t.R=!1,r?(Cs(t),new Pn(s,s,n,o)):(Cs(t),new On(s,o))}function Cs(t){for(;t.index<t.length;)if(t.C=t.index,null!=(t.$=qs[t.O](t)))return;t.$=1572864}function Rs(t){return t.O=t.ip.charCodeAt(++t.index)}function Os(t,e){let i=t.O;if(!1===e){do{i=Rs(t)}while(i<=57&&i>=48);if(46!==i)return t.L=parseInt(t.P,10),8192;if(i=Rs(t),t.index>=t.length)return t.L=parseInt(t.P.slice(0,-1),10),8192}if(i<=57&&i>=48)do{i=Rs(t)}while(i<=57&&i>=48);else t.O=t.ip.charCodeAt(--t.index);return t.L=parseFloat(t.P),8192}function Ps(t){let e=!0,i="";for(;96!==Rs(t);)if(36===t.O){if(t.index+1<t.length&&123===t.ip.charCodeAt(t.index+1)){t.index++,e=!1;break}i+="$"}else if(92===t.O)i+=String.fromCharCode(ms(Rs(t)));else{if(t.index>=t.length)throw new Error(`AUR0166:${t.ip}`);i+=String.fromCharCode(t.O)}return Rs(t),t.L=i,e?540714:540715}function Ms(t){if(t.index>=t.length)throw new Error(`AUR0166:${t.ip}`);return t.index--,Ps(t)}function Ls(t,e){return t.$===e&&(Cs(t),!0)}function js(t,e){if(t.$!==e)throw new Error(`AUR0167:${t.ip}<${e}`);Cs(t)}const Is=[bs,ys,ws,xs,"$this",null,"$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],Bs=Ni();Bs.true=2049,Bs.null=2050,Bs.false=2048,Bs.undefined=2051,Bs.$this=3076,Bs.$parent=3078,Bs.in=1640799,Bs.instanceof=1640800,Bs.typeof=34851,Bs.void=34852,Bs.of=1051180;const Us=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Ns=[48,58];function Vs(t,e,i,n){const r=i.length;for(let s=0;s<r;s+=2){const r=i[s];let o=i[s+1];if(o=o>0?o:r+1,t&&t.fill(n,r,o),e)for(let t=r;t<o;t++)e.add(t)}}function zs(t){return e=>(Rs(e),t)}const Ds=t=>{throw new Error(`AUR0168:${t.ip}`)};Ds.notMapped=!0,Vs(null,new Set,[36,0,48,58,65,91,95,0,97,123],!0);const Fs=new Uint8Array(65535);Vs(Fs,null,Us,1),Vs(Fs,null,Ns,1);const qs=new Array(65535);qs.fill(Ds,0,65535),Vs(qs,null,[0,33,127,161],(t=>(Rs(t),null))),Vs(qs,null,Us,(function(t){for(;Fs[Rs(t)];);const e=Bs[t.L=t.P];return void 0===e?1024:e})),Vs(qs,null,Ns,(t=>Os(t,!1))),qs[34]=qs[39]=t=>function(t){const e=t.O;Rs(t);let i=0;const n=new Array;let r=t.index;for(;t.O!==e;)if(92===t.O)n.push(t.ip.slice(r,t.index)),Rs(t),i=ms(t.O),Rs(t),n.push(String.fromCharCode(i)),r=t.index;else{if(t.index>=t.length)throw new Error(`AUR0165:${t.ip}`);Rs(t)}const s=t.ip.slice(r,t.index);Rs(t),n.push(s);const o=n.join("");return t.L=o,4096}(t),qs[96]=t=>Ps(t),qs[33]=t=>61!==Rs(t)?32809:61!==Rs(t)?1638680:(Rs(t),1638682),qs[61]=t=>61!==Rs(t)?1048616:61!==Rs(t)?1638679:(Rs(t),1638681),qs[38]=t=>38!==Rs(t)?1572883:(Rs(t),1638614),qs[124]=t=>124!==Rs(t)?1572884:(Rs(t),1638549),qs[46]=t=>Rs(t)<=57&&t.O>=48?Os(t,!0):16393,qs[60]=t=>61!==Rs(t)?1638747:(Rs(t),1638749),qs[62]=t=>61!==Rs(t)?1638748:(Rs(t),1638750),qs[37]=zs(1638886),qs[40]=zs(671751),qs[41]=zs(1835019),qs[42]=zs(1638885),qs[43]=zs(623009),qs[44]=zs(1572876),qs[45]=zs(623010),qs[47]=zs(1638887),qs[58]=zs(1572879),qs[63]=zs(1572880),qs[91]=zs(671757),qs[93]=zs(1835022),qs[123]=zs(131080),qs[125]=zs(1835018);let Zs=null;const Hs=[];let _s=!1;function Ws(){return Zs}function Ks(t){if(null==t)throw new Error("AUR0206");if(null==Zs)return Zs=t,Hs[0]=Zs,void(_s=!0);if(Zs===t)throw new Error("AUR0207");Hs.push(t),Zs=t,_s=!0}function Qs(t){if(null==t)throw new Error("AUR0208");if(Zs!==t)throw new Error("AUR0209");Hs.pop(),Zs=Hs.length>0?Hs[Hs.length-1]:null,_s=null!=Zs}const Xs=Object.freeze({get current(){return Zs},get connecting(){return _s},enter:Ks,exit:Qs,pause:function(){_s=!1},resume:function(){_s=!0}}),Gs=Reflect.get,Ys=Object.prototype.toString,Js=new WeakMap;function to(t){switch(Ys.call(t)){case"[object Object]":case"[object Array]":case"[object Map]":case"[object Set]":return!0;default:return!1}}const eo="__raw__";function io(t){return to(t)?no(t):t}function no(t){var e;return null!==(e=Js.get(t))&&void 0!==e?e:function(t){const e=t instanceof Array?lo:t instanceof Map||t instanceof Set?Mo:ao,i=new Proxy(t,e);return Js.set(t,i),i}(t)}function ro(t){var e;return null!==(e=t[eo])&&void 0!==e?e:t}function so(t){return to(t)&&t[eo]||t}function oo(t){return"constructor"===t||"__proto__"===t||"$observers"===t||t===Symbol.toPrimitive||t===Symbol.toStringTag}const ao={get(t,e,i){if(e===eo)return t;const n=Ws();return!_s||oo(e)||null==n?Gs(t,e,i):(n.observe(t,e),io(Gs(t,e,i)))}},lo={get(t,e,i){if(e===eo)return t;const n=Ws();if(!_s||oo(e)||null==n)return Gs(t,e,i);switch(e){case"length":return n.observe(t,"length"),t.length;case"map":return co;case"includes":return po;case"indexOf":return fo;case"lastIndexOf":return go;case"every":return ho;case"filter":return uo;case"find":return mo;case"findIndex":return vo;case"flat":return bo;case"flatMap":return yo;case"join":return wo;case"push":return ko;case"pop":return xo;case"reduce":return Oo;case"reduceRight":return Po;case"reverse":return To;case"shift":return Ao;case"unshift":return $o;case"slice":return Ro;case"splice":return So;case"some":return Eo;case"sort":return Co;case"keys":return zo;case"values":case Symbol.iterator:return Do;case"entries":return Fo}return n.observe(t,e),io(Gs(t,e,i))},ownKeys(t){var e;return null===(e=Ws())||void 0===e||e.observe(t,"length"),Reflect.ownKeys(t)}};function co(t,e){var i;const n=ro(this),r=n.map(((i,n)=>so(t.call(e,io(i),n,this))));return null===(i=Ws())||void 0===i||i.observeCollection(n),io(r)}function ho(t,e){var i;const n=ro(this),r=n.every(((i,n)=>t.call(e,io(i),n,this)));return null===(i=Ws())||void 0===i||i.observeCollection(n),r}function uo(t,e){var i;const n=ro(this),r=n.filter(((i,n)=>so(t.call(e,io(i),n,this))));return null===(i=Ws())||void 0===i||i.observeCollection(n),io(r)}function po(t){var e;const i=ro(this),n=i.includes(so(t));return null===(e=Ws())||void 0===e||e.observeCollection(i),n}function fo(t){var e;const i=ro(this),n=i.indexOf(so(t));return null===(e=Ws())||void 0===e||e.observeCollection(i),n}function go(t){var e;const i=ro(this),n=i.lastIndexOf(so(t));return null===(e=Ws())||void 0===e||e.observeCollection(i),n}function vo(t,e){var i;const n=ro(this),r=n.findIndex(((i,n)=>so(t.call(e,io(i),n,this))));return null===(i=Ws())||void 0===i||i.observeCollection(n),r}function mo(t,e){var i;const n=ro(this),r=n.find(((e,i)=>t(io(e),i,this)),e);return null===(i=Ws())||void 0===i||i.observeCollection(n),io(r)}function bo(){var t;const e=ro(this);return null===(t=Ws())||void 0===t||t.observeCollection(e),io(e.flat())}function yo(t,e){var i;const n=ro(this);return null===(i=Ws())||void 0===i||i.observeCollection(n),no(n.flatMap(((i,n)=>io(t.call(e,io(i),n,this)))))}function wo(t){var e;const i=ro(this);return null===(e=Ws())||void 0===e||e.observeCollection(i),i.join(t)}function xo(){return io(ro(this).pop())}function ko(...t){return ro(this).push(...t)}function Ao(){return io(ro(this).shift())}function $o(...t){return ro(this).unshift(...t)}function So(...t){return io(ro(this).splice(...t))}function To(...t){var e;const i=ro(this),n=i.reverse();return null===(e=Ws())||void 0===e||e.observeCollection(i),io(n)}function Eo(t,e){var i;const n=ro(this),r=n.some(((i,n)=>so(t.call(e,io(i),n,this))));return null===(i=Ws())||void 0===i||i.observeCollection(n),r}function Co(t){var e;const i=ro(this),n=i.sort(t);return null===(e=Ws())||void 0===e||e.observeCollection(i),io(n)}function Ro(t,e){var i;const n=ro(this);return null===(i=Ws())||void 0===i||i.observeCollection(n),no(n.slice(t,e))}function Oo(t,e){var i;const n=ro(this),r=n.reduce(((e,i,n)=>t(e,io(i),n,this)),e);return null===(i=Ws())||void 0===i||i.observeCollection(n),io(r)}function Po(t,e){var i;const n=ro(this),r=n.reduceRight(((e,i,n)=>t(e,io(i),n,this)),e);return null===(i=Ws())||void 0===i||i.observeCollection(n),io(r)}const Mo={get(t,e,i){if(e===eo)return t;const n=Ws();if(!_s||oo(e)||null==n)return Gs(t,e,i);switch(e){case"size":return n.observe(t,"size"),t.size;case"clear":return No;case"delete":return Vo;case"forEach":return Lo;case"add":if(t instanceof Set)return Uo;break;case"get":if(t instanceof Map)return Io;break;case"set":if(t instanceof Map)return Bo;break;case"has":return jo;case"keys":return zo;case"values":return Do;case"entries":return Fo;case Symbol.iterator:return t instanceof Map?Fo:Do}return io(Gs(t,e,i))}};function Lo(t,e){var i;const n=ro(this);return null===(i=Ws())||void 0===i||i.observeCollection(n),n.forEach(((i,n)=>{t.call(e,io(i),io(n),this)}))}function jo(t){var e;const i=ro(this);return null===(e=Ws())||void 0===e||e.observeCollection(i),i.has(so(t))}function Io(t){var e;const i=ro(this);return null===(e=Ws())||void 0===e||e.observeCollection(i),io(i.get(so(t)))}function Bo(t,e){return io(ro(this).set(so(t),so(e)))}function Uo(t){return io(ro(this).add(so(t)))}function No(){return io(ro(this).clear())}function Vo(t){return io(ro(this).delete(so(t)))}function zo(){var t;const e=ro(this);null===(t=Ws())||void 0===t||t.observeCollection(e);const i=e.keys();return{next(){const t=i.next(),e=t.value,n=t.done;return n?{value:void 0,done:n}:{value:io(e),done:n}},[Symbol.iterator](){return this}}}function Do(){var t;const e=ro(this);null===(t=Ws())||void 0===t||t.observeCollection(e);const i=e.values();return{next(){const t=i.next(),e=t.value,n=t.done;return n?{value:void 0,done:n}:{value:io(e),done:n}},[Symbol.iterator](){return this}}}function Fo(){var t;const e=ro(this);null===(t=Ws())||void 0===t||t.observeCollection(e);const i=e.entries();return{next(){const t=i.next(),e=t.value,n=t.done;return n?{value:void 0,done:n}:{value:[io(e[0]),io(e[1])],done:n}},[Symbol.iterator](){return this}}}const qo=Object.freeze({getProxy:no,getRaw:ro,wrap:io,unwrap:so,rawKey:eo});class Zo{constructor(t,e,i,n,r){this.interceptor=this,this.type=1,this.v=void 0,this.ov=void 0,this.ir=!1,this.D=!1,this.o=t,this.get=e,this.set=i,this.up=n,this.oL=r}static create(t,e,i,n,r){const s=i.get,o=i.set,a=new Zo(t,s,o,r,n),l=()=>a.getValue();return l.getObserver=()=>a,Li(t,e,{enumerable:i.enumerable,configurable:!0,get:l,set:t=>{a.setValue(t,0)}}),a}getValue(){return 0===this.subs.count?this.get.call(this.o,this):(this.D&&(this.compute(),this.D=!1),this.v)}setValue(t,e){if(!ji(this.set))throw new Error("AUR0221");t!==this.v&&(this.ir=!0,this.set.call(this.o,t),this.ir=!1,this.run())}handleChange(){this.D=!0,this.subs.count>0&&this.run()}handleCollectionChange(){this.D=!0,this.subs.count>0&&this.run()}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.compute(),this.D=!1)}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.D=!0,this.obs.clearAll())}flush(){Ho=this.ov,this.ov=this.v,this.subs.notify(this.v,Ho,0)}run(){if(this.ir)return;const t=this.v,e=this.compute();this.D=!1,Object.is(e,t)||(this.ov=t,this.queue.add(this))}compute(){this.ir=!0,this.obs.version++;try{return Ks(this),this.v=so(this.get.call(this.up?io(this.o):this.o,this))}finally{this.obs.clear(),this.ir=!1,Qs(this)}}}let Ho;hs(Zo),Xn(Zo),ir(Zo);const _o=ke.createInterface("IDirtyChecker",(t=>t.singleton(Qo))),Wo={timeoutsPerCheck:25,disabled:!1,throw:!1,resetToDefault(){this.timeoutsPerCheck=6,this.disabled=!1,this.throw=!1}},Ko={persistent:!0};class Qo{constructor(t){this.p=t,this.tracked=[],this.T=null,this.j=0,this.check=()=>{if(Wo.disabled)return;if(++this.j<Wo.timeoutsPerCheck)return;this.j=0;const t=this.tracked,e=t.length;let i,n=0;for(;n<e;++n)i=t[n],i.isDirty()&&this.queue.add(i)}}createProperty(t,e){if(Wo.throw)throw new Error(`AUR0222:${e}`);return new Xo(this,t,e)}addProperty(t){this.tracked.push(t),1===this.tracked.length&&(this.T=this.p.taskQueue.queueTask(this.check,Ko))}removeProperty(t){this.tracked.splice(this.tracked.indexOf(t),1),0===this.tracked.length&&(this.T.cancel(),this.T=null)}}Qo.inject=[si],ir(Qo);class Xo{constructor(t,e,i){this.obj=e,this.key=i,this.type=0,this.ov=void 0,this.I=t}getValue(){return this.obj[this.key]}setValue(t,e){throw new Error(`Trying to set value for property ${this.key} in dirty checker`)}isDirty(){return this.ov!==this.obj[this.key]}flush(){const t=this.ov,e=this.getValue();this.ov=e,this.subs.notify(e,t,0)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.ov=this.obj[this.key],this.I.addProperty(this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.I.removeProperty(this)}}Xn(Xo);class Go{constructor(t,e){this.type=0,this.o=t,this.k=e}get doNotCache(){return!0}getValue(){return this.o[this.k]}setValue(){}subscribe(){}unsubscribe(){}}class Yo{constructor(){this.type=0}getValue(t,e){return t[e]}setValue(t,e,i,n){i[n]=t}}let Jo;class ta{constructor(t,e){this.type=1,this.v=void 0,this.ov=void 0,this.iO=!1,this.f=0,this.o=t,this.k=e}getValue(){return this.v}setValue(t,e){if(this.iO){if(Object.is(t,this.v))return;this.ov=this.v,this.v=t,this.f=e,this.queue.add(this)}else this.o[this.k]=t}subscribe(t){!1===this.iO&&this.start(),this.subs.add(t)}flush(){Jo=this.ov,this.ov=this.v,this.subs.notify(this.v,Jo,this.f)}start(){return!1===this.iO&&(this.iO=!0,this.v=this.o[this.k],Li(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:t=>{this.setValue(t,0)}})),this}stop(){return this.iO&&(Li(this.o,this.k,{enumerable:!0,configurable:!0,writable:!0,value:this.v}),this.iO=!1),this}}class ea{constructor(t,e,i,n){this.type=1,this.v=void 0,this.ov=void 0,this.f=0,this.o=t,this.S=i,this.hs=ji(i);const r=t[e];this.cb=ji(r)?r:void 0,this.v=n}getValue(){return this.v}setValue(t,e){var i;this.hs&&(t=this.S(t,null)),Object.is(t,this.v)||(this.ov=this.v,this.v=t,this.f=e,null===(i=this.cb)||void 0===i||i.call(this.o,this.v,this.ov,e),this.queue.add(this))}flush(){Jo=this.ov,this.ov=this.v,this.subs.notify(this.v,Jo,this.f)}}Xn(ta),Xn(ea),ir(ta),ir(ea);const ia=new Yo,na=ke.createInterface("IObserverLocator",(t=>t.singleton(oa))),ra=ke.createInterface("INodeObserverLocator",(t=>t.cachedCallback((t=>(t.getAll(pi).forEach((t=>{t.error("Using default INodeObserverLocator implementation. Will not be able to observe nodes (HTML etc...).")})),new sa)))));class sa{handles(){return!1}getObserver(){return ia}getAccessor(){return ia}}class oa{constructor(t,e){this.I=t,this.M=e,this.F=[]}addAdapter(t){this.F.push(t)}getObserver(t,e){var i,n;return null!==(n=null===(i=t.$observers)||void 0===i?void 0:i[e])&&void 0!==n?n:this.V(t,e,this.createObserver(t,e))}getAccessor(t,e){var i;const n=null===(i=t.$observers)||void 0===i?void 0:i[e];return void 0!==n?n:this.M.handles(t,e,this)?this.M.getAccessor(t,e,this):ia}getArrayObserver(t){return Pr(t)}getMapObserver(t){return Jr(t)}getSetObserver(t){return Fr(t)}createObserver(t,e){var i,n,r,s;if(!(t instanceof Object))return new Go(t,e);if(this.M.handles(t,e,this))return this.M.getObserver(t,e,this);switch(e){case"length":if(t instanceof Array)return Pr(t).getLengthObserver();break;case"size":if(t instanceof Map)return Jr(t).getLengthObserver();if(t instanceof Set)return Fr(t).getLengthObserver();break;default:if(t instanceof Array&&Ft(e))return Pr(t).getIndexObserver(Number(e))}let o=la(t,e);if(void 0===o){let i=aa(t);for(;null!==i&&(o=la(i,e),void 0===o);)i=aa(i)}if(void 0!==o&&!Mi.call(o,"value")){let a=this.N(t,e,o);return null==a&&(a=null===(s=null!==(n=null===(i=o.get)||void 0===i?void 0:i.getObserver)&&void 0!==n?n:null===(r=o.set)||void 0===r?void 0:r.getObserver)||void 0===s?void 0:s(t,this)),null==a?o.configurable?Zo.create(t,e,o,this,!0):this.I.createProperty(t,e):a}return new ta(t,e)}N(t,e,i){if(this.F.length>0)for(const n of this.F){const r=n.getObserver(t,e,i,this);if(null!=r)return r}return null}V(t,e,i){return!0===i.doNotCache?i:void 0===t.$observers?(Li(t,"$observers",{value:{[e]:i}}),i):t.$observers[e]=i}}oa.inject=[_o,ra];const aa=Object.getPrototypeOf,la=Object.getOwnPropertyDescriptor;ke.createInterface("IObservation",(t=>t.singleton(ca)));class ca{constructor(t){this.oL=t}static get inject(){return[na]}run(t){const e=new ha(this.oL,t);return e.run(),e}}class ha{constructor(t,e){this.oL=t,this.fn=e,this.interceptor=this,this.maxRunCount=10,this.queued=!1,this.running=!1,this.runCount=0,this.stopped=!1}handleChange(){this.queued=!0,this.run()}handleCollectionChange(){this.queued=!0,this.run()}run(){if(this.stopped)throw new Error("AUR0225");if(!this.running){++this.runCount,this.running=!0,this.queued=!1,++this.obs.version;try{Ks(this),this.fn(this)}finally{this.obs.clear(),this.running=!1,Qs(this)}if(this.queued){if(this.runCount>this.maxRunCount)throw this.runCount=0,new Error("AUR0226");this.run()}else this.runCount=0}}stop(){this.stopped=!0,this.obs.clearAll()}}hs(ha);const ua=new Map;function da(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}class pa{constructor(t,e={}){var i,n,r,s,o,a,l,c,h,u,d,p,f;this.macroTaskRequested=!1,this.macroTaskHandle=-1,this.globalThis=t,this.decodeURI="decodeURI"in e?e.decodeURI:t.decodeURI,this.decodeURIComponent="decodeURIComponent"in e?e.decodeURIComponent:t.decodeURIComponent,this.encodeURI="encodeURI"in e?e.encodeURI:t.encodeURI,this.encodeURIComponent="encodeURIComponent"in e?e.encodeURIComponent:t.encodeURIComponent,this.Date="Date"in e?e.Date:t.Date,this.Reflect="Reflect"in e?e.Reflect:t.Reflect,this.clearInterval="clearInterval"in e?e.clearInterval:null!==(n=null===(i=t.clearInterval)||void 0===i?void 0:i.bind(t))&&void 0!==n?n:da("clearInterval"),this.clearTimeout="clearTimeout"in e?e.clearTimeout:null!==(s=null===(r=t.clearTimeout)||void 0===r?void 0:r.bind(t))&&void 0!==s?s:da("clearTimeout"),this.queueMicrotask="queueMicrotask"in e?e.queueMicrotask:null!==(a=null===(o=t.queueMicrotask)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:da("queueMicrotask"),this.setInterval="setInterval"in e?e.setInterval:null!==(c=null===(l=t.setInterval)||void 0===l?void 0:l.bind(t))&&void 0!==c?c:da("setInterval"),this.setTimeout="setTimeout"in e?e.setTimeout:null!==(u=null===(h=t.setTimeout)||void 0===h?void 0:h.bind(t))&&void 0!==u?u:da("setTimeout"),this.console="console"in e?e.console:t.console,this.performanceNow="performanceNow"in e?e.performanceNow:null!==(f=null===(p=null===(d=t.performance)||void 0===d?void 0:d.now)||void 0===p?void 0:p.bind(t.performance))&&void 0!==f?f:da("performance.now"),this.flushMacroTask=this.flushMacroTask.bind(this),this.taskQueue=new ga(this,this.requestMacroTask.bind(this),this.cancelMacroTask.bind(this))}static getOrCreate(t,e={}){let i=ua.get(t);return void 0===i&&ua.set(t,i=new pa(t,e)),i}static set(t,e){ua.set(t,e)}requestMacroTask(){this.macroTaskRequested=!0,-1===this.macroTaskHandle&&(this.macroTaskHandle=this.setTimeout(this.flushMacroTask,0))}cancelMacroTask(){this.macroTaskRequested=!1,this.macroTaskHandle>-1&&(this.clearTimeout(this.macroTaskHandle),this.macroTaskHandle=-1)}flushMacroTask(){this.macroTaskHandle=-1,!0===this.macroTaskRequested&&(this.macroTaskRequested=!1,this.taskQueue.flush())}}function fa(t){return t.persistent}class ga{constructor(t,e,i){this.platform=t,this.$request=e,this.$cancel=i,this.t=void 0,this.i=0,this.processing=[],this.pending=[],this.delayed=[],this.flushRequested=!1,this.h=void 0,this.taskPool=[],this.u=0,this.T=0,this.$=0,this.I=()=>{this.flushRequested||(this.flushRequested=!0,this.T=this.platform.performanceNow(),this.$request())},this.M=new xa(t.console)}get isEmpty(){return 0===this.i&&0===this.processing.length&&0===this.pending.length&&0===this.delayed.length}get P(){return 0===this.i&&this.processing.every(fa)&&this.pending.every(fa)&&this.delayed.every(fa)}flush(t=this.platform.performanceNow()){if(this.flushRequested=!1,this.$=t,void 0===this.t){if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}let e;for(;this.processing.length>0;)if((e=this.processing.shift()).run(),1===e.status){if(!0===e.suspend)return this.t=e,void this.I();++this.i}if(this.pending.length>0&&(this.processing.push(...this.pending),this.pending.length=0),this.delayed.length>0){let e=-1;for(;++e<this.delayed.length&&this.delayed[e].queueTime<=t;);this.processing.push(...this.delayed.splice(0,e))}if((this.processing.length>0||this.delayed.length>0||this.i>0)&&this.I(),void 0!==this.h&&this.P){const t=this.h;this.h=void 0,t.resolve()}}else this.I()}cancel(){this.flushRequested&&(this.$cancel(),this.flushRequested=!1)}async yield(){this.isEmpty||(void 0===this.h&&(this.h=Ta()),await this.h)}queueTask(t,e){const{delay:i,preempt:n,persistent:r,reusable:s,suspend:o}={...ka,...e};if(n){if(i>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(r)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}0===this.processing.length&&this.I();const a=this.platform.performanceNow();let l;if(s){const e=this.taskPool,c=this.u-1;c>=0?(l=e[c],e[c]=void 0,this.u=c,l.reuse(a,i,n,r,o,t)):l=new wa(this.M,this,a,a+i,n,r,o,s,t)}else l=new wa(this.M,this,a,a+i,n,r,o,s,t);return n?this.processing[this.processing.length]=l:0===i?this.pending[this.pending.length]=l:this.delayed[this.delayed.length]=l,l}remove(t){let e=this.processing.indexOf(t);if(e>-1)this.processing.splice(e,1);else if(e=this.pending.indexOf(t),e>-1)this.pending.splice(e,1);else{if(e=this.delayed.indexOf(t),!(e>-1))throw new Error(`Task #${t.id} could not be found`);this.delayed.splice(e,1)}}returnToPool(t){this.taskPool[this.u++]=t}resetPersistentTask(t){t.reset(this.platform.performanceNow()),t.createdTime===t.queueTime?this.pending[this.pending.length]=t:this.delayed[this.delayed.length]=t}completeAsyncTask(t){var e;if(!0===t.suspend){if(this.t!==t)throw new Error(`Async task completion mismatch: suspenderTask=${null===(e=this.t)||void 0===e?void 0:e.id}, task=${t.id}`);this.t=void 0}else--this.i;if(void 0!==this.h&&this.P){const t=this.h;this.h=void 0,t.resolve()}this.isEmpty&&this.cancel()}}class va extends Error{constructor(t){super("Task was canceled."),this.task=t}}let ma=0;var ba,ya;!function(t){t[t.pending=0]="pending",t[t.running=1]="running",t[t.completed=2]="completed",t[t.canceled=3]="canceled"}(ba||(ba={}));class wa{constructor(t,e,i,n,r,s,o,a,l){this.taskQueue=e,this.createdTime=i,this.queueTime=n,this.preempt=r,this.persistent=s,this.suspend=o,this.reusable=a,this.callback=l,this.id=++ma,this.R=void 0,this.A=void 0,this.q=void 0,this.C=0,this.M=t}get result(){const t=this.q;if(void 0===t)switch(this.C){case 0:{const t=this.q=Ta();return this.R=t.resolve,this.A=t.reject,t}case 1:throw new Error("Trying to await task from within task will cause a deadlock.");case 2:return this.q=Promise.resolve();case 3:return this.q=Promise.reject(new va(this))}return t}get status(){return this.C}run(t=this.taskQueue.platform.performanceNow()){if(0!==this.C)throw new Error(`Cannot run task in ${this.C} state`);const{persistent:e,reusable:i,taskQueue:n,callback:r,R:s,A:o,createdTime:a}=this;let l;this.C=1;try{l=r(t-a),l instanceof Promise?l.then((t=>{this.persistent?n.resetPersistentTask(this):(this.C=e?3:2,this.dispose()),n.completeAsyncTask(this),void 0!==s&&s(t),!this.persistent&&i&&n.returnToPool(this)})).catch((t=>{if(this.persistent||this.dispose(),n.completeAsyncTask(this),void 0===o)throw t;o(t)})):(this.persistent?n.resetPersistentTask(this):(this.C=e?3:2,this.dispose()),void 0!==s&&s(l),!this.persistent&&i&&n.returnToPool(this))}catch(t){if(this.persistent||this.dispose(),void 0===o)throw t;o(t)}}cancel(){if(0===this.C){const t=this.taskQueue,e=this.reusable,i=this.A;return t.remove(this),t.isEmpty&&t.cancel(),this.C=3,this.dispose(),e&&t.returnToPool(this),void 0!==i&&i(new va(this)),!0}return!(1!==this.C||!this.persistent||(this.persistent=!1,0))}reset(t){const e=this.queueTime-this.createdTime;this.createdTime=t,this.queueTime=t+e,this.C=0,this.R=void 0,this.A=void 0,this.q=void 0}reuse(t,e,i,n,r,s){this.createdTime=t,this.queueTime=t+e,this.preempt=i,this.persistent=n,this.suspend=r,this.callback=s,this.C=0}dispose(){this.callback=void 0,this.R=void 0,this.A=void 0,this.q=void 0}}class xa{constructor(t){this.console=t,this.enabled=!1,this.depth=0}enter(t,e){this.log(`${"  ".repeat(this.depth++)}> `,t,e)}leave(t,e){this.log(`${"  ".repeat(--this.depth)}< `,t,e)}trace(t,e){this.log(`${"  ".repeat(this.depth)}- `,t,e)}log(t,e,i){if(e instanceof ga){const n=`processing=${e.processing.length} pending=${e.pending.length} delayed=${e.delayed.length} flushReq=${e.flushRequested} susTask=${!!e.t}`;this.console.log(`${t}[Q.${i}] ${n}`)}else{const n=e.id,r=Math.round(10*e.createdTime)/10,s=Math.round(10*e.queueTime)/10,o=e.preempt,a=e.reusable,l=e.persistent,c=e.suspend,h=function(t){switch(t){case 0:return"pending";case 1:return"running";case 3:return"canceled";case 2:return"completed"}}(e.C),u=`id=${n} created=${r} queue=${s} preempt=${o} persistent=${l} reusable=${a} status=${h} suspend=${c}`;this.console.log(`${t}[T.${i}] ${u}`)}}}!function(t){t[t.render=0]="render",t[t.macroTask=1]="macroTask",t[t.postRender=2]="postRender"}(ya||(ya={}));const ka={delay:0,preempt:!1,persistent:!1,reusable:!0,suspend:!1};let Aa,$a;function Sa(t,e){Aa=t,$a=e}function Ta(){const t=new Promise(Sa);return t.resolve=Aa,t.reject=$a,t}const Ea=new Map;class Ca extends pa{constructor(t,e={}){super(t,e),this.t=!1,this.i=-1,this.h=!1,this.u=-1,"Node,Element,HTMLElement,CustomEvent,CSSStyleSheet,ShadowRoot,MutationObserver,window,document,location,history,navigator,customElements".split(",").forEach((i=>{this[i]=i in e?e[i]:t[i]})),"fetch,requestAnimationFrame,cancelAnimationFrame".split(",").forEach((i=>{var n,r;this[i]=i in e?e[i]:null!==(r=null===(n=t[i])||void 0===n?void 0:n.bind(t))&&void 0!==r?r:function(t){return function(){throw new Error(`The PLATFORM did not receive a valid reference to the global function '${t}'.`)}}(i)})),this.flushDomRead=this.flushDomRead.bind(this),this.flushDomWrite=this.flushDomWrite.bind(this),this.domReadQueue=new ga(this,this.requestDomRead.bind(this),this.cancelDomRead.bind(this)),this.domWriteQueue=new ga(this,this.requestDomWrite.bind(this),this.cancelDomWrite.bind(this))}static getOrCreate(t,e={}){let i=Ea.get(t);return void 0===i&&Ea.set(t,i=new Ca(t,e)),i}static set(t,e){Ea.set(t,e)}requestDomRead(){this.t=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomRead(){this.t=!1,this.i>-1&&(this.clearTimeout(this.i),this.i=-1),!1===this.h&&this.u>-1&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomRead(){this.i=-1,!0===this.t&&(this.t=!1,this.domReadQueue.flush())}requestDomWrite(){this.h=!0,-1===this.u&&(this.u=this.requestAnimationFrame(this.flushDomWrite))}cancelDomWrite(){this.h=!1,this.u>-1&&(!1===this.t||this.i>-1)&&(this.cancelAnimationFrame(this.u),this.u=-1)}flushDomWrite(){this.u=-1,!0===this.h&&(this.h=!1,this.domWriteQueue.flush()),!0===this.t&&-1===this.i&&(this.i=this.setTimeout(this.flushDomRead,0))}}function Ra(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function Oa(t,e){return function(i,n){e(i,n,t)}}const Pa=Pt.getOwn,Ma=Pt.hasOwn,La=Pt.define,{annotation:ja,resource:Ia}=pe,Ba=ja.keyFor,Ua=Ia.keyFor,Na=Ia.appendTo,Va=ja.appendTo,za=ja.getKeys,Da=()=>Object.create(null),Fa=Object.prototype.hasOwnProperty,qa=Da(),Za=(t,e,i)=>{if(!0===qa[e])return!0;if(!Wa(e))return!1;const n=e.slice(0,5);return qa[e]="aria-"===n||"data-"===n||i.isStandardSvgAttribute(t,e)},Ha=t=>t instanceof Promise,_a=t=>"function"==typeof t,Wa=t=>"string"==typeof t,Ka=Object.defineProperty,Qa=t=>{throw t};function Xa(t,e){let i;function n(t,e){arguments.length>1&&(i.property=e),La(Ya,tl.create(e,t,i),t.constructor,e),Va(t.constructor,Ja.keyFrom(e))}return arguments.length>1?(i={},void n(t,e)):Wa(t)?(i={},n):(i=void 0===t?{}:t,n)}function Ga(t){return t.startsWith(Ya)}const Ya=Ba("bindable"),Ja=Object.freeze({name:Ya,keyFrom:t=>`${Ya}:${t}`,from(t,...e){const i={},n=Array.isArray;function r(e){i[e]=tl.create(e,t)}function s(e,n){i[e]=n instanceof tl?n:tl.create(e,t,n)}return e.forEach((function(t){n(t)?t.forEach(r):t instanceof tl?i[t.property]=t:void 0!==t&&Object.keys(t).forEach((e=>s(e,t[e])))})),i},for(t){let e;const i={add(n){let r,s;return Wa(n)?(r=n,s={property:r}):(r=n.property,s=n),e=tl.create(r,t,s),Ma(Ya,t,r)||Va(t,Ja.keyFrom(r)),La(Ya,e,t,r),i},mode:t=>(e.mode=t,i),callback:t=>(e.callback=t,i),attribute:t=>(e.attribute=t,i),primary:()=>(e.primary=!0,i),set:t=>(e.set=t,i)};return i},getAll(t){const e=Ya.length+1,i=[],n=ie(t);let r,s,o,a,l=n.length,c=0;for(;--l>=0;)for(o=n[l],r=za(o).filter(Ga),s=r.length,a=0;a<s;++a)i[c++]=Pa(Ya,o,r[a].slice(e));return i}});class tl{constructor(t,e,i,n,r,s){this.attribute=t,this.callback=e,this.mode=i,this.primary=n,this.property=r,this.set=s}static create(t,e,i={}){return new tl(ee(i.attribute,Kt(t)),ee(i.callback,`${t}Changed`),ee(i.mode,qn.toView),ee(i.primary,!1),ee(i.property,t),ee(i.set,function(t,e,i={}){var n,r,s;const o=null!==(r=null!==(n=i.type)&&void 0!==n?n:Reflect.getMetadata("design:type",e,t))&&void 0!==r?r:null;if(null==o)return ri;let a;switch(o){case Number:case Boolean:case String:case BigInt:a=o;break;default:{const t=o.coerce;a="function"==typeof t?t.bind(o):null!==(s=el.for(o))&&void 0!==s?s:ri;break}}return a===ri?a:function(t,e){return function(i,n){var r;return(null==n?void 0:n.enableCoercion)?(null!=e?e:null===(r=null==n?void 0:n.coerceNullish)||void 0===r||!r)&&null==i?i:t(i,n):i}}(a,i.nullable)}(t,e,i)))}}const el={key:Ba("coercer"),define(t,e){La(el.key,t[e].bind(t),t)},for:t=>Pa(el.key,t)};class il{constructor(t,e,i,n,r,s){this.set=n,this.$controller=r,this.t=s,this.v=void 0,this.ov=void 0,this.f=0;const o=t[i],a=t.propertyChanged,l=this.i=_a(o),c=this.u=_a(a),h=this.hs=n!==ri;let u;this.o=t,this.k=e,this.cb=l?o:ri,this.C=c?a:ri,void 0!==this.cb||c||h?(this.iO=!0,u=t[e],this.v=h&&void 0!==u?n(u,this.t):u,this.A()):this.iO=!1}get type(){return 1}getValue(){return this.v}setValue(t,e){this.hs&&(t=this.set(t,this.t));const i=this.v;if(this.iO){if(Object.is(t,i))return;this.v=t,this.ov=i,this.f=e,(null==this.$controller||this.$controller.isBound)&&(this.i&&this.cb.call(this.o,t,i,e),this.u&&this.C.call(this.o,this.k,t,i,e)),this.queue.add(this)}else this.o[this.k]=t}subscribe(t){0==!this.iO&&(this.iO=!0,this.v=this.hs?this.set(this.o[this.k],this.t):this.o[this.k],this.A()),this.subs.add(t)}flush(){nl=this.ov,this.ov=this.v,this.subs.notify(this.v,nl,this.f)}A(){Reflect.defineProperty(this.o,this.k,{enumerable:!0,configurable:!0,get:()=>this.v,set:t=>{this.setValue(t,0)}})}}let nl;Xn(il),ir(il);class rl{constructor(t,e,i,n){if(this.chars=t,this.repeat=e,this.isSymbol=i,this.isInverted=n,n)switch(t.length){case 0:this.has=this.R;break;case 1:this.has=this.B;break;default:this.has=this.I}else switch(t.length){case 0:this.has=this.T;break;case 1:this.has=this.P;break;default:this.has=this.$}}equals(t){return this.chars===t.chars&&this.repeat===t.repeat&&this.isSymbol===t.isSymbol&&this.isInverted===t.isInverted}$(t){return this.chars.includes(t)}P(t){return this.chars===t}T(t){return!1}I(t){return!this.chars.includes(t)}B(t){return this.chars!==t}R(t){return!0}}class sl{constructor(){this.parts=ii,this.O="",this.L={},this.q={}}get pattern(){const t=this.O;return""===t?null:t}set pattern(t){null==t?(this.O="",this.parts=ii):(this.O=t,this.parts=this.q[t])}append(t,e){const i=this.L;void 0===i[t]?i[t]=e:i[t]+=e}next(t){const e=this.L;let i;void 0!==e[t]&&(i=this.q,void 0===i[t]?i[t]=[e[t]]:i[t].push(e[t]),e[t]=void 0)}}class ol{constructor(t,...e){this.charSpec=t,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=e}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(t){const e=this.nextStates,i=e.length;let n=null,r=0;for(;r<i;++r)if(n=e[r],t.equals(n.charSpec))return n;return null}append(t,e){const i=this.patterns;i.includes(e)||i.push(e);let n=this.findChild(t);return null==n&&(n=new ol(t,e),this.nextStates.push(n),t.repeat&&n.nextStates.push(n)),n}findMatches(t,e){const i=[],n=this.nextStates,r=n.length;let s=0,o=null,a=0,l=0;for(;a<r;++a)if(o=n[a],o.charSpec.has(t))if(i.push(o),s=o.patterns.length,l=0,o.charSpec.isSymbol)for(;l<s;++l)e.next(o.patterns[l]);else for(;l<s;++l)e.append(o.patterns[l],t);return i}}class al{constructor(t){this.text=t;const e=this.len=t.length,i=this.specs=[];let n=0;for(;e>n;++n)i.push(new rl(t[n],!1,!1,!1))}eachChar(t){const e=this.len,i=this.specs;let n=0;for(;e>n;++n)t(i[n])}}class ll{constructor(t){this.text="PART",this.spec=new rl(t,!0,!1,!0)}eachChar(t){t(this.spec)}}class cl{constructor(t){this.text=t,this.spec=new rl(t,!1,!0,!1)}eachChar(t){t(this.spec)}}class hl{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const ul=ke.createInterface("ISyntaxInterpreter",(t=>t.singleton(dl)));class dl{constructor(){this.rootState=new ol(null),this.initialStates=[this.rootState]}add(t){t=t.slice(0).sort(((t,e)=>t.pattern>e.pattern?1:-1));const e=t.length;let i,n,r,s,o,a,l,c,h=0;for(;e>h;){for(i=this.rootState,n=t[h],r=n.pattern,s=new hl,o=this.parse(n,s),a=o.length,l=t=>{i=i.append(t,r)},c=0;a>c;++c)o[c].eachChar(l);i.types=s,i.isEndpoint=!0,++h}}interpret(t){const e=new sl,i=t.length;let n,r=this.initialStates,s=0;for(;s<i&&(r=this.getNextStates(r,t.charAt(s),e),0!==r.length);++s);return r=r.filter(pl),r.length>0&&(r.sort(fl),n=r[0],n.charSpec.isSymbol||e.next(n.pattern),e.pattern=n.pattern),e}getNextStates(t,e,i){const n=[];let r=null;const s=t.length;let o=0;for(;o<s;++o)r=t[o],n.push(...r.findMatches(e,i));return n}parse(t,e){const i=[],n=t.pattern,r=n.length,s=t.symbols;let o=0,a=0,l="";for(;o<r;)l=n.charAt(o),0!==s.length&&s.includes(l)?o!==a?(i.push(new al(n.slice(a,o))),++e.statics,a=o):(i.push(new cl(n.slice(a,o+1))),++e.symbols,a=++o):o===a&&"P"===l&&"PART"===n.slice(o,o+4)?(a=o+=4,i.push(new ll(s)),++e.dynamics):++o;return a!==o&&(i.push(new al(n.slice(a,o))),++e.statics),i}}function pl(t){return t.isEndpoint}function fl(t,e){const i=t.types,n=e.types;return i.statics!==n.statics?n.statics-i.statics:i.dynamics!==n.dynamics?n.dynamics-i.dynamics:i.symbols!==n.symbols?n.symbols-i.symbols:0}class gl{constructor(t,e,i,n){this.rawName=t,this.rawValue=e,this.target=i,this.command=n}}const vl=ke.createInterface("IAttributePattern"),ml=ke.createInterface("IAttributeParser",(t=>t.singleton(bl)));class bl{constructor(t,e){this.U={},this._=t;const i=this.F={},n=e.reduce(((t,e)=>{const n=Al(e.constructor);return n.forEach((t=>i[t.pattern]=e)),t.concat(n)}),ii);t.add(n)}parse(t,e){let i=this.U[t];null==i&&(i=this.U[t]=this._.interpret(t));const n=i.pattern;return null==n?new gl(t,e,t,null):this.F[n][n](t,e,i.parts)}}function yl(...t){return function(e){return $l.define(t,e)}}bl.inject=[ul,Pe(vl)];class wl{constructor(t){this.Type=t,this.name=void 0}register(t){Ge.singleton(vl,this.Type).register(t)}}const xl=Ua("attribute-pattern"),kl="attribute-pattern-definitions",Al=t=>pe.annotation.get(t,kl),$l=Object.freeze({name:xl,definitionAnnotationKey:kl,define(t,e){const i=new wl(e);return La(xl,i,e),Na(e,xl),pe.annotation.set(e,kl,t),Va(e,kl),e},getPatternDefinitions:Al});let Sl=class{"PART.PART"(t,e,i){return new gl(t,e,i[0],i[1])}"PART.PART.PART"(t,e,i){return new gl(t,e,i[0],i[2])}};Sl=Ra([yl({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],Sl);let Tl=class{ref(t,e,i){return new gl(t,e,"element","ref")}"PART.ref"(t,e,i){return new gl(t,e,i[0],"ref")}};Tl=Ra([yl({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],Tl);let El=class{":PART"(t,e,i){return new gl(t,e,i[0],"bind")}};El=Ra([yl({pattern:":PART",symbols:":"})],El);let Cl=class{"@PART"(t,e,i){return new gl(t,e,i[0],"trigger")}};Cl=Ra([yl({pattern:"@PART",symbols:"@"})],Cl);let Rl=class{"...$attrs"(t,e,i){return new gl(t,e,"","...$attrs")}};Rl=Ra([yl({pattern:"...$attrs",symbols:""})],Rl);const Ol=si,Pl=ke.createInterface("ISVGAnalyzer",(t=>t.singleton(Ml)));class Ml{isStandardSvgAttribute(t,e){return!1}}const Ll=ke.createInterface("IAttrMapper",(t=>t.singleton(jl)));class jl{constructor(t){this.svg=t,this.fns=[],this.N=Da(),this.W=Da(),this.useMapping({LABEL:{for:"htmlFor"},IMG:{usemap:"useMap"},INPUT:{maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",inputmode:"inputMode"},TEXTAREA:{maxlength:"maxLength"},TD:{rowspan:"rowSpan",colspan:"colSpan"},TH:{rowspan:"rowSpan",colspan:"colSpan"}}),this.useGlobalMapping({accesskey:"accessKey",contenteditable:"contentEditable",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"})}static get inject(){return[Pl]}useMapping(t){var e,i;let n,r,s,o;for(s in t)for(o in n=t[s],r=null!==(e=(i=this.N)[s])&&void 0!==e?e:i[s]=Da(),n){if(void 0!==r[o])throw Il(o,s);r[o]=n[o]}}useGlobalMapping(t){const e=this.W;for(const i in t){if(void 0!==e[i])throw Il(i,"*");e[i]=t[i]}}useTwoWay(t){this.fns.push(t)}isTwoWay(t,e){return function(t,e){switch(t.nodeName){case"INPUT":switch(t.type){case"checkbox":case"radio":return"checked"===e;default:return"value"===e||"files"===e||"value-as-number"===e||"value-as-date"===e}case"TEXTAREA":case"SELECT":return"value"===e;default:switch(e){case"textcontent":case"innerhtml":return t.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(t,e)||this.fns.length>0&&this.fns.some((i=>i(t,e)))}map(t,e){var i,n,r;return null!==(r=null!==(n=null===(i=this.N[t.nodeName])||void 0===i?void 0:i[e])&&void 0!==n?n:this.W[e])&&void 0!==r?r:Za(t,e,this.svg)?e:null}}function Il(t,e){return new Error(`Attribute ${t} has been already registered for ${"*"===e?"all elements":`<${e}/>`}`)}class Bl{constructor(t,e,i,n,r){this.sourceExpression=t,this.target=e,this.targetProperty=i,this.locator=r,this.interceptor=this,this.isBound=!1,this.targetObserver=n.getAccessor(e,i)}callSource(t){const e=this.$scope.overrideContext;e.$event=t;const i=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);return Reflect.deleteProperty(e,"$event"),i}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),this.targetObserver.setValue((t=>this.interceptor.callSource(t)),t,this.target,this.targetProperty),this.isBound=!0}$unbind(t){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,t,this.target,this.targetProperty),this.isBound=!1)}observe(t,e){}handleChange(t,e,i){}}class Ul{constructor(t,e,i){this.type=7,this.v=null,this.ov=null,this.H=!1,this.f=0,this.o=t,this.G=e,this.X=i}getValue(){return this.v}setValue(t,e){this.v=t,this.H=t!==this.ov,0==(64&e)&&this.K()}K(){if(this.H)switch(this.H=!1,this.ov=this.v,this.X){case"class":this.o.classList.toggle(this.G,!!this.v);break;case"style":{let t="",e=this.v;Wa(e)&&e.includes("!important")&&(t="important",e=e.replace("!important","")),this.o.style.setProperty(this.G,e,t);break}default:null==this.v?this.o.removeAttribute(this.X):this.o.setAttribute(this.X,String(this.v))}}handleMutation(t){let e=!1;for(let i=0,n=t.length;n>i;++i){const n=t[i];if("attributes"===n.type&&n.attributeName===this.G){e=!0;break}}if(e){let t;switch(this.X){case"class":t=this.o.classList.contains(this.G);break;case"style":t=this.o.style.getPropertyValue(this.G);break;default:throw new Error(`AUR0651:${this.X}`)}t!==this.v&&(this.ov=this.v,this.v=t,this.H=!1,this.f=0,this.queue.add(this))}}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.v=this.ov=this.o.getAttribute(this.G),Nl(this.o.ownerDocument.defaultView.MutationObserver,this.o,this))}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&Vl(this.o,this)}flush(){Fl=this.ov,this.ov=this.v,this.subs.notify(this.v,Fl,this.f)}}Xn(Ul),ir(Ul);const Nl=(t,e,i)=>{void 0===e.$eMObs&&(e.$eMObs=new Set),void 0===e.$mObs&&(e.$mObs=new t(zl)).observe(e,{attributes:!0}),e.$eMObs.add(i)},Vl=(t,e)=>{const i=t.$eMObs;return!(!i||!i.delete(e)||(0===i.size&&(t.$mObs.disconnect(),t.$mObs=void 0),0))},zl=t=>{t[0].target.$eMObs.forEach(Dl,t)};function Dl(t){t.handleMutation(this)}let Fl;class ql{constructor(t){this.b=t}handleChange(t,e,i){const n=this.b;t!==n.sourceExpression.evaluate(i,n.$scope,n.locator,null)&&n.updateSource(t,i)}}const{oneTime:Zl,toView:Hl,fromView:_l}=qn,Wl=Hl|Zl,Kl={reusable:!1,preempt:!0};class Ql{constructor(t,e,i,n,r,s,o){this.sourceExpression=t,this.targetAttribute=i,this.targetProperty=n,this.mode=r,this.locator=o,this.interceptor=this,this.isBound=!1,this.$scope=null,this.task=null,this.targetSubscriber=null,this.persistentFlags=0,this.value=void 0,this.target=e,this.p=o.get(Ol),this.oL=s}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.locator,t)}handleChange(t,e,i){if(!this.isBound)return;i|=this.persistentFlags;const n=this.mode,r=this.interceptor,s=this.sourceExpression,o=this.$scope,a=this.locator,l=this.targetObserver,c=0==(2&i)&&(4&l.type)>0;let h,u=!1;(10082!==s.$kind||this.obs.count>1)&&(u=0==(n&Zl),u&&this.obs.version++,t=s.evaluate(i,o,a,r),u&&this.obs.clear()),t!==this.value&&(this.value=t,c?(h=this.task,this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,r.updateTarget(t,i)}),Kl),null==h||h.cancel()):r.updateTarget(t,i))}$bind(t,e){var i;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.persistentFlags=97&t,this.$scope=e;let n=this.sourceExpression;n.hasBind&&n.bind(t,e,this.interceptor);let r=this.targetObserver;r||(r=this.targetObserver=new Ul(this.target,this.targetProperty,this.targetAttribute)),n=this.sourceExpression;const s=this.mode,o=this.interceptor;let a=!1;s&Wl&&(a=(s&Hl)>0,o.updateTarget(this.value=n.evaluate(t,e,this.locator,a?o:null),t)),s&_l&&r.subscribe(null!==(i=this.targetSubscriber)&&void 0!==i?i:this.targetSubscriber=new ql(o)),this.isBound=!0}$unbind(t){var e;this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=null,this.value=void 0,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.obs.clearAll(),this.isBound=!1)}}hs(Ql);const{toView:Xl}=qn,Gl={reusable:!1,preempt:!0};class Yl{constructor(t,e,i,n,r,s,o){this.interpolation=e,this.target=i,this.targetProperty=n,this.mode=r,this.locator=s,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.oL=t,this.targetObserver=t.getAccessor(i,n);const a=e.expressions,l=this.partBindings=Array(a.length),c=a.length;let h=0;for(;c>h;++h)l[h]=new Jl(a[h],i,n,s,t,this)}updateTarget(t,e){const i=this.partBindings,n=this.interpolation.parts,r=i.length;let s="",o=0;if(1===r)s=n[0]+i[0].value+n[1];else for(s=n[0];r>o;++o)s+=i[o].value+n[o+1];const a=this.targetObserver;let l;0==(2&e)&&(4&a.type)>0?(l=this.task,this.task=this.taskQueue.queueTask((()=>{this.task=null,a.setValue(s,e,this.target,this.targetProperty)}),Gl),null==l||l.cancel(),l=null):a.setValue(s,e,this.target,this.targetProperty)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e;const i=this.partBindings,n=i.length;let r=0;for(;n>r;++r)i[r].$bind(t,e);this.updateTarget(void 0,t)}$unbind(t){var e;if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const i=this.partBindings,n=i.length;let r=0;for(;n>r;++r)i[r].interceptor.$unbind(t);null===(e=this.task)||void 0===e||e.cancel(),this.task=null}}class Jl{constructor(t,e,i,n,r,s){this.sourceExpression=t,this.target=e,this.targetProperty=i,this.locator=n,this.owner=s,this.interceptor=this,this.mode=qn.toView,this.value="",this.task=null,this.isBound=!1,this.oL=r}handleChange(t,e,i){if(!this.isBound)return;const n=this.sourceExpression,r=this.obs;let s=!1;10082===n.$kind&&1===r.count||(s=(this.mode&Xl)>0,s&&r.version++,t=n.evaluate(i,this.$scope,this.locator,s?this.interceptor:null),s&&r.clear()),t!=this.value&&(this.value=t,t instanceof Array&&this.observeCollection(t),this.owner.updateTarget(t,i))}handleCollectionChange(t,e){this.owner.updateTarget(void 0,e)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),this.value=this.sourceExpression.evaluate(t,e,this.locator,(this.mode&Xl)>0?this.interceptor:null),this.value instanceof Array&&this.observeCollection(this.value)}$unbind(t){this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll())}}hs(Jl);class tc{constructor(t,e,i,n,r,s){this.sourceExpression=t,this.target=e,this.locator=i,this.p=r,this.strict=s,this.interceptor=this,this.mode=qn.toView,this.value="",this.task=null,this.isBound=!1,this.oL=n}updateTarget(t,e){var i,n;const r=this.target,s=this.p.Node,o=this.value;this.value=t,o instanceof s&&(null===(i=o.parentNode)||void 0===i||i.removeChild(o)),t instanceof s?(r.textContent="",null===(n=r.parentNode)||void 0===n||n.insertBefore(t,r)):r.textContent=String(t)}handleChange(t,e,i){var n;if(!this.isBound)return;const r=this.sourceExpression,s=this.obs;let o=!1;if(10082===r.$kind&&1===s.count||(o=(this.mode&Xl)>0,o&&s.version++,i|=this.strict?1:0,t=r.evaluate(i,this.$scope,this.locator,o?this.interceptor:null),o&&s.clear()),t===this.value)return null===(n=this.task)||void 0===n||n.cancel(),void(this.task=null);0==(2&i)?this.queueUpdate(t,i):this.updateTarget(t,i)}handleCollectionChange(){this.queueUpdate(this.value,0)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(t)}this.isBound=!0,this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this.interceptor),t|=this.strict?1:0;const i=this.value=this.sourceExpression.evaluate(t,e,this.locator,(this.mode&Xl)>0?this.interceptor:null);i instanceof Array&&this.observeCollection(i),this.updateTarget(i,t)}$unbind(t){var e;this.isBound&&(this.isBound=!1,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll(),null===(e=this.task)||void 0===e||e.cancel(),this.task=null)}queueUpdate(t,e){const i=this.task;this.task=this.p.domWriteQueue.queueTask((()=>{this.task=null,this.updateTarget(t,e)}),Gl),null==i||i.cancel()}}hs(tc);class ec{constructor(t,e,i,n,r=!1){this.sourceExpression=t,this.targetProperty=e,this.locator=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.task=null,this.target=null,this.oL=i,this.Y=r}handleChange(t,e,i){if(!this.isBound)return;const n=this.target,r=this.targetProperty,s=n[r];this.obs.version++,t=this.sourceExpression.evaluate(i,this.$scope,this.locator,this.interceptor),this.obs.clear(),t!==s&&(n[r]=t)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.target=this.Y?e.bindingContext:e.overrideContext;const i=this.sourceExpression;i.hasBind&&i.bind(t,e,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(2|t,e,this.locator,this.interceptor),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.obs.clearAll(),this.isBound=!1}}hs(ec);const{oneTime:ic,toView:nc,fromView:rc}=qn,sc=nc|ic,oc={reusable:!1,preempt:!0};class ac{constructor(t,e,i,n,r,s,o){this.sourceExpression=t,this.target=e,this.targetProperty=i,this.mode=n,this.locator=s,this.taskQueue=o,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,this.targetSubscriber=null,this.oL=r}updateTarget(t,e){e|=this.persistentFlags,this.targetObserver.setValue(t,e,this.target,this.targetProperty)}updateSource(t,e){e|=this.persistentFlags,this.sourceExpression.assign(e,this.$scope,this.locator,t)}handleChange(t,e,i){if(!this.isBound)return;const n=0==(2&(i|=this.persistentFlags))&&(4&this.targetObserver.type)>0,r=this.obs;let s=!1;(10082!==this.sourceExpression.$kind||r.count>1)&&(s=this.mode>ic,s&&r.version++,t=this.sourceExpression.evaluate(i,this.$scope,this.locator,this.interceptor),s&&r.clear()),n?(lc=this.task,this.task=this.taskQueue.queueTask((()=>{this.interceptor.updateTarget(t,i),this.task=null}),oc),null==lc||lc.cancel(),lc=null):this.interceptor.updateTarget(t,i)}$bind(t,e){var i;if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}t|=1,this.persistentFlags=97&t,this.$scope=e;let n=this.sourceExpression;n.hasBind&&n.bind(t,e,this.interceptor);const r=this.oL,s=this.mode;let o=this.targetObserver;o||(o=s&rc?r.getObserver(this.target,this.targetProperty):r.getAccessor(this.target,this.targetProperty),this.targetObserver=o),n=this.sourceExpression;const a=this.interceptor,l=(s&nc)>0;s&sc&&a.updateTarget(n.evaluate(t,e,this.locator,l?a:null),t),s&rc&&(o.subscribe(null!==(i=this.targetSubscriber)&&void 0!==i?i:this.targetSubscriber=new ql(a)),l||a.updateSource(o.getValue(this.target,this.targetProperty),t)),this.isBound=!0}$unbind(t){this.isBound&&(this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,lc=this.task,this.targetSubscriber&&this.targetObserver.unsubscribe(this.targetSubscriber),null!=lc&&(lc.cancel(),lc=this.task=null),this.obs.clearAll(),this.isBound=!1)}}hs(ac);let lc=null;class cc{constructor(t,e,i){this.sourceExpression=t,this.target=e,this.locator=i,this.interceptor=this,this.isBound=!1,this.$scope=void 0}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e,this.sourceExpression.hasBind&&this.sourceExpression.bind(t,e,this),this.sourceExpression.assign(t,this.$scope,this.locator,this.target),this.isBound=!0}$unbind(t){if(!this.isBound)return;let e=this.sourceExpression;e.evaluate(t,this.$scope,this.locator,null)===this.target&&e.assign(t,this.$scope,this.locator,null),e=this.sourceExpression,e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=void 0,this.isBound=!1}observe(t,e){}handleChange(t,e,i){}}const hc=ke.createInterface("IAppTask");class uc{constructor(t,e,i){this.c=void 0,this.slot=t,this.k=e,this.cb=i}register(t){return this.c=t.register(Ge.instance(hc,this))}run(){const t=this.k,e=this.cb;return null===t?e():e(this.c.get(t))}}const dc=Object.freeze({beforeCreate:pc("beforeCreate"),hydrating:pc("hydrating"),hydrated:pc("hydrated"),beforeActivate:pc("beforeActivate"),afterActivate:pc("afterActivate"),beforeDeactivate:pc("beforeDeactivate"),afterDeactivate:pc("afterDeactivate")});function pc(t){return function(e,i){return _a(i)?new uc(t,e,i):new uc(t,null,e)}}function fc(t){return t.startsWith(gc)}const gc=Ba("children-observer"),vc=Object.freeze({name:gc,keyFrom:t=>`${gc}:${t}`,from(...t){const e={},i=Array.isArray;function n(t){e[t]=bc.create(t)}function r(t,i){e[t]=bc.create(t,i)}return t.forEach((function(t){i(t)?t.forEach(n):t instanceof bc?e[t.property]=t:void 0!==t&&Object.keys(t).forEach((e=>r(e,t)))})),e},getAll(t){const e=gc.length+1,i=[],n=ie(t);let r,s,o,a=n.length,l=0;for(;--a>=0;){o=n[a],r=za(o).filter(fc),s=r.length;for(let t=0;t<s;++t)i[l++]=Pa(gc,o,r[t].slice(e))}return i}}),mc={childList:!0};class bc{constructor(t,e,i,n,r,s){this.callback=t,this.property=e,this.options=i,this.query=n,this.filter=r,this.map=s}static create(t,e={}){var i;return new bc(ee(e.callback,`${t}Changed`),ee(e.property,t),null!==(i=e.options)&&void 0!==i?i:mc,e.query,e.filter,e.map)}}class yc{constructor(t,e,i,n,r=wc,s=xc,o=kc,a){this.controller=t,this.obj=e,this.propertyKey=i,this.query=r,this.filter=s,this.map=o,this.options=a,this.observing=!1,this.children=void 0,this.observer=void 0,this.callback=e[n],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})}getValue(){return this.observing?this.children:this.get()}setValue(t){}start(){var t;this.observing||(this.observing=!0,this.children=this.get(),(null!==(t=this.observer)&&void 0!==t?t:this.observer=new this.controller.host.ownerDocument.defaultView.MutationObserver((()=>{this.Z()}))).observe(this.controller.host,this.options))}stop(){this.observing&&(this.observing=!1,this.observer.disconnect(),this.children=ii)}Z(){this.children=this.get(),void 0!==this.callback&&this.callback.call(this.obj),this.subs.notify(this.children,void 0,0)}get(){return function(t,e,i,n){var r;const s=e(t),o=s.length,a=[];let l,c,h,u=0;for(;u<o;++u)l=s[u],c=Wc.for(l,Ac),h=null!==(r=null==c?void 0:c.viewModel)&&void 0!==r?r:null,i(l,c,h)&&a.push(n(l,c,h));return a}(this.controller,this.query,this.filter,this.map)}}function wc(t){return t.host.childNodes}function xc(t,e,i){return!!i}function kc(t,e,i){return i}Xn()(yc);const Ac={optional:!0};function $c(t){return function(e){return Oc.define(t,e)}}function Sc(t){return function(e){return Oc.define(Wa(t)?{isTemplateController:!0,name:t}:{isTemplateController:!0,...t},e)}}class Tc{constructor(t,e,i,n,r,s,o,a,l,c){this.Type=t,this.name=e,this.aliases=i,this.key=n,this.defaultBindingMode=r,this.isTemplateController=s,this.bindables=o,this.noMultiBindings=a,this.watches=l,this.dependencies=c}get type(){return 2}static create(t,e){let i,n;return Wa(t)?(i=t,n={name:i}):(i=t.name,n=t),new Tc(e,ee(Rc(e,"name"),i),te(Rc(e,"aliases"),n.aliases,e.aliases),Oc.keyFrom(i),ee(Rc(e,"defaultBindingMode"),n.defaultBindingMode,e.defaultBindingMode,qn.toView),ee(Rc(e,"isTemplateController"),n.isTemplateController,e.isTemplateController,!1),Ja.from(e,...Ja.getAll(e),Rc(e,"bindables"),e.bindables,n.bindables),ee(Rc(e,"noMultiBindings"),n.noMultiBindings,e.noMultiBindings,!1),te(jc.getAnnotation(e),e.watches),te(Rc(e,"dependencies"),n.dependencies,e.dependencies))}register(t){const{Type:e,key:i,aliases:n}=this;Ge.transient(i,e).register(t),Ge.aliasTo(i,e).register(t),Hi(n,Oc,i,t)}}const Ec=Ua("custom-attribute"),Cc=t=>`${Ec}:${t}`,Rc=(t,e)=>Pa(Ba(e),t),Oc=Object.freeze({name:Ec,keyFrom:Cc,isType:t=>_a(t)&&Ma(Ec,t),for(t,e){var i;return null!==(i=lu(t,Cc(e)))&&void 0!==i?i:void 0},define(t,e){const i=Tc.create(t,e);return La(Ec,i,i.Type),La(Ec,i,i),Na(e,Ec),i.Type},getDefinition(t){const e=Pa(Ec,t);if(void 0===e)throw new Error(`AUR0759:${t.name}`);return e},annotate(t,e,i){La(Ba(e),i,t)},getAnnotation:Rc});class Pc{constructor(t,e){this.expression=t,this.callback=e}}const Mc=ii,Lc=Ba("watch"),jc=Object.freeze({name:Lc,add(t,e){let i=Pa(Lc,t);null==i&&La(Lc,i=[],t),i.push(e)},getAnnotation(t){var e;return null!==(e=Pa(Lc,t))&&void 0!==e?e:Mc}});function Ic(t){return function(e){return Wc.define(t,e)}}const Bc=new WeakMap;class Uc{constructor(t,e,i,n,r,s,o,a,l,c,h,u,d,p,f,g,v,m,b,y,w){this.Type=t,this.name=e,this.aliases=i,this.key=n,this.cache=r,this.capture=s,this.template=o,this.instructions=a,this.dependencies=l,this.injectable=c,this.needsCompile=h,this.surrogates=u,this.bindables=d,this.childrenObservers=p,this.containerless=f,this.isStrictBinding=g,this.shadowOptions=v,this.hasSlots=m,this.enhance=b,this.watches=y,this.processContent=w}get type(){return 1}static create(t,e=null){if(null===e){const i=t;if(Wa(i))throw new Error(`AUR0761:${t}`);const n=me("name",i,Hc);return e=_a(i.Type)?i.Type:Wc.generateType(Wt(n)),new Uc(e,n,te(i.aliases),me("key",i,(()=>Wc.keyFrom(n))),me("cache",i,Vc),me("capture",i,Dc),me("template",i,zc),te(i.instructions),te(i.dependencies),me("injectable",i,zc),me("needsCompile",i,Fc),te(i.surrogates),Ja.from(e,i.bindables),vc.from(i.childrenObservers),me("containerless",i,Dc),me("isStrictBinding",i,Dc),me("shadowOptions",i,zc),me("hasSlots",i,Dc),me("enhance",i,Dc),me("watches",i,qc),ve("processContent",e,zc))}if(Wa(t))return new Uc(e,t,te(_c(e,"aliases"),e.aliases),Wc.keyFrom(t),ve("cache",e,Vc),ve("capture",e,Dc),ve("template",e,zc),te(_c(e,"instructions"),e.instructions),te(_c(e,"dependencies"),e.dependencies),ve("injectable",e,zc),ve("needsCompile",e,Fc),te(_c(e,"surrogates"),e.surrogates),Ja.from(e,...Ja.getAll(e),_c(e,"bindables"),e.bindables),vc.from(...vc.getAll(e),_c(e,"childrenObservers"),e.childrenObservers),ve("containerless",e,Dc),ve("isStrictBinding",e,Dc),ve("shadowOptions",e,zc),ve("hasSlots",e,Dc),ve("enhance",e,Dc),te(jc.getAnnotation(e),e.watches),ve("processContent",e,zc));const i=me("name",t,Hc);return new Uc(e,i,te(_c(e,"aliases"),t.aliases,e.aliases),Wc.keyFrom(i),ge("cache",t,e,Vc),ge("capture",t,e,Dc),ge("template",t,e,zc),te(_c(e,"instructions"),t.instructions,e.instructions),te(_c(e,"dependencies"),t.dependencies,e.dependencies),ge("injectable",t,e,zc),ge("needsCompile",t,e,Fc),te(_c(e,"surrogates"),t.surrogates,e.surrogates),Ja.from(e,...Ja.getAll(e),_c(e,"bindables"),e.bindables,t.bindables),vc.from(...vc.getAll(e),_c(e,"childrenObservers"),e.childrenObservers,t.childrenObservers),ge("containerless",t,e,Dc),ge("isStrictBinding",t,e,Dc),ge("shadowOptions",t,e,zc),ge("hasSlots",t,e,Dc),ge("enhance",t,e,Dc),te(t.watches,jc.getAnnotation(e),e.watches),ge("processContent",t,e,zc))}static getOrCreate(t){if(t instanceof Uc)return t;if(Bc.has(t))return Bc.get(t);const e=Uc.create(t);return Bc.set(t,e),La(Zc,e,e.Type),e}register(t){const{Type:e,key:i,aliases:n}=this;t.has(i,!1)||(Ge.transient(i,e).register(t),Ge.aliasTo(i,e).register(t),Hi(n,Wc,i,t))}}const Nc={name:void 0,searchParents:!1,optional:!1},Vc=()=>0,zc=()=>null,Dc=()=>!1,Fc=()=>!0,qc=()=>ii,Zc=Ua("custom-element"),Hc=(()=>{let t=0;return()=>"unnamed-"+ ++t})(),_c=(t,e)=>Pa(Ba(e),t),Wc=Object.freeze({name:Zc,keyFrom:t=>`${Zc}:${t}`,isType:t=>_a(t)&&Ma(Zc,t),for(t,e=Nc){if(void 0===e.name&&!0!==e.searchParents){const i=lu(t,Zc);if(null===i){if(!0===e.optional)return null;throw new Error("AUR0762")}return i}if(void 0!==e.name){if(!0!==e.searchParents){const i=lu(t,Zc);if(null===i)throw new Error("AUR0763");return i.is(e.name)?i:void 0}let i=t,n=!1;for(;null!==i;){const t=lu(i,Zc);if(null!==t&&(n=!0,t.is(e.name)))return t;i=gu(i)}if(n)return;throw new Error("AUR0764")}let i=t;for(;null!==i;){const t=lu(i,Zc);if(null!==t)return t;i=gu(i)}throw new Error("AUR0765")},define(t,e){const i=Uc.create(t,e);return La(Zc,i,i.Type),La(Zc,i,i),Na(i.Type,Zc),i.Type},getDefinition(t){const e=Pa(Zc,t);if(void 0===e)throw new Error(`AUR0760:${t.name}`);return e},annotate:(t,e,i)=>{La(Ba(e),i,t)},getAnnotation:_c,generateName:Hc,createInjectable(){const t=function(e,i,n){return ke.getOrCreateAnnotationParamTypes(e)[n]=t,e};return t.register=function(e){return{resolve:(e,i)=>i.has(t,!0)?i.get(t):null}},t},generateType:function(){const t={value:"",writable:!1,enumerable:!1,configurable:!0},e={};return function(i,n=e){const r=class{};return t.value=i,Reflect.defineProperty(r,"name",t),n!==e&&Object.assign(r.prototype,n),r}}()});Ba("processContent");class Kc{constructor(t){this.obj=t,this.type=6,this.value="",this.ov="",this.J={},this.tt=0,this.H=!1}get doNotCache(){return!0}getValue(){return this.value}setValue(t,e){this.value=t,this.H=t!==this.ov,0==(64&e)&&this.K()}K(){if(this.H){this.H=!1;const t=this.value,e=this.J,i=Qc(t);let n=this.tt;if(this.ov=t,i.length>0&&this.it(i),this.tt+=1,0===n)return;n-=1;for(const t in e)Fa.call(e,t)&&e[t]===n&&this.obj.classList.remove(t)}}it(t){const e=this.obj,i=t.length;let n,r=0;for(;r<i;r++)n=t[r],0!==n.length&&(this.J[n]=this.tt,e.classList.add(n))}}function Qc(t){if(Wa(t))return Xc(t);if("object"!=typeof t)return ii;if(t instanceof Array){const e=t.length;if(e>0){const i=[];let n=0;for(;e>n;++n)i.push(...Qc(t[n]));return i}return ii}const e=[];let i;for(i in t)Boolean(t[i])&&(i.includes(" ")?e.push(...Xc(i)):e.push(i));return e}function Xc(t){const e=t.match(/\S+/g);return null===e?ii:e}ke.createInterface("IShadowDOMStyleFactory",(t=>t.cachedCallback((t=>eh.supported(t.get(Ol))?t.get(Gc):t.get(Yc)))));class Gc{constructor(t){this.p=t,this.cache=new Map}createStyles(t,e){return new eh(this.p,t,this.cache,e)}}Gc.inject=[Ol];class Yc{constructor(t){this.p=t}createStyles(t,e){return new ih(this.p,t,e)}}Yc.inject=[Ol];const Jc=ke.createInterface("IShadowDOMStyles"),th=ke.createInterface("IShadowDOMGlobalStyles",(t=>t.instance({applyTo:ri})));class eh{constructor(t,e,i,n=null){this.sharedStyles=n,this.styleSheets=e.map((e=>{let n;return e instanceof t.CSSStyleSheet?n=e:(n=i.get(e),void 0===n&&(n=new t.CSSStyleSheet,n.replaceSync(e),i.set(e,n))),n}))}static supported(t){return"adoptedStyleSheets"in t.ShadowRoot.prototype}applyTo(t){null!==this.sharedStyles&&this.sharedStyles.applyTo(t),t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets]}}class ih{constructor(t,e,i=null){this.p=t,this.localStyles=e,this.sharedStyles=i}applyTo(t){const e=this.localStyles,i=this.p;for(let n=e.length-1;n>-1;--n){const r=i.document.createElement("style");r.innerHTML=e[n],t.prepend(r)}null!==this.sharedStyles&&this.sharedStyles.applyTo(t)}}const{enter:nh,exit:rh}=Xs,{wrap:sh,unwrap:oh}=qo;class ah{constructor(t,e,i,n,r){this.obj=t,this.get=i,this.cb=n,this.useProxy=r,this.interceptor=this,this.value=void 0,this.isBound=!1,this.running=!1,this.oL=e}handleChange(){this.run()}handleCollectionChange(){this.run()}$bind(){this.isBound||(this.isBound=!0,this.compute())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll())}run(){if(!this.isBound||this.running)return;const t=this.obj,e=this.value,i=this.compute();Object.is(i,e)||this.cb.call(t,i,e,t)}compute(){this.running=!0,this.obs.version++;try{return nh(this),this.value=oh(this.get.call(void 0,this.useProxy?sh(this.obj):this.obj,this))}finally{this.obs.clear(),this.running=!1,rh(this)}}}class lh{constructor(t,e,i,n,r){this.scope=t,this.locator=e,this.oL=i,this.expression=n,this.callback=r,this.interceptor=this,this.isBound=!1,this.obj=t.bindingContext}handleChange(t){const e=this.expression,i=this.obj,n=this.value;10082===e.$kind&&1===this.obs.count||(this.obs.version++,t=e.evaluate(0,this.scope,this.locator,this),this.obs.clear()),Object.is(t,n)||(this.value=t,this.callback.call(i,t,n,i))}$bind(){this.isBound||(this.isBound=!0,this.obs.version++,this.value=this.expression.evaluate(0,this.scope,this.locator,this),this.obs.clear())}$unbind(){this.isBound&&(this.isBound=!1,this.obs.clearAll(),this.value=void 0)}}hs(ah),hs(lh);const ch=ke.createInterface("ILifecycleHooks");class hh{constructor(t,e){this.definition=t,this.instance=e}}class uh{constructor(t,e){this.Type=t,this.propertyNames=e}static create(t,e){const i=new Set;let n=e.prototype;for(;n!==Object.prototype;){for(const t of Object.getOwnPropertyNames(n))"constructor"!==t&&i.add(t);n=Object.getPrototypeOf(n)}return new uh(e,i)}register(t){Ge.singleton(ch,this.Type).register(t)}}const dh=new WeakMap,ph=Ba("lifecycle-hooks"),fh=Object.freeze({name:ph,define(t,e){const i=uh.create(t,e);return La(ph,i,e),Na(e,ph),i.Type},resolve(t){let e=dh.get(t);if(void 0===e){dh.set(t,e=new gh);const i=t.root,n=i.id===t.id?t.getAll(ch):t.has(ch,!1)?i.getAll(ch).concat(t.getAll(ch)):i.getAll(ch);let r,s,o,a,l;for(r of n)for(a of(s=Pa(ph,r.constructor),o=new hh(s,r),s.propertyNames))l=e[a],void 0===l?e[a]=[o]:l.push(o)}return e}});class gh{}const vh=ke.createInterface("IViewFactory");class mh{constructor(t,e){this.isCaching=!1,this.cache=null,this.cacheSize=-1,this.name=e.name,this.container=t,this.def=e}setCacheSize(t,e){t&&("*"===t?t=mh.maxCacheSize:Wa(t)&&(t=parseInt(t,10)),-1!==this.cacheSize&&e||(this.cacheSize=t)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(t){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(t){return!!this.canReturnToCache(t)&&(this.cache.push(t),!0)}create(t){const e=this.cache;let i;return null!=e&&e.length>0?(i=e.pop(),i):(i=Oh.$view(this,t),i)}}mh.maxCacheSize=65535;const bh=new WeakSet;function yh(t){return!bh.has(t)}function wh(t){return bh.add(t),Uc.create(t)}const xh=Ua("views"),kh=Object.freeze({name:xh,has:t=>_a(t)&&(Ma(xh,t)||"$views"in t),get(t){if(_a(t)&&"$views"in t){const e=t.$views.filter(yh).map(wh);for(const i of e)kh.add(t,i)}let e=Pa(xh,t);return void 0===e&&La(xh,e=[],t),e},add(t,e){const i=Uc.create(e);let n=Pa(xh,t);return void 0===n?La(xh,n=[i],t):n.push(i),n}}),Ah=ke.createInterface("IViewLocator",(t=>t.singleton($h)));class $h{constructor(){this.et=new WeakMap,this.st=new Map}getViewComponentForObject(t,e){if(t){const i=kh.has(t.constructor)?kh.get(t.constructor):[],n=_a(e)?e(t,i):this.nt(i,e);return this.rt(t,i,n)}return null}rt(t,e,i){let n,r=this.et.get(t);if(void 0===r?(r={},this.et.set(t,r)):n=r[i],void 0===n){const s=this.ot(t,e,i);n=Wc.define(Wc.getDefinition(s),class extends s{constructor(){super(t)}}),r[i]=n}return n}ot(t,e,i){let n,r=this.st.get(t.constructor);if(void 0===r?(r={},this.st.set(t.constructor,r)):n=r[i],void 0===n){n=Wc.define(this.lt(e,i),class{constructor(t){this.viewModel=t}define(t,e,i){const n=this.viewModel;if(t.scope=Wi.fromParent(t.scope,n),void 0!==n.define)return n.define(t,e,i)}});const s=n.prototype;"hydrating"in t&&(s.hydrating=function(t){this.viewModel.hydrating(t)}),"hydrated"in t&&(s.hydrated=function(t){this.viewModel.hydrated(t)}),"created"in t&&(s.created=function(t){this.viewModel.created(t)}),"binding"in t&&(s.binding=function(t,e,i){return this.viewModel.binding(t,e,i)}),"bound"in t&&(s.bound=function(t,e,i){return this.viewModel.bound(t,e,i)}),"attaching"in t&&(s.attaching=function(t,e,i){return this.viewModel.attaching(t,e,i)}),"attached"in t&&(s.attached=function(t,e){return this.viewModel.attached(t,e)}),"detaching"in t&&(s.detaching=function(t,e,i){return this.viewModel.detaching(t,e,i)}),"unbinding"in t&&(s.unbinding=function(t,e,i){return this.viewModel.unbinding(t,e,i)}),"dispose"in t&&(s.dispose=function(){this.viewModel.dispose()}),r[i]=n}return n}nt(t,e){return e||(1===t.length?t[0].name:"default-view")}lt(t,e){const i=t.find((t=>t.name===e));if(void 0===i)throw new Error(`Could not find view: ${e}`);return i}}const Sh=ke.createInterface("IRendering",(t=>t.singleton(Th)));class Th{constructor(t){this.ht=new WeakMap,this.ct=new WeakMap,this.ut=(this.ft=t.root).get(Ol),this.dt=new bu(this.ut,this.ut.document.createDocumentFragment())}get renderers(){return null==this.rs?this.rs=this.ft.getAll(td,!1).reduce(((t,e)=>(t[e.target]=e,t)),Da()):this.rs}compile(t,e,i){if(!1!==t.needsCompile){const n=this.ht,r=e.get(Ju);let s=n.get(t);return null==s?n.set(t,s=r.compile(t,e,i)):e.register(...s.dependencies),s}return t}getViewFactory(t,e){return new mh(e,Uc.getOrCreate(t))}createNodes(t){if(!0===t.enhance)return new bu(this.ut,t.template);let e;const i=this.ct;if(i.has(t))e=i.get(t);else{const n=this.ut,r=n.document,s=t.template;let o;null===s?e=null:s instanceof n.Node?"TEMPLATE"===s.nodeName?e=r.adoptNode(s.content):(e=r.adoptNode(r.createDocumentFragment())).appendChild(s.cloneNode(!0)):(o=r.createElement("template"),Wa(s)&&(o.innerHTML=s),r.adoptNode(e=o.content)),i.set(t,e)}return null==e?this.dt:new bu(this.ut,e.cloneNode(!0))}render(t,e,i,n){const r=i.instructions,s=this.renderers,o=e.length;if(e.length!==r.length)throw new Error(`AUR0757:${o}<>${r.length}`);let a,l,c,h=0,u=0,d=0;if(o>0)for(;o>h;){for(a=r[h],c=e[h],u=0,d=a.length;d>u;)l=a[u],s[l.type].render(t,c,l),++u;++h}if(null!=n&&(a=i.surrogates,(d=a.length)>0))for(u=0;d>u;)l=a[u],s[l.type].render(t,n,l),++u}}var Eh;Th.inject=[Se],function(t){t[t.none=0]="none",t[t.host=1]="host",t[t.shadowRoot=2]="shadowRoot",t[t.location=3]="location"}(Eh||(Eh={}));const Ch={optional:!0},Rh=new WeakMap;class Oh{constructor(t,e,i,n,r,s,o){switch(this.container=t,this.vmKind=e,this.definition=i,this.viewFactory=n,this.viewModel=r,this.host=s,this.id=Gt("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=null,this.children=null,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=null,this.isBound=!1,this.hostController=null,this.mountTarget=0,this.shadowRoot=null,this.nodes=null,this.location=null,this.lifecycleHooks=null,this.state=0,this.vt=!1,this.gt=ii,this.flags=0,this.$initiator=null,this.$flags=0,this.$resolve=void 0,this.$reject=void 0,this.$promise=void 0,this.wt=0,this.bt=0,this.xt=0,this.location=o,this.r=t.root.get(Sh),e){case 1:case 0:this.hooks=new Bh(r);break;case 2:this.hooks=Bh.none}}get isActive(){return(3&this.state)>0&&0==(4&this.state)}get name(){var t;if(null===this.parent)switch(this.vmKind){case 1:return`[${this.definition.name}]`;case 0:return this.definition.name;case 2:return this.viewFactory.name}switch(this.vmKind){case 1:return`${this.parent.name}>[${this.definition.name}]`;case 0:return`${this.parent.name}>${this.definition.name}`;case 2:return this.viewFactory.name===(null===(t=this.parent.definition)||void 0===t?void 0:t.name)?`${this.parent.name}[view]`:`${this.parent.name}[view:${this.viewFactory.name}]`}}static getCached(t){return Rh.get(t)}static getCachedOrThrow(t){const e=Oh.getCached(t);if(void 0===e)throw new Error(`AUR0500:${t}`);return e}static $el(t,e,i,n,r,s=null){if(Rh.has(e))return Rh.get(e);r=null!=r?r:Wc.getDefinition(e.constructor);const o=new Oh(t,0,r,null,e,i,s),a=t.get(Me(Fh));return r.dependencies.length>0&&t.register(...r.dependencies),t.registerResolver(Fh,new Ye("IHydrationContext",new qh(o,n,a))),Rh.set(e,o),null!=n&&!1===n.hydrate||o.hE(n,a),o}static $attr(t,e,i,n){if(Rh.has(e))return Rh.get(e);n=null!=n?n:Oc.getDefinition(e.constructor);const r=new Oh(t,1,n,null,e,i,null);return n.dependencies.length>0&&t.register(...n.dependencies),Rh.set(e,r),r.yt(),r}static $view(t,e){const i=new Oh(t.container,2,null,t,null,null,null);return i.parent=null!=e?e:null,i.kt(),i}hE(t,e){const i=this.container,n=(this.flags,this.viewModel);let r=this.definition;if(this.scope=Wi.create(n,null,!0),r.watches.length>0&&Ih(this,i,r,n),Mh(this,r,0,n),this.gt=function(t,e,i){const n=e.childrenObservers,r=Object.getOwnPropertyNames(n),s=r.length;if(s>0){const e=Ph(i),o=[];let a,l,c=0;for(;c<s;++c)a=r[c],null==e[a]&&(l=n[a],o[o.length]=e[a]=new yc(t,i,a,l.callback,l.query,l.filter,l.map,l.options));return o}return ii}(this,r,n),this.hooks.hasDefine){const t=n.define(this,e,r);void 0!==t&&t!==r&&(r=Uc.getOrCreate(t))}this.lifecycleHooks=fh.resolve(i),r.register(i),null!==r.injectable&&i.registerResolver(r.injectable,new Ye("definition.injectable",n)),null!=t&&!1===t.hydrate||(this.hS(t),this.hC())}hS(t){void 0!==this.lifecycleHooks.hydrating&&this.lifecycleHooks.hydrating.forEach(_h,this),this.hooks.hasHydrating&&this.viewModel.hydrating(this);const e=this.Ct=this.r.compile(this.definition,this.container,t),{shadowOptions:i,isStrictBinding:n,hasSlots:r}=e,s=this.location;if(this.isStrictBinding=n,null!==(this.hostController=Wc.for(this.host,Ch))&&(this.host=this.container.root.get(Ol).document.createElement(this.definition.name)),cu(this.host,Wc.name,this),cu(this.host,this.definition.key,this),null!==i||r){if(null!=s)throw new Error("AUR0501");cu(this.shadowRoot=this.host.attachShadow(null!=i?i:Uh),Wc.name,this),cu(this.shadowRoot,this.definition.key,this),this.mountTarget=2}else null!=s?(cu(s,Wc.name,this),cu(s,this.definition.key,this),this.mountTarget=3):this.mountTarget=1;this.viewModel.$controller=this,this.nodes=this.r.createNodes(e),void 0!==this.lifecycleHooks.hydrated&&this.lifecycleHooks.hydrated.forEach(Wh,this),this.hooks.hasHydrated&&this.viewModel.hydrated(this)}hC(){this.r.render(this,this.nodes.findTargets(),this.Ct,this.host),void 0!==this.lifecycleHooks.created&&this.lifecycleHooks.created.forEach(Hh,this),this.hooks.hasCreated&&this.viewModel.created(this)}yt(){const t=this.definition,e=this.viewModel;t.watches.length>0&&Ih(this,this.container,t,e),Mh(this,t,this.flags,e),e.$controller=this,this.lifecycleHooks=fh.resolve(this.container),void 0!==this.lifecycleHooks.created&&this.lifecycleHooks.created.forEach(Hh,this),this.hooks.hasCreated&&this.viewModel.created(this)}kt(){this.Ct=this.r.compile(this.viewFactory.def,this.container,null),this.isStrictBinding=this.Ct.isStrictBinding,this.r.render(this,(this.nodes=this.r.createNodes(this.Ct)).findTargets(),this.Ct,void 0)}activate(t,e,i,n){switch(this.state){case 0:case 8:if(null!==e&&!e.isActive)return;this.state=1;break;case 2:return;case 32:throw new Error(`AUR0502:${this.name}`);default:throw new Error(`AUR0503:${this.name} ${zh(this.state)}`)}switch(this.parent=e,i|=2,this.vmKind){case 0:this.scope.parentScope=null!=n?n:null;break;case 1:this.scope=null!=n?n:null;break;case 2:if(null==n)throw new Error("AUR0504");this.hasLockedScope||(this.scope=n)}let r;return this.isStrictBinding&&(i|=1),this.$initiator=t,this.$flags=i,this.At(),2!==this.vmKind&&null!=this.lifecycleHooks.binding&&(r=oe(...this.lifecycleHooks.binding.map(Kh,this))),this.hooks.hasBinding&&(r=oe(r,this.viewModel.binding(this.$initiator,this.parent,this.$flags))),r instanceof Promise?(this.Rt(),r.then((()=>{this.bind()})).catch((t=>{this.St(t)})),this.$promise):(this.bind(),this.$promise)}bind(){let t,e=0,i=this.gt.length;if(i>0)for(;i>e;)this.gt[e].start(),++e;if(null!==this.bindings)for(e=0,i=this.bindings.length;i>e;)this.bindings[e].$bind(this.$flags,this.scope),++e;if(2!==this.vmKind&&null!=this.lifecycleHooks.bound&&(t=oe(...this.lifecycleHooks.bound.map(Qh,this))),this.hooks.hasBound&&(t=oe(t,this.viewModel.bound(this.$initiator,this.parent,this.$flags))),t instanceof Promise)return this.Rt(),void t.then((()=>{this.isBound=!0,this.Et()})).catch((t=>{this.St(t)}));this.isBound=!0,this.Et()}Bt(...t){switch(this.mountTarget){case 1:this.host.append(...t);break;case 2:this.shadowRoot.append(...t);break;case 3:{let e=0;for(;e<t.length;++e)this.location.parentNode.insertBefore(t[e],this.location);break}}}Et(){if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.hostController.Bt(this.host);break;case 3:this.hostController.Bt(this.location.$start,this.location)}switch(this.mountTarget){case 1:this.nodes.appendTo(this.host,null!=this.definition&&this.definition.enhance);break;case 2:{const t=this.container;(t.has(Jc,!1)?t.get(Jc):t.get(th)).applyTo(this.shadowRoot),this.nodes.appendTo(this.shadowRoot);break}case 3:this.nodes.insertBefore(this.location)}let t,e=0;if(2!==this.vmKind&&null!=this.lifecycleHooks.attaching&&(t=oe(...this.lifecycleHooks.attaching.map(Xh,this))),this.hooks.hasAttaching&&(t=oe(t,this.viewModel.attaching(this.$initiator,this.parent,this.$flags))),t instanceof Promise&&(this.Rt(),this.At(),t.then((()=>{this.It()})).catch((t=>{this.St(t)}))),null!==this.children)for(;e<this.children.length;++e)this.children[e].activate(this.$initiator,this,this.$flags,this.scope);this.It()}deactivate(t,e,i){switch(-17&this.state){case 2:this.state=4;break;case 0:case 8:case 32:case 40:return;default:throw new Error(`AUR0505:${this.name} ${zh(this.state)}`)}this.$initiator=t,this.$flags=i,t===this&&this.Tt();let n,r=0;if(this.gt.length)for(;r<this.gt.length;++r)this.gt[r].stop();if(null!==this.children)for(r=0;r<this.children.length;++r)this.children[r].deactivate(t,this,i);if(2!==this.vmKind&&null!=this.lifecycleHooks.detaching&&(n=oe(...this.lifecycleHooks.detaching.map(Yh,this))),this.hooks.hasDetaching&&(n=oe(n,this.viewModel.detaching(this.$initiator,this.parent,this.$flags))),n instanceof Promise&&(this.Rt(),t.Tt(),n.then((()=>{t.Dt()})).catch((e=>{t.St(e)}))),null===t.head?t.head=this:t.tail.next=this,t.tail=this,t===this)return this.Dt(),this.$promise}removeNodes(){switch(this.vmKind){case 0:case 2:this.nodes.remove(),this.nodes.unlink()}if(null!==this.hostController)switch(this.mountTarget){case 1:case 2:this.host.remove();break;case 3:this.location.$start.remove(),this.location.remove()}}unbind(){const t=4|this.$flags;let e=0;if(null!==this.bindings)for(;e<this.bindings.length;++e)this.bindings[e].$unbind(t);switch(this.parent=null,this.vmKind){case 1:this.scope=null;break;case 2:this.hasLockedScope||(this.scope=null),16!=(16&this.state)||this.viewFactory.tryReturnToCache(this)||this.$initiator!==this||this.dispose();break;case 0:this.scope.parentScope=null}16==(16&t)&&this.$initiator===this&&this.dispose(),this.state=32&this.state|8,this.$initiator=null,this.Pt()}Rt(){void 0===this.$promise&&(this.$promise=new Promise(((t,e)=>{this.$resolve=t,this.$reject=e})),this.$initiator!==this&&this.parent.Rt())}Pt(){void 0!==this.$promise&&(tu=this.$resolve,this.$resolve=this.$reject=this.$promise=void 0,tu(),tu=void 0)}St(t){void 0!==this.$promise&&(eu=this.$reject,this.$resolve=this.$reject=this.$promise=void 0,eu(t),eu=void 0),this.$initiator!==this&&this.parent.St(t)}At(){++this.wt,this.$initiator!==this&&this.parent.At()}It(){if(0==--this.wt){if(2!==this.vmKind&&null!=this.lifecycleHooks.attached&&(iu=oe(...this.lifecycleHooks.attached.map(Gh,this))),this.hooks.hasAttached&&(iu=oe(iu,this.viewModel.attached(this.$initiator,this.$flags))),iu instanceof Promise)return this.Rt(),iu.then((()=>{this.state=2,this.Pt(),this.$initiator!==this&&this.parent.It()})).catch((t=>{this.St(t)})),void(iu=void 0);iu=void 0,this.state=2,this.Pt()}this.$initiator!==this&&this.parent.It()}Tt(){++this.bt}Dt(){if(0==--this.bt){this.$t(),this.removeNodes();let t,e=this.$initiator.head;for(;null!==e;)e!==this&&(e.debug&&e.logger.trace("detach()"),e.removeNodes()),2!==e.vmKind&&null!=e.lifecycleHooks.unbinding&&(t=oe(...e.lifecycleHooks.unbinding.map(Jh,this))),e.hooks.hasUnbinding&&(e.debug&&e.logger.trace("unbinding()"),t=oe(t,e.viewModel.unbinding(e.$initiator,e.parent,e.$flags))),t instanceof Promise&&(this.Rt(),this.$t(),t.then((()=>{this.Ot()})).catch((t=>{this.St(t)}))),t=void 0,e=e.next;this.Ot()}}$t(){++this.xt}Ot(){if(0==--this.xt){let t=this.$initiator.head,e=null;for(;null!==t;)t!==this&&(t.isBound=!1,t.unbind()),e=t.next,t.next=null,t=e;this.head=this.tail=null,this.isBound=!1,this.unbind()}}addBinding(t){null===this.bindings?this.bindings=[t]:this.bindings[this.bindings.length]=t}addChild(t){null===this.children?this.children=[t]:this.children[this.children.length]=t}is(t){switch(this.vmKind){case 1:return Oc.getDefinition(this.viewModel.constructor).name===t;case 0:return Wc.getDefinition(this.viewModel.constructor).name===t;case 2:return this.viewFactory.name===t}}lockScope(t){this.scope=t,this.hasLockedScope=!0}setHost(t){return 0===this.vmKind&&(cu(t,Wc.name,this),cu(t,this.definition.key,this)),this.host=t,this.mountTarget=1,this}setShadowRoot(t){return 0===this.vmKind&&(cu(t,Wc.name,this),cu(t,this.definition.key,this)),this.shadowRoot=t,this.mountTarget=2,this}setLocation(t){return 0===this.vmKind&&(cu(t,Wc.name,this),cu(t,this.definition.key,this)),this.location=t,this.mountTarget=3,this}release(){this.state|=16}dispose(){32!=(32&this.state)&&(this.state|=32,this.hooks.hasDispose&&this.viewModel.dispose(),null!==this.children&&(this.children.forEach(Zh),this.children=null),this.hostController=null,this.scope=null,this.nodes=null,this.location=null,this.viewFactory=null,null!==this.viewModel&&(Rh.delete(this.viewModel),this.viewModel=null),this.viewModel=null,this.host=null,this.shadowRoot=null,this.container.disposeResolvers())}accept(t){if(!0===t(this))return!0;if(this.hooks.hasAccept&&!0===this.viewModel.accept(t))return!0;if(null!==this.children){const{children:e}=this;for(let i=0,n=e.length;i<n;++i)if(!0===e[i].accept(t))return!0}}}function Ph(t){let e=t.$observers;return void 0===e&&Reflect.defineProperty(t,"$observers",{enumerable:!1,value:e={}}),e}function Mh(t,e,i,n){const r=e.bindables,s=Object.getOwnPropertyNames(r),o=s.length;if(o>0){let e,i,a=0;const l=Ph(n),c=t.container,h=c.has(Fn,!0)?c.get(Fn):null;for(;a<o;++a)e=s[a],void 0===l[e]&&(i=r[e],l[e]=new il(n,e,i.callback,i.set,t,h))}}const Lh=new Map,jh=t=>{let e=Lh.get(t);return null==e&&(e=new yn(t,0),Lh.set(t,e)),e};function Ih(t,e,i,n){const r=e.get(na),s=e.get(us),o=i.watches,a=0===t.vmKind?t.scope:Wi.create(n,null,!0),l=o.length;let c,h,u,d=0;for(;l>d;++d){if(({expression:c,callback:h}=o[d]),h=_a(h)?h:Reflect.get(n,h),!_a(h))throw new Error(`AUR0506:${String(h)}`);_a(c)?t.addBinding(new ah(n,r,c,h,!0)):(u=Wa(c)?s.parse(c,8):jh(c),t.addBinding(new lh(a,e,r,u,h)))}}class Bh{constructor(t){this.hasDefine="define"in t,this.hasHydrating="hydrating"in t,this.hasHydrated="hydrated"in t,this.hasCreated="created"in t,this.hasBinding="binding"in t,this.hasBound="bound"in t,this.hasAttaching="attaching"in t,this.hasAttached="attached"in t,this.hasDetaching="detaching"in t,this.hasUnbinding="unbinding"in t,this.hasDispose="dispose"in t,this.hasAccept="accept"in t}}Bh.none=new Bh({});const Uh={mode:"open"};var Nh,Vh;function zh(t){const e=[];return 1==(1&t)&&e.push("activating"),2==(2&t)&&e.push("activated"),4==(4&t)&&e.push("deactivating"),8==(8&t)&&e.push("deactivated"),16==(16&t)&&e.push("released"),32==(32&t)&&e.push("disposed"),0===e.length?"none":e.join("|")}!function(t){t[t.customElement=0]="customElement",t[t.customAttribute=1]="customAttribute",t[t.synthetic=2]="synthetic"}(Nh||(Nh={})),function(t){t[t.none=0]="none",t[t.activating=1]="activating",t[t.activated=2]="activated",t[t.deactivating=4]="deactivating",t[t.deactivated=8]="deactivated",t[t.released=16]="released",t[t.disposed=32]="disposed"}(Vh||(Vh={}));const Dh=ke.createInterface("IController"),Fh=ke.createInterface("IHydrationContext");class qh{constructor(t,e,i){this.instruction=e,this.parent=i,this.controller=t}}function Zh(t){t.dispose()}function Hh(t){t.instance.created(this.viewModel,this)}function _h(t){t.instance.hydrating(this.viewModel,this)}function Wh(t){t.instance.hydrated(this.viewModel,this)}function Kh(t){return t.instance.binding(this.viewModel,this.$initiator,this.parent,this.$flags)}function Qh(t){return t.instance.bound(this.viewModel,this.$initiator,this.parent,this.$flags)}function Xh(t){return t.instance.attaching(this.viewModel,this.$initiator,this.parent,this.$flags)}function Gh(t){return t.instance.attached(this.viewModel,this.$initiator,this.$flags)}function Yh(t){return t.instance.detaching(this.viewModel,this.$initiator,this.parent,this.$flags)}function Jh(t){return t.instance.unbinding(this.viewModel,this.$initiator,this.parent,this.$flags)}let tu,eu,iu;const nu=ke.createInterface("IAppRoot"),ru=ke.createInterface("IWorkTracker",(t=>t.singleton(su)));class su{constructor(t){this.Lt=0,this.qt=null,this.Pt=null,this.Ut=t.scopeTo("WorkTracker")}start(){this.Ut.trace(`start(stack:${this.Lt})`),++this.Lt}finish(){if(this.Ut.trace(`finish(stack:${this.Lt})`),0==--this.Lt){const t=this.Pt;null!==t&&(this.Pt=this.qt=null,t())}}wait(){if(this.Ut.trace(`wait(stack:${this.Lt})`),null===this.qt){if(0===this.Lt)return Promise.resolve();this.qt=new Promise((t=>{this.Pt=t}))}return this.qt}}su.inject=[pi];class ou{constructor(t,e,i,n){this.config=t,this.platform=e,this.container=i,this.controller=void 0,this._t=void 0,this.host=t.host,this.work=i.get(ru),n.prepare(this),i.registerResolver(e.HTMLElement,i.registerResolver(e.Element,i.registerResolver(hu,new Ye("ElementResolver",t.host)))),this._t=se(this.Ft("beforeCreate"),(()=>{const e=t.component,n=i.createChild();let r;r=Wc.isType(e)?this.container.get(e):t.component;const s={hydrate:!1,projections:null},o=this.controller=Oh.$el(n,r,this.host,s);return o.hE(s,null),se(this.Ft("hydrating"),(()=>(o.hS(null),se(this.Ft("hydrated"),(()=>{o.hC(),this._t=void 0})))))}))}activate(){return se(this._t,(()=>se(this.Ft("beforeActivate"),(()=>se(this.controller.activate(this.controller,null,2,void 0),(()=>this.Ft("afterActivate")))))))}deactivate(){return se(this.Ft("beforeDeactivate"),(()=>se(this.controller.deactivate(this.controller,null,0),(()=>this.Ft("afterDeactivate")))))}Ft(t){return oe(...this.container.getAll(hc).reduce(((e,i)=>(i.slot===t&&e.push(i.run()),e)),[]))}dispose(){var t;null===(t=this.controller)||void 0===t||t.dispose()}}class au{}function lu(t,e){var i,n;return null!==(n=null===(i=t.$au)||void 0===i?void 0:i[e])&&void 0!==n?n:null}function cu(t,e,i){var n,r;(null!==(n=(r=t).$au)&&void 0!==n?n:r.$au=new au)[e]=i}const hu=ke.createInterface("INode"),uu=ke.createInterface("IEventTarget",(t=>t.cachedCallback((t=>t.has(nu,!0)?t.get(nu).host:t.get(Ol).document)))),du=ke.createInterface("IRenderLocation");var pu;!function(t){t[t.Element=1]="Element",t[t.Attr=2]="Attr",t[t.Text=3]="Text",t[t.CDATASection=4]="CDATASection",t[t.EntityReference=5]="EntityReference",t[t.Entity=6]="Entity",t[t.ProcessingInstruction=7]="ProcessingInstruction",t[t.Comment=8]="Comment",t[t.Document=9]="Document",t[t.DocumentType=10]="DocumentType",t[t.DocumentFragment=11]="DocumentFragment",t[t.Notation=12]="Notation"}(pu||(pu={}));const fu=new WeakMap;function gu(t){if(fu.has(t))return fu.get(t);let e=0,i=t.nextSibling;for(;null!==i;){if(8===i.nodeType)switch(i.textContent){case"au-start":++e;break;case"au-end":if(0==e--)return i}i=i.nextSibling}if(null===t.parentNode&&11===t.nodeType){const e=Wc.for(t);if(void 0===e)return null;if(2===e.mountTarget)return gu(e.host)}return t.parentNode}function vu(t){if(mu(t))return t;const e=t.ownerDocument.createComment("au-end"),i=t.ownerDocument.createComment("au-start");return null!==t.parentNode&&(t.parentNode.replaceChild(e,t),e.parentNode.insertBefore(i,e)),e.$start=i,e}function mu(t){return"au-end"===t.textContent}class bu{constructor(t,e){this.platform=t,this.fragment=e,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const i=e.querySelectorAll(".au");let n,r=0,s=i.length,o=this.targets=Array(s);for(;s>r;)n=i[r],"AU-M"===n.nodeName?o[r]=vu(n):o[r]=n,++r;const a=e.childNodes,l=this.childNodes=Array(s=a.length);for(r=0;s>r;)l[r]=a[r],++r;this.firstChild=e.firstChild,this.lastChild=e.lastChild}findTargets(){return this.targets}insertBefore(t){if(this.isLinked&&this.refNode)this.addToLinked();else{const e=t.parentNode;if(this.isMounted){let i,n=this.firstChild;const r=this.lastChild;for(;null!=n&&(i=n.nextSibling,e.insertBefore(n,t),n!==r);)n=i}else this.isMounted=!0,t.parentNode.insertBefore(this.fragment,t)}}appendTo(t,e=!1){if(this.isMounted){let e,i=this.firstChild;const n=this.lastChild;for(;null!=i&&(e=i.nextSibling,t.appendChild(i),i!==n);)i=e}else this.isMounted=!0,e||t.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const t=this.fragment,e=this.lastChild;let i,n=this.firstChild;for(;null!==n&&(i=n.nextSibling,t.appendChild(n),n!==e);)n=i}}addToLinked(){const t=this.refNode,e=t.parentNode;if(this.isMounted){let i,n=this.firstChild;const r=this.lastChild;for(;null!=n&&(i=n.nextSibling,e.insertBefore(n,t),n!==r);)n=i}else this.isMounted=!0,e.insertBefore(this.fragment,t)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(t){this.isLinked=!0,mu(t)?this.refNode=t:(this.next=t,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}const yu=ke.createInterface("IWindow",(t=>t.callback((t=>t.get(Ol).window)))),wu=(ke.createInterface("ILocation",(t=>t.callback((t=>t.get(yu).location)))),ke.createInterface("IHistory",(t=>t.callback((t=>t.get(yu).history)))),{[_n.capturing]:{capture:!0},[_n.bubbling]:{capture:!1}});class xu{constructor(t,e,i){this.prevent=t,this.strategy=e,this.expAsHandler=i}}class ku{constructor(t,e,i,n,r,s,o){this.platform=t,this.targetEvent=e,this.sourceExpression=i,this.target=n,this.eventDelegator=r,this.locator=s,this.Vt=o,this.interceptor=this,this.isBound=!1,this.handler=null}callSource(t){const e=this.$scope.overrideContext;e.$event=t;let i=this.sourceExpression.evaluate(8,this.$scope,this.locator,null);if(delete e.$event,this.Vt.expAsHandler){if(!_a(i))throw new Error(`Handler of "${this.targetEvent}" event is not a function.`);i=i(t)}return!0!==i&&this.Vt.prevent&&t.preventDefault(),i}handleEvent(t){this.interceptor.callSource(t)}$bind(t,e){if(this.isBound){if(this.$scope===e)return;this.interceptor.$unbind(2|t)}this.$scope=e;const i=this.sourceExpression;i.hasBind&&i.bind(t,e,this.interceptor),this.Vt.strategy===_n.none?this.target.addEventListener(this.targetEvent,this):this.handler=this.eventDelegator.addEventListener(this.locator.get(uu),this.target,this.targetEvent,this,wu[this.Vt.strategy]),this.isBound=!0}$unbind(t){if(!this.isBound)return;const e=this.sourceExpression;e.hasUnbind&&e.unbind(t,this.$scope,this.interceptor),this.$scope=null,this.Vt.strategy===_n.none?this.target.removeEventListener(this.targetEvent,this):(this.handler.dispose(),this.handler=null),this.isBound=!1}observe(t,e){}handleChange(t,e,i){}}const Au={capture:!1};class $u{constructor(t,e,i=Au){this.Mt=t,this.jt=e,this.Vt=i,this.Nt=0,this.Wt=new Map,this.Ht=new Map}zt(){1==++this.Nt&&this.Mt.addEventListener(this.jt,this,this.Vt)}Gt(){0==--this.Nt&&this.Mt.removeEventListener(this.jt,this,this.Vt)}dispose(){this.Nt>0&&(this.Nt=0,this.Mt.removeEventListener(this.jt,this,this.Vt)),this.Wt.clear(),this.Ht.clear()}Xt(t){const e=!0===this.Vt.capture?this.Wt:this.Ht;let i=e.get(t);return void 0===i&&e.set(t,i=Da()),i}handleEvent(t){const e=!0===this.Vt.capture?this.Wt:this.Ht,i=t.composedPath();!0===this.Vt.capture&&i.reverse();for(const n of i){const i=e.get(n);if(void 0===i)continue;const r=i[this.jt];if(void 0!==r&&(_a(r)?r(t):r.handleEvent(t),!0===t.cancelBubble))return}}}class Su{constructor(t,e,i,n){this.Kt=t,this.Yt=e,this.jt=i,t.zt(),e[i]=n}dispose(){this.Kt.Gt(),this.Yt[this.jt]=void 0}}class Tu{constructor(t){this.config=t,this.target=null,this.handler=null}subscribe(t,e){let i;for(i of(this.target=t,this.handler=e,this.config.events))t.addEventListener(i,e)}dispose(){const{target:t,handler:e}=this;let i;if(null!==t&&null!==e)for(i of this.config.events)t.removeEventListener(i,e);this.target=this.handler=null}}const Eu=ke.createInterface("IEventDelegator",(t=>t.singleton(Cu)));class Cu{constructor(){this.Zt=Da()}addEventListener(t,e,i,n,r){var s,o;const a=null!==(s=(o=this.Zt)[i])&&void 0!==s?s:o[i]=new Map;let l=a.get(t);return void 0===l&&a.set(t,l=new $u(t,i,r)),new Su(l,l.Xt(e),i,n)}dispose(){for(const t in this.Zt){const e=this.Zt[t];for(const t of e.values())t.dispose();e.clear()}}}ke.createInterface("IProjections");const Ru=ke.createInterface("IAuSlotsInfo");class Ou{constructor(t){this.projectedSlots=t}}var Pu;!function(t){t.hydrateElement="ra",t.hydrateAttribute="rb",t.hydrateTemplateController="rc",t.hydrateLetElement="rd",t.setProperty="re",t.interpolation="rf",t.propertyBinding="rg",t.callBinding="rh",t.letBinding="ri",t.refBinding="rj",t.iteratorBinding="rk",t.textBinding="ha",t.listenerBinding="hb",t.attributeBinding="hc",t.stylePropertyBinding="hd",t.setAttribute="he",t.setClassAttribute="hf",t.setStyleAttribute="hg",t.spreadBinding="hs",t.spreadElementProp="hp"}(Pu||(Pu={}));const Mu=ke.createInterface("Instruction");function Lu(t){const e=t.type;return Wa(e)&&2===e.length}class ju{constructor(t,e){this.from=t,this.to=e}get type(){return"rf"}}class Iu{constructor(t,e,i){this.from=t,this.to=e,this.mode=i}get type(){return"rg"}}class Bu{constructor(t,e){this.from=t,this.to=e}get type(){return"rk"}}class Uu{constructor(t,e){this.from=t,this.to=e}get type(){return"rh"}}class Nu{constructor(t,e){this.from=t,this.to=e}get type(){return"rj"}}class Vu{constructor(t,e){this.value=t,this.to=e}get type(){return"re"}}class zu{constructor(t,e,i,n,r,s){this.res=t,this.alias=e,this.props=i,this.projections=n,this.containerless=r,this.captures=s,this.auSlot=null}get type(){return"ra"}}class Du{constructor(t,e,i){this.res=t,this.alias=e,this.props=i}get type(){return"rb"}}class Fu{constructor(t,e,i,n){this.def=t,this.res=e,this.alias=i,this.props=n}get type(){return"rc"}}class qu{constructor(t,e){this.instructions=t,this.toBindingContext=e}get type(){return"rd"}}class Zu{constructor(t,e){this.from=t,this.to=e}get type(){return"ri"}}class Hu{constructor(t,e){this.from=t,this.strict=e}get type(){return"ha"}}class _u{constructor(t,e,i,n){this.from=t,this.to=e,this.preventDefault=i,this.strategy=n}get type(){return"hb"}}class Wu{constructor(t,e){this.value=t,this.to=e}get type(){return"he"}}class Ku{constructor(t){this.value=t,this.type="hf"}}class Qu{constructor(t){this.value=t,this.type="hg"}}class Xu{constructor(t,e,i){this.attr=t,this.from=e,this.to=i}get type(){return"hc"}}class Gu{get type(){return"hs"}}class Yu{constructor(t){this.instructions=t}get type(){return"hp"}}const Ju=ke.createInterface("ITemplateCompiler"),td=ke.createInterface("IRenderer");function ed(t){return function(e){return e.register=function(t){Ge.singleton(td,this).register(t)},Ka(e.prototype,"target",{configurable:!0,get:function(){return t}}),e}}function id(t,e,i){return Wa(e)?t.parse(e,i):e}function nd(t){return null!=t.viewModel?t.viewModel:t}let rd=class{render(t,e,i){const n=nd(e);void 0!==n.$observers&&void 0!==n.$observers[i.to]?n.$observers[i.to].setValue(i.value,2):n[i.to]=i.value}};rd=Ra([ed("re")],rd);let sd=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[Sh,Ol]}render(t,e,i){let n,r,s,o;const a=i.res,l=i.projections,c=t.container;if("string"==typeof a){if(n=c.find(Wc,a),null==n)throw new Error(`AUR0752:${a}@${t.name}`)}else n=a;const h=i.containerless||n.containerless?vu(e):null,u=function(t,e,i,n,r,s){const o=e.container.createChild();return o.registerResolver(t.HTMLElement,o.registerResolver(t.Element,o.registerResolver(hu,new Ye("ElementResolver",i)))),o.registerResolver(Dh,new Ye(Rd,e)),o.registerResolver(Mu,new Ye(Od,n)),o.registerResolver(du,null==r?Id:new jd(r)),o.registerResolver(vh,Bd),o.registerResolver(Ru,null==s?Ud:new Ye(Pd,s)),o}(this.p,t,e,i,h,null==l?void 0:new Ou(Object.keys(l)));r=n.Type,s=u.invoke(r),u.registerResolver(r,new Ye(n.key,s)),o=Oh.$el(u,s,e,i,n,h),cu(e,n.key,o);const d=this.r.renderers,p=i.props,f=p.length;let g,v=0;for(;f>v;)g=p[v],d[g.type].render(t,o,g),++v;t.addChild(o)}};sd=Ra([ed("ra")],sd);let od=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[Sh,Ol]}render(t,e,i){let n,r=t.container;if("string"==typeof i.res){if(n=r.find(Oc,i.res),null==n)throw new Error(`AUR0753:${i.res}@${t.name}`)}else n=i.res;const s=Ld(this.p,n,t,e,i,void 0,void 0),o=Oh.$attr(s.ctn,s.vm,e,n);cu(e,n.key,o);const a=this.r.renderers,l=i.props,c=l.length;let h,u=0;for(;c>u;)h=l[u],a[h.type].render(t,o,h),++u;t.addChild(o)}};od=Ra([ed("rb")],od);let ad=class{constructor(t,e){this.r=t,this.p=e}static get inject(){return[Sh,Ol]}render(t,e,i){var n,r;let s,o=t.container;if("string"==typeof i.res){if(s=o.find(Oc,i.res),null==s)throw new Error(`AUR0754:${i.res}@${t.name}`)}else s=i.res;const a=this.r.getViewFactory(i.def,o),l=vu(e),c=Ld(this.p,s,t,e,i,a,l),h=Oh.$attr(c.ctn,c.vm,e,s);cu(l,s.key,h),null===(r=(n=c.vm).link)||void 0===r||r.call(n,t,h,e,i);const u=this.r.renderers,d=i.props,p=d.length;let f,g=0;for(;p>g;)f=d[g],u[f.type].render(t,h,f),++g;t.addChild(h)}};ad=Ra([ed("rc")],ad);let ld=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,i){e.remove();const n=i.instructions,r=i.toBindingContext,s=t.container,o=n.length;let a,l,c,h=0;for(;o>h;)a=n[h],l=id(this.ep,a.from,8),c=new ec(l,a.to,this.oL,s,r),t.addBinding(38962===l.$kind?vd(c,l,s):c),++h}};ld.inject=[us,na],ld=Ra([ed("rd")],ld);let cd=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,i){const n=id(this.ep,i.from,12),r=new Bl(n,nd(e),i.to,this.oL,t.container);t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};cd.inject=[us,na],cd=Ra([ed("rh")],cd);let hd=class{constructor(t){this.ep=t}render(t,e,i){const n=id(this.ep,i.from,8),r=new cc(n,function(t,e){if("element"===e)return t;switch(e){case"controller":return Wc.for(t);case"view":throw new Error("AUR0750");case"view-model":return Wc.for(t).viewModel;default:{const i=Oc.for(t,e);if(void 0!==i)return i.viewModel;const n=Wc.for(t,{name:e});if(void 0===n)throw new Error(`AUR0751:${e}`);return n.viewModel}}}(e,i.to),t.container);t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};hd.inject=[us],hd=Ra([ed("rj")],hd);let ud=class{constructor(t,e,i){this.ep=t,this.oL=e,this.p=i}render(t,e,i){const n=t.container,r=id(this.ep,i.from,1),s=new Yl(this.oL,r,nd(e),i.to,qn.toView,n,this.p.domWriteQueue),o=s.partBindings,a=o.length;let l,c=0;for(;a>c;++c)l=o[c],38962===l.sourceExpression.$kind&&(o[c]=vd(l,l.sourceExpression,n));t.addBinding(s)}};ud.inject=[us,na,Ol],ud=Ra([ed("rf")],ud);let dd=class{constructor(t,e,i){this.ep=t,this.oL=e,this.p=i}render(t,e,i){const n=id(this.ep,i.from,8),r=new ac(n,nd(e),i.to,i.mode,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};dd.inject=[us,na,Ol],dd=Ra([ed("rg")],dd);let pd=class{constructor(t,e,i){this.ep=t,this.oL=e,this.p=i}render(t,e,i){const n=id(this.ep,i.from,2),r=new ac(n,nd(e),i.to,qn.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===n.iterable.$kind?vd(r,n.iterable,t.container):r)}};pd.inject=[us,na,Ol],pd=Ra([ed("rk")],pd);let fd=0;const gd=[];function vd(t,e,i){for(;e instanceof fn;)gd[fd++]=e,e=e.expression;for(;fd>0;){const e=gd[--fd],n=i.get(e.behaviorKey);n instanceof tn&&(t=n.construct(t,e))}return gd.length=0,t}let md=class{constructor(t,e,i){this.ep=t,this.oL=e,this.p=i}render(t,e,i){const n=t.container,r=e.nextSibling,s=e.parentNode,o=this.p.document,a=id(this.ep,i.from,1),l=a.parts,c=a.expressions,h=c.length;let u,d,p=0,f=l[0];for(""!==f&&s.insertBefore(o.createTextNode(f),r);h>p;++p)d=c[p],u=new tc(d,s.insertBefore(o.createTextNode(""),r),n,this.oL,this.p,i.strict),t.addBinding(38962===d.$kind?vd(u,d,n):u),f=l[p+1],""!==f&&s.insertBefore(o.createTextNode(f),r);"AU-M"===e.nodeName&&e.remove()}};md.inject=[us,na,Ol],md=Ra([ed("ha")],md);const bd=ke.createInterface("IListenerBehaviorOptions",(t=>t.singleton(yd)));class yd{constructor(){this.expAsHandler=!1}}let wd=class{constructor(t,e,i,n){this.ep=t,this.Jt=e,this.p=i,this.Qt=n}render(t,e,i){const n=id(this.ep,i.from,4),r=new ku(this.p,i.to,n,e,this.Jt,t.container,new xu(i.preventDefault,i.strategy,this.Qt.expAsHandler));t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};wd.inject=[us,Eu,Ol,bd],wd=Ra([ed("hb")],wd);let xd=class{render(t,e,i){e.setAttribute(i.to,i.value)}};xd=Ra([ed("he")],xd);let kd=class{render(t,e,i){!function(t,e){const i=e.length;let n=0;for(let r=0;r<i;++r)32===e.charCodeAt(r)?(r!==n&&t.add(e.slice(n,r)),n=r+1):r+1===i&&t.add(e.slice(n))}(e.classList,i.value)}};kd=Ra([ed("hf")],kd);let Ad=class{render(t,e,i){e.style.cssText+=i.value}};Ad=Ra([ed("hg")],Ad);let $d=class{constructor(t,e,i){this.ep=t,this.oL=e,this.p=i}render(t,e,i){const n=id(this.ep,i.from,8),r=new ac(n,e.style,i.to,qn.toView,this.oL,t.container,this.p.domWriteQueue);t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};$d.inject=[us,na,Ol],$d=Ra([ed("hd")],$d);let Sd=class{constructor(t,e){this.ep=t,this.oL=e}render(t,e,i){const n=id(this.ep,i.from,8),r=new Ql(n,e,i.attr,i.to,qn.toView,this.oL,t.container);t.addBinding(38962===n.$kind?vd(r,n,t.container):r)}};Sd.inject=[us,na],Sd=Ra([ed("hc")],Sd);let Td=class{constructor(t,e){this.ti=t,this.r=e}static get inject(){return[Ju,Sh]}render(t,e,i){const n=t.container.get(Fh),r=this.r.renderers,s=t=>{let e=t,i=n;for(;null!=i&&e>0;)i=i.parent,--e;if(null==i)throw new Error("No scope context for spread binding.");return i},o=i=>{var n,a;const l=s(i),c=Cd(l),h=this.ti.compileSpread(l.controller.definition,null!==(a=null===(n=l.instruction)||void 0===n?void 0:n.captures)&&void 0!==a?a:ii,l.controller.container,e);let u;for(u of h)switch(u.type){case"hs":o(i+1);break;case"hp":r[u.instructions.type].render(c,Wc.for(e),u.instructions);break;default:r[u.type].render(c,e,u)}t.addBinding(c)};o(0)}};Td=Ra([ed("hs")],Td);class Ed{constructor(t,e){this.ii=t,this.ei=e,this.interceptor=this,this.isBound=!1,this.ctrl=e.controller,this.locator=this.ctrl.container}get container(){return this.locator}get definition(){return this.ctrl.definition}get isStrictBinding(){return this.ctrl.isStrictBinding}$bind(t,e){var i;if(this.isBound)return;this.isBound=!0;const n=this.$scope=null!==(i=this.ei.controller.scope.parentScope)&&void 0!==i?i:void 0;if(null==n)throw new Error("Invalid spreading. Context scope is null/undefined");this.ii.forEach((e=>e.$bind(t,n)))}$unbind(t){this.ii.forEach((e=>e.$unbind(t))),this.isBound=!1}addBinding(t){this.ii.push(t)}addChild(t){if(1!==t.vmKind)throw new Error("Spread binding does not support spreading custom attributes/template controllers");this.ctrl.addChild(t)}}const Cd=t=>new Ed([],t),Rd="IController",Od="IInstruction",Pd="IAuSlotsInfo";class Md{constructor(t){this.f=t}get $isResolver(){return!0}resolve(){const t=this.f;if(null===t)throw new Error("AUR7055");if(!Wa(t.name)||0===t.name.length)throw new Error("AUR0756");return t}}function Ld(t,e,i,n,r,s,o,a){const l=i.container.createChild();return l.registerResolver(t.HTMLElement,l.registerResolver(t.Element,l.registerResolver(hu,new Ye("ElementResolver",n)))),i=i instanceof Oh?i:i.ctrl,l.registerResolver(Dh,new Ye(Rd,i)),l.registerResolver(Mu,new Ye(Od,r)),l.registerResolver(du,null==o?Id:new Ye("IRenderLocation",o)),l.registerResolver(vh,null==s?Bd:new Md(s)),l.registerResolver(Ru,null==a?Ud:new Ye(Pd,a)),{vm:l.invoke(e.Type),ctn:l}}class jd{constructor(t){this.l=t}get name(){return"IRenderLocation"}get $isResolver(){return!0}resolve(){return this.l}}const Id=new jd(null),Bd=new Md(null),Ud=new Ye(Pd,new Ou(ii));var Nd;function Vd(t){return function(e){return Zd.define(t,e)}}!function(t){t[t.None=0]="None",t[t.IgnoreAttr=1]="IgnoreAttr"}(Nd||(Nd={}));class zd{constructor(t,e,i,n,r){this.Type=t,this.name=e,this.aliases=i,this.key=n,this.type=r}static create(t,e){let i,n;return Wa(t)?(i=t,n={name:i}):(i=t.name,n=t),new zd(e,ee(qd(e,"name"),i),te(qd(e,"aliases"),n.aliases,e.aliases),Fd(i),ee(qd(e,"type"),n.type,e.type,null))}register(t){const{Type:e,key:i,aliases:n}=this;Ge.singleton(i,e).register(t),Ge.aliasTo(i,e).register(t),Hi(n,Zd,i,t)}}const Dd=Ua("binding-command"),Fd=t=>`${Dd}:${t}`,qd=(t,e)=>Pa(Ba(e),t),Zd=Object.freeze({name:Dd,keyFrom:Fd,define(t,e){const i=zd.create(t,e);return La(Dd,i,i.Type),La(Dd,i,i),Na(e,Dd),i.Type},getAnnotation:qd});let Hd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"one-time"}build(t){var e;let i=t.attr.target,n=t.attr.rawValue;return null==t.bindable?i=null!==(e=this.m.map(t.node,i))&&void 0!==e?e:_t(i):(""===n&&1===t.def.type&&(n=_t(i)),i=t.bindable.property),new Iu(this.ep.parse(n,8),i,qn.oneTime)}};Hd.inject=[Ll,us],Hd=Ra([Vd("one-time")],Hd);let _d=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"to-view"}build(t){var e;let i=t.attr.target,n=t.attr.rawValue;return null==t.bindable?i=null!==(e=this.m.map(t.node,i))&&void 0!==e?e:_t(i):(""===n&&1===t.def.type&&(n=_t(i)),i=t.bindable.property),new Iu(this.ep.parse(n,8),i,qn.toView)}};_d.inject=[Ll,us],_d=Ra([Vd("to-view")],_d);let Wd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"from-view"}build(t){var e;const i=t.attr;let n=i.target,r=i.rawValue;return null==t.bindable?n=null!==(e=this.m.map(t.node,n))&&void 0!==e?e:_t(n):(""===r&&1===t.def.type&&(r=_t(n)),n=t.bindable.property),new Iu(this.ep.parse(r,8),n,qn.fromView)}};Wd.inject=[Ll,us],Wd=Ra([Vd("from-view")],Wd);let Kd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"two-way"}build(t){var e;const i=t.attr;let n=i.target,r=i.rawValue;return null==t.bindable?n=null!==(e=this.m.map(t.node,n))&&void 0!==e?e:_t(n):(""===r&&1===t.def.type&&(r=_t(n)),n=t.bindable.property),new Iu(this.ep.parse(r,8),n,qn.twoWay)}};Kd.inject=[Ll,us],Kd=Ra([Vd("two-way")],Kd);let Qd=class{constructor(t,e){this.type=0,this.m=t,this.ep=e}get name(){return"bind"}build(t){var e;const i=t.attr,n=t.bindable;let r,s,o=i.target,a=i.rawValue;return null==n?(s=this.m.isTwoWay(t.node,o)?qn.twoWay:qn.toView,o=null!==(e=this.m.map(t.node,o))&&void 0!==e?e:_t(o)):(""===a&&1===t.def.type&&(a=_t(o)),r=t.def.defaultBindingMode,s=n.mode===qn.default||null==n.mode?null==r||r===qn.default?qn.toView:r:n.mode,o=n.property),new Iu(this.ep.parse(a,8),o,s)}};Qd.inject=[Ll,us],Qd=Ra([Vd("bind")],Qd);let Xd=class{constructor(t){this.type=0,this.ep=t}get name(){return"call"}build(t){const e=null===t.bindable?_t(t.attr.target):t.bindable.property;return new Uu(this.ep.parse(t.attr.rawValue,12),e)}};Xd.inject=[us],Xd=Ra([Vd("call")],Xd);let Gd=class{constructor(t){this.type=0,this.ep=t}get name(){return"for"}build(t){const e=null===t.bindable?_t(t.attr.target):t.bindable.property;return new Bu(this.ep.parse(t.attr.rawValue,2),e)}};Gd.inject=[us],Gd=Ra([Vd("for")],Gd);let Yd=class{constructor(t){this.type=1,this.ep=t}get name(){return"trigger"}build(t){return new _u(this.ep.parse(t.attr.rawValue,4),t.attr.target,!0,_n.none)}};Yd.inject=[us],Yd=Ra([Vd("trigger")],Yd);let Jd=class{constructor(t){this.type=1,this.ep=t}get name(){return"delegate"}build(t){return new _u(this.ep.parse(t.attr.rawValue,4),t.attr.target,!1,_n.bubbling)}};Jd.inject=[us],Jd=Ra([Vd("delegate")],Jd);let tp=class{constructor(t){this.type=1,this.ep=t}get name(){return"capture"}build(t){return new _u(this.ep.parse(t.attr.rawValue,4),t.attr.target,!1,_n.capturing)}};tp.inject=[us],tp=Ra([Vd("capture")],tp);let ep=class{constructor(t){this.type=1,this.ep=t}get name(){return"attr"}build(t){return new Xu(t.attr.target,this.ep.parse(t.attr.rawValue,8),t.attr.target)}};ep.inject=[us],ep=Ra([Vd("attr")],ep);let ip=class{constructor(t){this.type=1,this.ep=t}get name(){return"style"}build(t){return new Xu("style",this.ep.parse(t.attr.rawValue,8),t.attr.target)}};ip.inject=[us],ip=Ra([Vd("style")],ip);let np=class{constructor(t){this.type=1,this.ep=t}get name(){return"class"}build(t){return new Xu("class",this.ep.parse(t.attr.rawValue,8),t.attr.target)}};np.inject=[us],np=Ra([Vd("class")],np);let rp=class{constructor(t){this.type=1,this.ep=t}get name(){return"ref"}build(t){return new Nu(this.ep.parse(t.attr.rawValue,8),t.attr.target)}};rp.inject=[us],rp=Ra([Vd("ref")],rp);let sp=class{constructor(){this.type=1}get name(){return"...$attrs"}build(t){return new Gu}};sp=Ra([Vd("...$attrs")],sp);const op=ke.createInterface("ITemplateElementFactory",(t=>t.singleton(lp))),ap={};class lp{constructor(t){this.p=t,this.si=t.document.createElement("template")}createTemplate(t){var e;if(Wa(t)){let e=ap[t];if(void 0===e){const i=this.si;i.innerHTML=t;const n=i.content.firstElementChild;null==n||"TEMPLATE"!==n.nodeName||null!=n.nextElementSibling?(this.si=this.p.document.createElement("template"),e=i):(i.content.removeChild(n),e=n),ap[t]=e}return e.cloneNode(!0)}if("TEMPLATE"!==t.nodeName){const e=this.p.document.createElement("template");return e.content.appendChild(t),e}return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.cloneNode(!0)}}lp.inject=[Ol];class cp{constructor(t,e,i,n,r,s){this.hasSlot=!1,this.Ci=Da();const o=null!==n;this.c=e,this.root=null===r?this:r,this.def=t,this.ci=i,this.parent=n,this.ni=o?n.ni:e.get(op),this.di=o?n.di:e.get(ml),this.ep=o?n.ep:e.get(us),this.m=o?n.m:e.get(Ll),this.Ut=o?n.Ut:e.get(pi),this.p=o?n.p:e.get(Ol),this.localEls=o?n.localEls:new Set,this.rows=null!=s?s:[]}ki(t){var e,i;(null!==(e=(i=this.root).deps)&&void 0!==e?e:i.deps=[]).push(t),this.root.c.register(t)}h(t){const e=this.p.document.createElement(t);return"template"===t&&this.p.document.adoptNode(e.content),e}hi(t){return this.c.find(Wc,t)}ui(t){return this.c.find(Oc,t)}xi(t){return new cp(this.def,this.c,this.ci,this,this.root,t)}ai(t){if(this.root!==this)return this.root.ai(t);const e=t.command;if(null===e)return null;let i=this.Ci[e];if(void 0===i){if(i=this.c.create(Zd,e),null===i)throw new Error(`AUR0713:${e}`);this.Ci[e]=i}return i}}function hp(t){const e=t.length;let i=0,n=0;for(;e>n;){if(i=t.charCodeAt(n),92===i)++n;else{if(58===i)return!0;if(36===i&&123===t.charCodeAt(n+1))return!1}++n}return!1}function up(){fp.node=fp.attr=fp.bindable=fp.def=null}const dp={projections:null},pp={name:"unnamed"},fp={node:null,attr:null,bindable:null,def:null},gp=Object.assign(Da(),{id:!0,name:!0,"au-slot":!0,"as-element":!0}),vp={checkbox:1,radio:1},mp=new WeakMap;class bp{constructor(t,e,i){this.attrs=t,this.bindables=e,this.primary=i}static from(t,e){let i=mp.get(t);if(null==i){const n=t.bindables,r=Da(),s=e?void 0===t.defaultBindingMode?qn.default:t.defaultBindingMode:qn.default;let o,a,l,c,h=!1;for(a in n){if(o=n[a],c=o.attribute,!0===o.primary){if(h)throw new Error(`AUR0714:${t.name}`);h=!0,l=o}else h||null!=l||(l=o);r[c]=tl.create(a,t.Type,o)}null==o&&e&&(l=r.value=tl.create("value",t.Type,{mode:s})),mp.set(t,i=new bp(r,n,l))}return i}}var yp;!function(t){t.property="property",t.attribute="attribute",t.mode="mode"}(yp||(yp={}));const wp=Object.freeze(["property","attribute","mode"]),xp="as-custom-element";function kp(t,e){const i=t.getAttribute(xp);if(null===i||""===i)throw new Error("AUR0715");if(e.has(i))throw new Error(`AUR0716:${i}`);return e.add(i),t.removeAttribute(xp),i}function Ap(t){switch(t.getAttribute("mode")){case"oneTime":return qn.oneTime;case"toView":return qn.toView;case"fromView":return qn.fromView;case"twoWay":return qn.twoWay;default:return qn.default}}const $p=ke.createInterface("ITemplateCompilerHooks"),Sp=new WeakMap,Tp=Ua("compiler-hooks");Object.freeze({name:Tp,define(t){let e=Sp.get(t);return void 0===e&&(Sp.set(t,e=new Ep(t)),La(Tp,e,t),Na(t,Tp)),t}});class Ep{constructor(t){this.Type=t}get name(){return""}register(t){t.register(Ge.singleton($p,this.Type))}}const Cp=Wc.generateName,Rp="default",Op="au-slot";class Pp{constructor(t){this.mode=t,this.Ai=new Map}bind(t,e,i){this.Ai.set(i,i.mode),i.mode=this.mode}unbind(t,e,i){i.mode=this.Ai.get(i),this.Ai.delete(i)}}class Mp extends Pp{constructor(){super(qn.oneTime)}}class Lp extends Pp{constructor(){super(qn.toView)}}class jp extends Pp{constructor(){super(qn.fromView)}}class Ip extends Pp{constructor(){super(qn.twoWay)}}Yi("oneTime")(Mp),Yi("toView")(Lp),Yi("fromView")(jp),Yi("twoWay")(Ip);class Bp extends en{constructor(t,e){super(t,e),this.opts={delay:200},this.firstArg=null,this.task=null,this.taskQueue=t.locator.get(si).taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.queueTask((()=>this.binding.callSource(t)))}handleChange(t,e,i){null!==this.task&&(this.task.cancel(),this.task=null),this.binding.handleChange(t,e,i)}updateSource(t,e){this.queueTask((()=>this.binding.updateSource(t,e)))}queueTask(t){const e=this.task;this.task=this.taskQueue.queueTask((()=>(this.task=null,t())),this.opts),null==e||e.cancel()}$bind(t,e){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,this.locator,null));this.opts.delay=isNaN(i)?200:i}this.binding.$bind(t,e)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,this.binding.$unbind(t)}}Yi("debounce")(Bp);class Up{constructor(t){this.Yt=new Map,this.Ri=t}bind(t,e,i,...n){if(!("handleChange"in i))throw new Error("AUR0817");if(0===n.length)throw new Error("AUR0818");let r;for(r of(this.Yt.set(i,n),n))this.Ri.addSignalListener(r,i)}unbind(t,e,i){const n=this.Yt.get(i);let r;for(r of(this.Yt.delete(i),n))this.Ri.removeSignalListener(r,i)}}Up.inject=[Qi],Yi("signal")(Up);class Np extends en{constructor(t,e){super(t,e),this.opts={delay:200},this.firstArg=null,this.task=null,this.lastCall=0,this.delay=0,this.p=t.locator.get(si),this.Si=this.p.taskQueue,e.args.length>0&&(this.firstArg=e.args[0])}callSource(t){this.Ei((()=>this.binding.callSource(t)))}handleChange(t,e,i){null!==this.task&&(this.task.cancel(),this.task=null,this.lastCall=this.p.performanceNow()),this.binding.handleChange(t,e,i)}updateSource(t,e){this.Ei((()=>this.binding.updateSource(t,e)))}Ei(t){const e=this.opts,i=this.p,n=this.lastCall+e.delay-i.performanceNow();if(n>0){const r=this.task;e.delay=n,this.task=this.Si.queueTask((()=>{this.lastCall=i.performanceNow(),this.task=null,e.delay=this.delay,t()}),e),null==r||r.cancel()}else this.lastCall=i.performanceNow(),t()}$bind(t,e){if(null!==this.firstArg){const i=Number(this.firstArg.evaluate(t,e,this.locator,null));this.opts.delay=this.delay=isNaN(i)?200:i}this.binding.$bind(t,e)}$unbind(t){var e;null===(e=this.task)||void 0===e||e.cancel(),this.task=null,super.$unbind(t)}}Yi("throttle")(Np);const Vp=new class{constructor(){this.type=6}getValue(t,e){return t.getAttribute(e)}setValue(t,e,i,n){null==t?i.removeAttribute(n):i.setAttribute(n,t)}};class zp{bind(t,e,i){i.targetObserver=Vp}unbind(t,e,i){}}function Dp(t){const e=t.composedPath()[0];if(this.target===e)return this.selfEventCallSource(t)}Yi("attr")(zp);class Fp{bind(t,e,i){if(!i.callSource||!i.targetEvent)throw new Error("AUR0801");i.selfEventCallSource=i.callSource,i.callSource=Dp}unbind(t,e,i){i.callSource=i.selfEventCallSource,i.selfEventCallSource=null}}Yi("self")(Fp);const qp=Da();class Zp{constructor(t){this.ns=t,this.type=6}static forNs(t){var e;return null!==(e=qp[t])&&void 0!==e?e:qp[t]=new Zp(t)}getValue(t,e){return t.getAttributeNS(this.ns,e)}setValue(t,e,i,n){null==t?i.removeAttributeNS(this.ns,n):i.setAttributeNS(this.ns,n,t)}}function Hp(t,e){return t===e}class _p{constructor(t,e,i,n){this.handler=i,this.type=7,this.v=void 0,this.ov=void 0,this.Bi=void 0,this.Ii=void 0,this.f=0,this.o=t,this.oL=n}getValue(){return this.v}setValue(t,e){const i=this.v;t!==i&&(this.v=t,this.ov=i,this.f=e,this.Ti(),this.Di(),this.queue.add(this))}handleCollectionChange(t,e){this.Di()}handleChange(t,e,i){this.Di()}Di(){const t=this.v,e=this.o,i=Fa.call(e,"model")?e.model:e.value,n="radio"===e.type,r=void 0!==e.matcher?e.matcher:Hp;if(n)e.checked=!!r(t,i);else if(!0===t)e.checked=!0;else{let n=!1;if(t instanceof Array)n=-1!==t.findIndex((t=>!!r(t,i)));else if(t instanceof Set){for(const e of t)if(r(e,i)){n=!0;break}}else if(t instanceof Map)for(const e of t){const t=e[0],s=e[1];if(r(t,i)&&!0===s){n=!0;break}}e.checked=n}}handleEvent(){let t=this.ov=this.v;const e=this.o,i=Fa.call(e,"model")?e.model:e.value,n=e.checked,r=void 0!==e.matcher?e.matcher:Hp;if("checkbox"===e.type){if(t instanceof Array){const e=t.findIndex((t=>!!r(t,i)));return void(n&&-1===e?t.push(i):n||-1===e||t.splice(e,1))}if(t instanceof Set){const e={};let s=e;for(const e of t)if(!0===r(e,i)){s=e;break}return void(n&&s===e?t.add(i):n||s===e||t.delete(s))}if(t instanceof Map){let e;for(const n of t){const t=n[0];if(!0===r(t,i)){e=t;break}}return void t.set(e,n)}t=n}else{if(!n)return;t=i}this.v=t,this.queue.add(this)}start(){this.handler.subscribe(this.o,this),this.Ti()}stop(){var t,e;this.handler.dispose(),null===(t=this.Bi)||void 0===t||t.unsubscribe(this),this.Bi=void 0,null===(e=this.Ii)||void 0===e||e.unsubscribe(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&this.start()}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.stop()}flush(){Wp=this.ov,this.ov=this.v,this.subs.notify(this.v,Wp,this.f)}Ti(){var t,e,i,n,r,s,o;const a=this.o;null===(r=null!==(t=this.Ii)&&void 0!==t?t:this.Ii=null!==(i=null===(e=a.$observers)||void 0===e?void 0:e.model)&&void 0!==i?i:null===(n=a.$observers)||void 0===n?void 0:n.value)||void 0===r||r.subscribe(this),null===(s=this.Bi)||void 0===s||s.unsubscribe(this),this.Bi=void 0,"checkbox"===a.type&&(null===(o=this.Bi=function(t,e){return t instanceof Array?e.getArrayObserver(t):t instanceof Map?e.getMapObserver(t):t instanceof Set?e.getSetObserver(t):void 0}(this.v,this.oL))||void 0===o||o.subscribe(this))}}let Wp;Xn(_p),ir(_p);const Kp={childList:!0,subtree:!0,characterData:!0};function Qp(t,e){return t===e}class Xp{constructor(t,e,i,n){this.type=7,this.v=void 0,this.ov=void 0,this.H=!1,this.Pi=void 0,this.$i=void 0,this.iO=!1,this.o=t,this.oL=n,this.handler=i}getValue(){return this.iO?this.v:this.o.multiple?function(t){const e=[];if(0===t.length)return e;const i=t.length;let n,r=0;for(;i>r;)n=t[r],n.selected&&(e[e.length]=Fa.call(n,"model")?n.model:n.value),++r;return e}(this.o.options):this.o.value}setValue(t,e){this.ov=this.v,this.v=t,this.H=t!==this.ov,this.Oi(t instanceof Array?t:null),0==(64&e)&&this.K()}K(){this.H&&(this.H=!1,this.syncOptions())}handleCollectionChange(){this.syncOptions()}syncOptions(){var t;const e=this.v,i=this.o,n=Array.isArray(e),r=null!==(t=i.matcher)&&void 0!==t?t:Qp,s=i.options;let o=s.length;for(;o-- >0;){const t=s[o],i=Fa.call(t,"model")?t.model:t.value;t.selected=n?-1!==e.findIndex((t=>!!r(i,t))):!!r(i,e)}}syncValue(){const t=this.o,e=t.options,i=e.length,n=this.v;let r=0;if(t.multiple){if(!(n instanceof Array))return!0;let s;const o=t.matcher||Qp,a=[];for(;r<i;)s=e[r],s.selected&&a.push(Fa.call(s,"model")?s.model:s.value),++r;let l;for(r=0;r<n.length;)l=n[r],-1===a.findIndex((t=>!!o(l,t)))?n.splice(r,1):++r;for(r=0;r<a.length;)l=a[r],-1===n.findIndex((t=>!!o(l,t)))&&n.push(l),++r;return!1}let s,o=null;for(;r<i;){if(s=e[r],s.selected){o=Fa.call(s,"model")?s.model:s.value;break}++r}return this.ov=this.v,this.v=o,!0}Li(){(this.$i=new this.o.ownerDocument.defaultView.MutationObserver(this.qi.bind(this))).observe(this.o,Kp),this.Oi(this.v instanceof Array?this.v:null),this.iO=!0}Ui(){var t;this.$i.disconnect(),null===(t=this.Pi)||void 0===t||t.unsubscribe(this),this.$i=this.Pi=void 0,this.iO=!1}Oi(t){var e;if(null===(e=this.Pi)||void 0===e||e.unsubscribe(this),this.Pi=void 0,null!=t){if(!this.o.multiple)throw new Error("AUR0654");(this.Pi=this.oL.getArrayObserver(t)).subscribe(this)}}handleEvent(){this.syncValue()&&this.queue.add(this)}qi(t){this.syncOptions(),this.syncValue()&&this.queue.add(this)}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.o,this),this.Li())}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&(this.handler.dispose(),this.Ui())}flush(){Gp=this.ov,this.ov=this.v,this.subs.notify(this.v,Gp,0)}}let Gp,Yp;Xn(Xp),ir(Xp);class Jp{constructor(t){this.obj=t,this.type=6,this.value="",this.ov="",this.styles={},this.version=0,this.H=!1}getValue(){return this.obj.style.cssText}setValue(t,e){this.value=t,this.H=t!==this.ov,0==(64&e)&&this.K()}_i(t){const e=[],i=/url\([^)]+$/;let n,r,s,o,a=0,l="";for(;a<t.length;)n=t.indexOf(";",a),-1===n&&(n=t.length),l+=t.substring(a,n),a=n+1,i.test(l)?l+=";":(r=l.indexOf(":"),s=l.substring(0,r).trim(),o=l.substring(r+1).trim(),e.push([s,o]),l="");return e}Fi(t){let e,i;const n=[];for(i in t)if(e=t[i],null!=e)if(Wa(e)){if(i.startsWith("--")){n.push([i,e]);continue}n.push([Kt(i),e])}else n.push(...this.Vi(e));return n}Mi(t){const e=t.length;if(e>0){const i=[];let n=0;for(;e>n;++n)i.push(...this.Vi(t[n]));return i}return ii}Vi(t){return Wa(t)?this._i(t):t instanceof Array?this.Mi(t):t instanceof Object?this.Fi(t):ii}K(){if(this.H){this.H=!1;const t=this.value,e=this.styles,i=this.Vi(t);let n,r,s,o,a=this.version;this.ov=t;let l=0;const c=i.length;for(;l<c;++l)r=i[l],s=r[0],o=r[1],this.setProperty(s,o),e[s]=a;if(this.styles=e,this.version+=1,0===a)return;for(n in a-=1,e)Fa.call(e,n)&&e[n]===a&&this.obj.style.removeProperty(n)}}setProperty(t,e){let i="";null!=e&&_a(e.indexOf)&&e.includes("!important")&&(i="important",e=e.replace("!important","")),this.obj.style.setProperty(t,e,i)}bind(t){this.value=this.ov=this.obj.style.cssText}}class tf{constructor(t,e,i){this.handler=i,this.type=7,this.v="",this.ov="",this.H=!1,this.o=t,this.k=e}getValue(){return this.v}setValue(t,e){Object.is(t,this.v)||(this.ov=this.v,this.v=t,this.H=!0,this.handler.config.readonly||0!=(64&e)||this.K(e))}K(t){var e;this.H&&(this.H=!1,this.o[this.k]=null!==(e=this.v)&&void 0!==e?e:this.handler.config.default,0==(2&t)&&this.queue.add(this))}handleEvent(){this.ov=this.v,this.v=this.o[this.k],this.ov!==this.v&&(this.H=!1,this.queue.add(this))}subscribe(t){this.subs.add(t)&&1===this.subs.count&&(this.handler.subscribe(this.o,this),this.v=this.ov=this.o[this.k])}unsubscribe(t){this.subs.remove(t)&&0===this.subs.count&&this.handler.dispose()}flush(){Yp=this.ov,this.ov=this.v,this.subs.notify(this.v,Yp,0)}}Xn(tf),ir(tf);const ef="http://www.w3.org/1999/xlink",nf="http://www.w3.org/XML/1998/namespace",rf="http://www.w3.org/2000/xmlns/",sf=Object.assign(Da(),{"xlink:actuate":["actuate",ef],"xlink:arcrole":["arcrole",ef],"xlink:href":["href",ef],"xlink:role":["role",ef],"xlink:show":["show",ef],"xlink:title":["title",ef],"xlink:type":["type",ef],"xml:lang":["lang",nf],"xml:space":["space",nf],xmlns:["xmlns",rf],"xmlns:xlink":["xlink",rf]}),of=new Yo;of.type=6;class af{constructor(t){var e;this.type=null!==(e=t.type)&&void 0!==e?e:tf,this.events=t.events,this.readonly=t.readonly,this.default=t.default}}class lf{constructor(t,e,i,n){this.locator=t,this.platform=e,this.dirtyChecker=i,this.svgAnalyzer=n,this.allowDirtyCheck=!0,this.ji=Da(),this.Ni=Da(),this.Wi=Da(),this.Hi=Da();const r=["change","input"],s={events:r,default:""};this.useConfig({INPUT:{value:s,valueAsNumber:{events:r,default:0},checked:{type:_p,events:r},files:{events:r,readonly:!0}},SELECT:{value:{type:Xp,events:["change"],default:""}},TEXTAREA:{value:s}});const o={events:["change","input","blur","keyup","paste"],default:""},a={events:["scroll"],default:0};this.useConfigGlobal({scrollTop:a,scrollLeft:a,textContent:o,innerHTML:o}),this.overrideAccessorGlobal("css","style","class"),this.overrideAccessor({INPUT:["value","checked","model"],SELECT:["value"],TEXTAREA:["value"]})}static register(t){Ge.aliasTo(ra,lf).register(t),Ge.singleton(ra,lf).register(t)}handles(t,e){return t instanceof this.platform.Node}useConfig(t,e,i){var n,r;const s=this.ji;let o;if(Wa(t))o=null!==(n=s[t])&&void 0!==n?n:s[t]=Da(),null==o[e]?o[e]=new af(i):cf(t,e);else for(const i in t){o=null!==(r=s[i])&&void 0!==r?r:s[i]=Da();const n=t[i];for(e in n)null==o[e]?o[e]=new af(n[e]):cf(i,e)}}useConfigGlobal(t,e){const i=this.Ni;if("object"==typeof t)for(const e in t)null==i[e]?i[e]=new af(t[e]):cf("*",e);else null==i[t]?i[t]=new af(e):cf("*",t)}getAccessor(t,e,i){var n;if(e in this.Hi||e in(null!==(n=this.Wi[t.tagName])&&void 0!==n?n:ni))return this.getObserver(t,e,i);switch(e){case"src":case"href":case"role":return Vp;default:{const i=sf[e];return void 0!==i?Zp.forNs(i[1]):Za(t,e,this.svgAnalyzer)?Vp:of}}}overrideAccessor(t,e){var i,n,r,s;let o;if(Wa(t))o=null!==(i=(r=this.Wi)[t])&&void 0!==i?i:r[t]=Da(),o[e]=!0;else for(const e in t)for(const i of t[e])o=null!==(n=(s=this.Wi)[e])&&void 0!==n?n:s[e]=Da(),o[i]=!0}overrideAccessorGlobal(...t){for(const e of t)this.Hi[e]=!0}getObserver(t,e,i){var n,r;switch(e){case"role":return Vp;case"class":return new Kc(t);case"css":case"style":return new Jp(t)}const s=null!==(r=null===(n=this.ji[t.tagName])||void 0===n?void 0:n[e])&&void 0!==r?r:this.Ni[e];if(null!=s)return new s.type(t,e,new Tu(s),i,this.locator);const o=sf[e];if(void 0!==o)return Zp.forNs(o[1]);if(Za(t,e,this.svgAnalyzer))return Vp;if(e in t.constructor.prototype){if(this.allowDirtyCheck)return this.dirtyChecker.createProperty(t,e);throw new Error(`AUR0652:${String(e)}`)}return new ta(t,e)}}function cf(t,e){throw new Error(`AUR0653:${String(e)}@${t}`)}lf.inject=[Te,Ol,_o,Pl];class hf{constructor(t){this.oL=t}bind(t,e,i,...n){if(0===n.length)throw new Error("AUR0802");if(i.mode!==qn.twoWay&&i.mode!==qn.fromView)throw new Error("AUR0803");const r=this.oL.getObserver(i.target,i.targetProperty);if(!r.handler)throw new Error("AUR0804");i.targetObserver=r;const s=r.handler;r.originalHandler=s,r.handler=new Tu(new af({default:s.config.default,events:n,readonly:s.config.readonly}))}unbind(t,e,i){i.targetObserver.handler.dispose(),i.targetObserver.handler=i.targetObserver.originalHandler,i.targetObserver.originalHandler=null}}hf.inject=[na],Yi("updateTrigger")(hf);class uf{constructor(t,e){this.zi=t,this.p=e,this.Gi=!1}binding(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.Xi():this.Gi=!0}attached(){this.Gi&&(this.Gi=!1,this.Xi()),this.zi.addEventListener("focus",this),this.zi.addEventListener("blur",this)}afterDetachChildren(){const t=this.zi;t.removeEventListener("focus",this),t.removeEventListener("blur",this)}handleEvent(t){"focus"===t.type?this.value=!0:this.Ki||(this.value=!1)}Xi(){const t=this.zi,e=this.Ki,i=this.value;i&&!e?t.focus():!i&&e&&t.blur()}get Ki(){return this.zi===this.p.document.activeElement}}uf.inject=[hu,Ol],Ra([Xa({mode:qn.twoWay})],uf.prototype,"value",void 0),$c("focus")(uf);let df=class{constructor(t,e,i){this.el=t,this.p=e,this.Yi=!1,this.Zi=null,this.$val="",this.$prio="",this.update=()=>{this.Zi=null,Boolean(this.value)!==this.Ji&&(this.Ji===this.Qi?(this.Ji=!this.Qi,this.$val=this.el.style.getPropertyValue("display"),this.$prio=this.el.style.getPropertyPriority("display"),this.el.style.setProperty("display","none","important")):(this.Ji=this.Qi,this.el.style.setProperty("display",this.$val,this.$prio),""===this.el.getAttribute("style")&&this.el.removeAttribute("style")))},this.Ji=this.Qi="hide"!==i.alias}binding(){this.Yi=!0,this.update()}detaching(){var t;this.Yi=!1,null===(t=this.Zi)||void 0===t||t.cancel(),this.Zi=null}valueChanged(){this.Yi&&null===this.Zi&&(this.Zi=this.p.domWriteQueue.queueTask(this.update))}};Ra([Xa],df.prototype,"value",void 0),df=Ra([Oa(0,hu),Oa(1,Ol),Oa(2,Mu)],df),function(...t){return function(e){const i=Fi("aliases"),n=Vi(i,e);void 0===n?Di(i,t,e):n.push(...t)}}("hide")(df),$c("show")(df);class pf{constructor(t,e,i){this.id=Gt("au$component"),this.strict=!1,this.p=i,this.te=i.document.createElement("div"),this.view=t.create(),function(t,e){if(void 0===t.platform||t instanceof t.platform.Node)fu.set(t,e);else{const i=t.childNodes;for(let t=0,n=i.length;t<n;++t)fu.set(i[t],e)}}(this.view.nodes,e)}attaching(t,e,i){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const n=this.te=this.ie();return this.view.setHost(n),this.ee(t,n,i)}detaching(t,e,i){return this.se(t,this.te,i)}targetChanged(){const{$controller:t}=this;if(!t.isActive)return;const e=this.te,i=this.te=this.ie();if(e===i)return;this.view.setHost(i);const n=se(this.se(null,i,t.flags),(()=>this.ee(null,i,t.flags)));n instanceof Promise&&n.catch((t=>{throw t}))}ee(t,e,i){const{activating:n,callbackContext:r,view:s}=this;return s.setHost(e),se(null==n?void 0:n.call(r,e,s),(()=>this.ne(t,e,i)))}ne(t,e,i){const{$controller:n,view:r}=this;return null!==t?se(r.activate(null!=t?t:r,n,i,n.scope),(()=>this.re(e))):(r.nodes.appendTo(e),this.re(e))}re(t){const{activated:e,callbackContext:i,view:n}=this;return null==e?void 0:e.call(i,t,n)}se(t,e,i){const{deactivating:n,callbackContext:r,view:s}=this;return se(null==n?void 0:n.call(r,e,s),(()=>this.oe(t,e,i)))}oe(t,e,i){const{$controller:n,view:r}=this;return null!==t?se(r.deactivate(t,n,i),(()=>this.le(e))):(r.nodes.remove(),this.le(e))}le(t){const{deactivated:e,callbackContext:i,view:n}=this;return null==e?void 0:e.call(i,t,n)}ie(){const t=this.p,e=t.document;let i=this.target,n=this.renderContext;if(""===i){if(this.strict)throw new Error("AUR0811");return e.body}if(Wa(i)){let r=e;Wa(n)&&(n=e.querySelector(n)),n instanceof t.Node&&(r=n),i=r.querySelector(i)}if(i instanceof t.Node)return i;if(null==i){if(this.strict)throw new Error("AUR0812");return e.body}return i}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}pf.inject=[vh,du,Ol],Ra([Xa({primary:!0})],pf.prototype,"target",void 0),Ra([Xa({callback:"targetChanged"})],pf.prototype,"renderContext",void 0),Ra([Xa()],pf.prototype,"strict",void 0),Ra([Xa()],pf.prototype,"deactivating",void 0),Ra([Xa()],pf.prototype,"activating",void 0),Ra([Xa()],pf.prototype,"deactivated",void 0),Ra([Xa()],pf.prototype,"activated",void 0),Ra([Xa()],pf.prototype,"callbackContext",void 0),Sc("portal")(pf);class ff extends class{constructor(t,e,i){this.fs=i,this.id=Gt("au$component"),this.view=t.create().setLocation(e)}attaching(t,e,i){const{$controller:n}=this;return this.view.activate(t,n,i|this.fs,n.scope)}detaching(t,e,i){return this.view.deactivate(t,this.$controller,i)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}{constructor(t,e){super(t,e,32)}}ff.inject=[vh,du],Sc("observe-shallow")(ff);class gf{constructor(t,e,i){this.ifFactory=t,this.location=e,this.work=i,this.id=Gt("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1,this.cache=!0,this.pending=void 0,this.he=!1,this.ae=0}attaching(t,e,i){let n;const r=this.$controller,s=this.ae++,o=()=>!this.he&&this.ae===s+1;return se(this.pending,(()=>{var e;o()&&(this.pending=void 0,n=this.value?this.view=this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create():this.view=this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(e=this.elseFactory)||void 0===e?void 0:e.create(),null!=n&&(n.setLocation(this.location),this.pending=se(n.activate(t,r,i,r.scope),(()=>{o()&&(this.pending=void 0)}))))}))}detaching(t,e,i){return this.he=!0,se(this.pending,(()=>{var e;this.he=!1,this.pending=void 0,null===(e=this.view)||void 0===e||e.deactivate(t,this.$controller,i)}))}valueChanged(t,e,i){if(!this.$controller.isActive)return;if((t=!!t)==(e=!!e))return;this.work.start();const n=this.view,r=this.$controller,s=this.ae++,o=()=>!this.he&&this.ae===s+1;let a;return se(se(this.pending,(()=>this.pending=se(null==n?void 0:n.deactivate(n,r,i),(()=>{var e;if(o()&&(a=this.view=t?this.ifView=this.cache&&null!=this.ifView?this.ifView:this.ifFactory.create():this.elseView=this.cache&&null!=this.elseView?this.elseView:null===(e=this.elseFactory)||void 0===e?void 0:e.create(),null!=a))return a.setLocation(this.location),se(a.activate(a,r,i,r.scope),(()=>{o()&&(this.pending=void 0)}))})))),(()=>this.work.finish()))}dispose(){var t,e;null===(t=this.ifView)||void 0===t||t.dispose(),null===(e=this.elseView)||void 0===e||e.dispose(),this.ifView=this.elseView=this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}gf.inject=[vh,du,ru],Ra([Xa],gf.prototype,"value",void 0),Ra([Xa({set:t=>""===t||!!t&&"false"!==t})],gf.prototype,"cache",void 0),Sc("if")(gf);class vf{constructor(t){this.factory=t,this.id=Gt("au$component")}link(t,e,i,n){const r=t.children,s=r[r.length-1];if(s instanceof gf)s.elseFactory=this.factory;else{if(!(s.viewModel instanceof gf))throw new Error("AUR0810");s.viewModel.elseFactory=this.factory}}}function mf(t){t.dispose()}vf.inject=[vh],Sc({name:"else"})(vf);const bf=[38962,36913];class yf{constructor(t,e,i){this.l=t,this.ce=e,this.f=i,this.id=Gt("au$component"),this.views=[],this.key=void 0,this.ue=void 0,this.fe=!1,this.de=!1,this.me=null,this.ve=void 0,this.ge=!1}binding(t,e,i){const n=this.ce.bindings,r=n.length;let s,o,a=0;for(;r>a;++a)if(s=n[a],s.target===this&&"items"===s.targetProperty){o=this.forOf=s.sourceExpression,this.pe=s;let t=o.iterable;for(;null!=t&&bf.includes(t.$kind);)t=t.expression,this.fe=!0;this.me=t;break}this.we(i);const l=o.declaration;(this.ge=90137===l.$kind||106521===l.$kind)||(this.local=l.evaluate(i,this.$controller.scope,s.locator,null))}attaching(t,e,i){return this.be(i),this.xe(t,i)}detaching(t,e,i){return this.we(i),this.ye(t,i)}itemsChanged(t){const{$controller:e}=this;if(!e.isActive)return;t|=e.flags,this.we(t),this.be(t);const i=se(this.ye(null,t),(()=>this.xe(null,t)));i instanceof Promise&&i.catch(Qa)}handleCollectionChange(t,e){const{$controller:i}=this;if(i.isActive){if(this.fe){if(this.de)return;return this.de=!0,this.items=this.forOf.iterable.evaluate(e,i.scope,this.pe.locator,null),void(this.de=!1)}if(e|=i.flags,this.be(e),void 0===t){const t=se(this.ye(null,e),(()=>this.xe(null,e)));t instanceof Promise&&t.catch(Qa)}else{const i=this.views.length,n=function(t){let e=0,i=0,n=0;const r=function(t){const e=t.slice();return e.deletedItems=t.deletedItems.slice(),e.isIndexMap=!0,e}(t),s=r.length;for(;n<s;++n){for(;r.deletedItems[i]<=n-e;)++i,--e;-2===r[n]?++e:r[n]+=e}return r}(t);if(n.deletedItems.length>0){n.deletedItems.sort(Yt);const t=se(this.ke(n,e),(()=>this.Ce(i,n,e)));t instanceof Promise&&t.catch(Qa)}else this.Ce(i,n,e)}}}we(t){var e;const i=this.$controller.scope;let n=this.Ae,r=this.fe;r&&(n=this.Ae=null!==(e=this.me.evaluate(t,i,this.pe.locator,null))&&void 0!==e?e:null,r=this.fe=!Object.is(this.items,n));const s=this.ue;if(4&t)void 0!==s&&s.unsubscribe(this);else if(this.$controller.isActive){const t=this.ue=function(t){let e;return t instanceof Array?e=Pr(t):t instanceof Map?e=Jr(t):t instanceof Set&&(e=Fr(t)),e}(r?n:this.items);s!==t&&s&&s.unsubscribe(this),t&&t.subscribe(this)}}be(t){const e=this.items;if(e instanceof Array)return void(this.ve=e);if(void 0===this.forOf)return;const i=[];this.forOf.iterate(t,e,((t,e,n)=>{i[e]=n})),this.ve=i}xe(t,e){let i,n,r,s;const{$controller:o,f:a,local:l,l:c,items:h}=this,u=o.scope,d=this.forOf,p=d.count(e,h),f=this.views=Array(p);if(d.iterate(e,h,((h,g,v)=>{r=f[g]=a.create().setLocation(c),r.nodes.unlink(),this.ge?d.declaration.assign(e,s=Wi.fromParent(u,_i.create()),this.pe.locator,v):s=Wi.fromParent(u,_i.create(l,v)),Af(s.overrideContext,g,p),n=r.activate(null!=t?t:r,o,e,s),n instanceof Promise&&(null!=i?i:i=[]).push(n)})),void 0!==i)return 1===i.length?i[0]:Promise.all(i)}ye(t,e){let i,n,r,s=0;const{views:o,$controller:a}=this,l=o.length;for(;l>s;++s)r=o[s],r.release(),n=r.deactivate(null!=t?t:r,a,e),n instanceof Promise&&(null!=i?i:i=[]).push(n);if(void 0!==i)return 1===i.length?i[0]:Promise.all(i)}ke(t,e){let i,n,r;const{$controller:s,views:o}=this,a=t.deletedItems,l=a.length;let c=0;for(;l>c;++c)r=o[a[c]],r.release(),n=r.deactivate(r,s,e),n instanceof Promise&&(null!=i?i:i=[]).push(n);c=0;let h=0;for(;l>c;++c)h=a[c]-c,o.splice(h,1);if(void 0!==i)return 1===i.length?i[0]:Promise.all(i)}Ce(t,e,i){var n;let r,s,o,a,l=0;const{$controller:c,f:h,local:u,ve:d,l:p,views:f}=this,g=e.length;for(;g>l;++l)-2===e[l]&&(o=h.create(),f.splice(l,0,o));if(f.length!==g)throw new Error(`AUR0814:${f.length}!=${g}`);const v=c.scope,m=e.length;!function(t,e){const i=t.slice(),n=e.length;let r=0,s=0;for(;r<n;)s=e[r],-2!==s&&(t[r]=i[s]),++r}(f,e);const b=function(t){const e=t.length;e>wf&&(wf=e,xf=new Int32Array(e),kf=new Int32Array(e));let i=0,n=0,r=0,s=0,o=0,a=0,l=0,c=0;for(;s<e;s++)if(n=t[s],-2!==n){if(o=xf[i],r=t[o],-2!==r&&r<n){kf[s]=o,xf[++i]=s;continue}for(a=0,l=i;a<l;)c=a+l>>1,r=t[xf[c]],-2!==r&&r<n?a=c+1:l=c;r=t[xf[a]],(n<r||-2===r)&&(a>0&&(kf[s]=xf[a-1]),xf[a]=s)}s=++i;const h=new Int32Array(s);for(n=xf[i-1];i-- >0;)h[i]=n,n=kf[n];for(;s-- >0;)xf[s]=0;return h}(e),y=b.length;let w,x=y-1;for(l=m-1;l>=0;--l)o=f[l],w=f[l+1],o.nodes.link(null!==(n=null==w?void 0:w.nodes)&&void 0!==n?n:p),-2===e[l]?(this.ge?this.forOf.declaration.assign(i,a=Wi.fromParent(v,_i.create()),this.pe.locator,d[l]):a=Wi.fromParent(v,_i.create(u,d[l])),Af(a.overrideContext,l,m),o.setLocation(p),s=o.activate(o,c,i,a),s instanceof Promise&&(null!=r?r:r=[]).push(s)):x<0||1===y||l!==b[x]?(Af(o.scope.overrideContext,l,m),o.nodes.insertBefore(o.location)):(t!==m&&Af(o.scope.overrideContext,l,m),--x);if(void 0!==r)return 1===r.length?r[0]:Promise.all(r)}dispose(){this.views.forEach(mf),this.views=void 0}accept(t){const{views:e}=this;if(void 0!==e)for(let i=0,n=e.length;i<n;++i)if(!0===e[i].accept(t))return!0}}yf.inject=[du,Dh,vh],Ra([Xa],yf.prototype,"items",void 0),Sc("repeat")(yf);let wf=16,xf=new Int32Array(wf),kf=new Int32Array(wf);function Af(t,e,i){const n=0===e,r=e===i-1,s=e%2==0;t.$index=e,t.$first=n,t.$last=r,t.$middle=!n&&!r,t.$even=s,t.$odd=!s,t.$length=i}class $f{constructor(t,e){this.id=Gt("au$component"),this.id=Gt("au$component"),this.view=t.create().setLocation(e)}valueChanged(t,e,i){const n=this.$controller,r=this.view.bindings;let s,o=0,a=0;if(n.isActive&&null!=r)for(s=Wi.fromParent(n.scope,void 0===t?{}:t),a=r.length;a>o;++o)r[o].$bind(2,s)}attaching(t,e,i){const{$controller:n,value:r}=this,s=Wi.fromParent(n.scope,void 0===r?{}:r);return this.view.activate(t,n,i,s)}detaching(t,e,i){return this.view.deactivate(t,this.$controller,i)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}$f.inject=[vh,du],Ra([Xa],$f.prototype,"value",void 0),Sc("with")($f);let Sf=class{constructor(t,e){this.f=t,this.l=e,this.id=Gt("au$component"),this.cases=[],this.activeCases=[],this.promise=void 0}link(t,e,i,n){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,i){const n=this.view,r=this.$controller;return this.queue((()=>n.activate(t,r,i,r.scope))),this.queue((()=>this.swap(t,i,this.value))),this.promise}detaching(t,e,i){return this.queue((()=>this.view.deactivate(t,this.$controller,i))),this.promise}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}valueChanged(t,e,i){this.$controller.isActive&&this.queue((()=>this.swap(null,i,this.value)))}caseChanged(t,e){this.queue((()=>this.Re(t,e)))}Re(t,e){const i=t.isMatch(this.value,e),n=this.activeCases,r=n.length;if(!i)return r>0&&n[0].id===t.id?this.Se(null,e):void 0;if(r>0&&n[0].id<t.id)return;const s=[];let o=t.fallThrough;if(o){const e=this.cases,i=e.indexOf(t);for(let t=i,n=e.length;t<n&&o;t++){const i=e[t];s.push(i),o=i.fallThrough}}else s.push(t);return se(this.Se(null,e,s),(()=>(this.activeCases=s,this.Ee(null,e))))}swap(t,e,i){const n=[];let r=!1;for(const t of this.cases)if((r||t.isMatch(i,e))&&(n.push(t),r=t.fallThrough),n.length>0&&!r)break;const s=this.defaultCase;return 0===n.length&&void 0!==s&&n.push(s),se(this.activeCases.length>0?this.Se(t,e,n):void 0,(()=>{if(this.activeCases=n,0!==n.length)return this.Ee(t,e)}))}Ee(t,e){const i=this.$controller;if(!i.isActive)return;const n=this.activeCases,r=n.length;if(0===r)return;const s=i.scope;return 1===r?n[0].activate(t,e,s):oe(...n.map((i=>i.activate(t,e,s))))}Se(t,e,i=[]){const n=this.activeCases,r=n.length;if(0!==r){if(1===r){const r=n[0];return i.includes(r)?void 0:(n.length=0,r.deactivate(t,e))}return se(oe(...n.reduce(((n,r)=>(i.includes(r)||n.push(r.deactivate(t,e)),n)),[])),(()=>{n.length=0}))}}queue(t){const e=this.promise;let i;i=this.promise=se(se(e,t),(()=>{this.promise===i&&(this.promise=void 0)}))}accept(t){return!0===this.$controller.accept(t)||!!this.activeCases.some((e=>e.accept(t)))||void 0}};Ra([Xa],Sf.prototype,"value",void 0),Sf=Ra([Sc("switch"),Oa(0,vh),Oa(1,du)],Sf);let Tf=class{constructor(t,e,i,n){this.f=t,this.Be=e,this.l=i,this.id=Gt("au$component"),this.fallThrough=!1,this.view=void 0,this.Ie=n.config.level<=1,this.Ut=n.scopeTo(`${this.constructor.name}-#${this.id}`)}link(t,e,i,n){const r=t.parent,s=null==r?void 0:r.viewModel;if(!(s instanceof Sf))throw new Error("AUR0815");this.$switch=s,this.linkToSwitch(s)}detaching(t,e,i){return this.deactivate(t,i)}isMatch(t,e){this.Ut.debug("isMatch()");const i=this.value;return Array.isArray(i)?(void 0===this.ue&&(this.ue=this.Te(e,i)),i.includes(t)):i===t}valueChanged(t,e,i){var n;Array.isArray(t)?(null===(n=this.ue)||void 0===n||n.unsubscribe(this),this.ue=this.Te(i,t)):void 0!==this.ue&&this.ue.unsubscribe(this),this.$switch.caseChanged(this,i)}handleCollectionChange(t,e){this.$switch.caseChanged(this,e)}activate(t,e,i){let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(null!=t?t:n,this.$controller,e,i)}deactivate(t,e){const i=this.view;if(void 0!==i&&i.isActive)return i.deactivate(null!=t?t:i,this.$controller,e)}dispose(){var t,e;null===(t=this.ue)||void 0===t||t.unsubscribe(this),null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}linkToSwitch(t){t.cases.push(this)}Te(t,e){const i=this.Be.getArrayObserver(e);return i.subscribe(this),i}accept(t){var e;return!0===this.$controller.accept(t)||(null===(e=this.view)||void 0===e?void 0:e.accept(t))}};Tf.inject=[vh,na,du,pi],Ra([Xa],Tf.prototype,"value",void 0),Ra([Xa({set:t=>{switch(t){case"true":return!0;case"false":return!1;default:return!!t}},mode:qn.oneTime})],Tf.prototype,"fallThrough",void 0),Tf=Ra([Sc("case")],Tf);let Ef=class extends Tf{linkToSwitch(t){if(void 0!==t.defaultCase)throw new Error("AUR0816");t.defaultCase=this}};Ef=Ra([Sc("default-case")],Ef);let Cf=class{constructor(t,e,i,n){this.f=t,this.l=e,this.p=i,this.id=Gt("au$component"),this.preSettledTask=null,this.postSettledTask=null,this.logger=n.scopeTo("promise.resolve")}link(t,e,i,n){this.view=this.f.create(this.$controller).setLocation(this.l)}attaching(t,e,i){const n=this.view,r=this.$controller;return se(n.activate(t,r,i,this.viewScope=Wi.fromParent(r.scope,{})),(()=>this.swap(t,i)))}valueChanged(t,e,i){this.$controller.isActive&&this.swap(null,i)}swap(t,e){var i,n;const r=this.value;if(!(r instanceof Promise))return void this.logger.warn(`The value '${String(r)}' is not a promise. No change will be done.`);const s=this.p.domWriteQueue,o=this.fulfilled,a=this.rejected,l=this.pending,c=this.viewScope;let h;const u={reusable:!1},d=()=>{oe(h=(this.preSettledTask=s.queueTask((()=>oe(null==o?void 0:o.deactivate(t,e),null==a?void 0:a.deactivate(t,e),null==l?void 0:l.activate(t,e,c))),u)).result.catch((t=>{if(!(t instanceof va))throw t})),r.then((i=>{if(this.value!==r)return;const n=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>oe(null==l?void 0:l.deactivate(t,e),null==a?void 0:a.deactivate(t,e),null==o?void 0:o.activate(t,e,c,i))),u)).result};1===this.preSettledTask.status?h.then(n):(this.preSettledTask.cancel(),n())}),(i=>{if(this.value!==r)return;const n=()=>{this.postSettlePromise=(this.postSettledTask=s.queueTask((()=>oe(null==l?void 0:l.deactivate(t,e),null==o?void 0:o.deactivate(t,e),null==a?void 0:a.activate(t,e,c,i))),u)).result};1===this.preSettledTask.status?h.then(n):(this.preSettledTask.cancel(),n())})))};1===(null===(i=this.postSettledTask)||void 0===i?void 0:i.status)?this.postSettlePromise.then(d):(null===(n=this.postSettledTask)||void 0===n||n.cancel(),d())}detaching(t,e,i){var n,r;return null===(n=this.preSettledTask)||void 0===n||n.cancel(),null===(r=this.postSettledTask)||void 0===r||r.cancel(),this.preSettledTask=this.postSettledTask=null,this.view.deactivate(t,this.$controller,i)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};Ra([Xa],Cf.prototype,"value",void 0),Cf=Ra([Sc("promise"),Oa(0,vh),Oa(1,du),Oa(2,Ol),Oa(3,pi)],Cf);let Rf=class{constructor(t,e){this.f=t,this.l=e,this.id=Gt("au$component"),this.view=void 0}link(t,e,i,n){Mf(t).pending=this}activate(t,e,i){let n=this.view;if(void 0===n&&(n=this.view=this.f.create().setLocation(this.l)),!n.isActive)return n.activate(n,this.$controller,e,i)}deactivate(t,e){const i=this.view;if(void 0!==i&&i.isActive)return i.deactivate(i,this.$controller,e)}detaching(t,e,i){return this.deactivate(t,i)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};Ra([Xa({mode:qn.toView})],Rf.prototype,"value",void 0),Rf=Ra([Sc("pending"),Oa(0,vh),Oa(1,du)],Rf);let Of=class{constructor(t,e){this.f=t,this.l=e,this.id=Gt("au$component"),this.view=void 0}link(t,e,i,n){Mf(t).fulfilled=this}activate(t,e,i,n){this.value=n;let r=this.view;if(void 0===r&&(r=this.view=this.f.create().setLocation(this.l)),!r.isActive)return r.activate(r,this.$controller,e,i)}deactivate(t,e){const i=this.view;if(void 0!==i&&i.isActive)return i.deactivate(i,this.$controller,e)}detaching(t,e,i){return this.deactivate(t,i)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};Ra([Xa({mode:qn.fromView})],Of.prototype,"value",void 0),Of=Ra([Sc("then"),Oa(0,vh),Oa(1,du)],Of);let Pf=class{constructor(t,e){this.f=t,this.l=e,this.id=Gt("au$component"),this.view=void 0}link(t,e,i,n){Mf(t).rejected=this}activate(t,e,i,n){this.value=n;let r=this.view;if(void 0===r&&(r=this.view=this.f.create().setLocation(this.l)),!r.isActive)return r.activate(r,this.$controller,e,i)}deactivate(t,e){const i=this.view;if(void 0!==i&&i.isActive)return i.deactivate(i,this.$controller,e)}detaching(t,e,i){return this.deactivate(t,i)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}};function Mf(t){const e=t.parent,i=null==e?void 0:e.viewModel;if(i instanceof Cf)return i;throw new Error("AUR0813")}Ra([Xa({mode:qn.fromView})],Pf.prototype,"value",void 0),Pf=Ra([Sc("catch"),Oa(0,vh),Oa(1,du)],Pf);let Lf=class{"promise.resolve"(t,e,i){return new gl(t,e,"promise","bind")}};Lf=Ra([yl({pattern:"promise.resolve",symbols:""})],Lf);let jf=class{then(t,e,i){return new gl(t,e,"then","from-view")}};jf=Ra([yl({pattern:"then",symbols:""})],jf);let If=class{catch(t,e,i){return new gl(t,e,"catch","from-view")}};If=Ra([yl({pattern:"catch",symbols:""})],If);class Bf{constructor(t,e,i){this.node=t,this.instructions=e,this.De=i,this.Pe=void 0}get definition(){return void 0===this.Pe&&(this.Pe=Uc.create({name:Wc.generateName(),template:this.node,needsCompile:Wa(this.node),instructions:this.instructions,dependencies:this.De})),this.Pe}createView(t){return this.getViewFactory(t).create()}getViewFactory(t){return t.root.get(Sh).getViewFactory(this.definition,t.createChild().register(...this.De))}mergeInto(t,e,i){t.appendChild(this.node),e.push(...this.instructions),i.push(...this.De)}}function Uf(t,e,i,n,r){for(let s=0,o=i.length;s<o;++s){const o=i[s];switch(typeof o){case"string":e.appendChild(t.document.createTextNode(o));break;case"object":o instanceof t.Node?e.appendChild(o):"mergeInto"in o&&o.mergeInto(e,n,r)}}}function Nf(t,e){const i=e.to;return void 0!==i&&"subject"!==i&&"composing"!==i&&(t[i]=e),t}class Vf{constructor(t,e,i,n){this.p=t,this.$e=e,this.Oe=i,this.r=n,this.id=Gt("au$component"),this.component=void 0,this.composing=!1,this.view=void 0,this.Le=void 0,this.qe=e.props.reduce(Nf,{})}attaching(t,e,i){const{component:n,view:r}=this;return void 0===r||this.Le!==n?(this.Le=n,this.composing=!0,this.compose(void 0,n,t,i)):this.compose(r,n,t,i)}detaching(t,e,i){return this.oe(this.view,t,i)}componentChanged(t,e,i){const{$controller:n}=this;if(!n.isActive)return;if(this.Le===t)return;this.Le=t,this.composing=!0,i|=n.flags;const r=se(this.oe(this.view,null,i),(()=>this.compose(void 0,t,null,i)));r instanceof Promise&&r.catch((t=>{throw t}))}compose(t,e,i,n){return se(void 0===t?se(e,(t=>this.Ue(t,n))):t,(t=>this.ne(this.view=t,i,n)))}oe(t,e,i){return null==t?void 0:t.deactivate(null!=e?e:t,this.$controller,i)}ne(t,e,i){const{$controller:n}=this;return se(null==t?void 0:t.activate(null!=e?e:t,n,i,n.scope),(()=>{this.composing=!1}))}Ue(t,e){const i=this._e(t,e);if(i)return i.setLocation(this.$controller.location),i.lockScope(this.$controller.scope),i}_e(t,e){if(!t)return;const i=this.Oe.controller.container;if("object"==typeof t){if(function(t){return"lockScope"in t}(t))return t;if("createView"in t)return t.createView(i);if("create"in t)return t.create();if("template"in t)return this.r.getViewFactory(Uc.getOrCreate(t),i).create()}if(Wa(t)){const e=i.find(Wc,t);if(null==e)throw new Error(`AUR0809:${t}`);t=e.Type}return function(t,e,i,n){if(Wa(e))return function(t,e,i,n){const r=[],s=[],o=[],a=t.document.createElement(e);let l=!1;return i&&Object.keys(i).forEach((t=>{const e=i[t];Lu(e)?(l=!0,r.push(e)):a.setAttribute(t,e)})),l&&(a.className="au",s.push(r)),n&&Uf(t,a,n,s,o),new Bf(a,s,o)}(t,e,i,n);if(Wc.isType(e))return function(t,e,i,n){const r=Wc.getDefinition(e),s=[],o=[s],a=[],l=[],c=r.bindables,h=t.document.createElement(r.name);return h.className="au",a.includes(e)||a.push(e),s.push(new zu(r,void 0,l,null,!1,void 0)),i&&Object.keys(i).forEach((t=>{const e=i[t];Lu(e)?l.push(e):void 0===c[t]?l.push(new Wu(e,t)):l.push(new Vu(e,t))})),n&&Uf(t,h,n,o,a),new Bf(h,o,a)}(t,e,i,n);throw new Error("Invalid Tag or Type.")}(this.p,t,this.qe,this.$controller.host.childNodes).createView(i)}dispose(){var t;null===(t=this.view)||void 0===t||t.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Vf.inject=[Ol,Mu,Fh,Sh],Ra([Xa],Vf.prototype,"component",void 0),Ra([Xa({mode:qn.fromView})],Vf.prototype,"composing",void 0),Ic({name:"au-render",template:null,containerless:!0,capture:!0})(Vf);class zf{constructor(t,e,i,n,r,s,o){this.c=t,this.parent=e,this.host=i,this.l=n,this.p=r,this.scopeBehavior="auto",this.Fe=void 0,this.r=t.get(Sh),this.$e=s,this.Ve=o}static get inject(){return[Se,Dh,hu,du,Ol,Mu,Re(Ff)]}get pending(){return this.Me}get composition(){return this.Fe}attaching(t,e,i){return this.Me=se(this.queue(new qf(this.view,this.viewModel,this.model,void 0),t),(t=>{this.Ve.isCurrent(t)&&(this.Me=void 0)}))}detaching(t){const e=this.Fe,i=this.Me;return this.Ve.invalidate(),this.Fe=this.Me=void 0,se(i,(()=>null==e?void 0:e.deactivate(t)))}propertyChanged(t){"model"!==t||null==this.Fe?this.Me=se(this.Me,(()=>se(this.queue(new qf(this.view,this.viewModel,this.model,t),void 0),(t=>{this.Ve.isCurrent(t)&&(this.Me=void 0)})))):this.Fe.update(this.model)}queue(t,e){const i=this.Ve,n=this.Fe;return se(i.create(t),(t=>i.isCurrent(t)?se(this.compose(t),(r=>i.isCurrent(t)?se(r.activate(e),(()=>i.isCurrent(t)?(this.Fe=r,se(null==n?void 0:n.deactivate(e),(()=>t))):se(r.controller.deactivate(r.controller,this.$controller,4),(()=>(r.controller.dispose(),t))))):(r.controller.dispose(),t))):t))}compose(t){let e,i,n;const{view:r,viewModel:s,model:o}=t.change,{c:a,host:l,$controller:c,l:h}=this,u=this.getDef(s),d=a.createChild(),p=null==h?l.parentNode:h.parentNode;if(null!==u){if(u.containerless)throw new Error("AUR0806");null==h?(i=l,n=()=>{}):(i=p.insertBefore(this.p.document.createElement(u.name),h),n=()=>{i.remove()}),e=this.getVm(d,s,i)}else i=null==h?l:h,e=this.getVm(d,s,i);const f=()=>{if(null!==u){const r=Oh.$el(d,e,i,{projections:this.$e.projections},u);return new _f(r,(t=>r.activate(null!=t?t:r,c,2,c.scope.parentScope)),(t=>se(r.deactivate(null!=t?t:r,c,4),n)),(t=>{var i;return null===(i=e.activate)||void 0===i?void 0:i.call(e,t)}),t)}{const n=Uc.create({name:Wc.generateName(),template:r}),s=this.r.getViewFactory(n,d),o=Oh.$view(s,c),a="auto"===this.scopeBehavior?Wi.fromParent(this.parent.scope,e):Wi.create(e);return mu(i)?o.setLocation(i):o.setHost(i),new _f(o,(t=>o.activate(null!=t?t:o,c,2,a)),(t=>o.deactivate(null!=t?t:o,c,4)),(t=>{var i;return null===(i=e.activate)||void 0===i?void 0:i.call(e,t)}),t)}};return"activate"in e?se(e.activate(o),(()=>f())):f()}getVm(t,e,i){if(null==e)return new Df;if("object"==typeof e)return e;const n=this.p,r=mu(i);t.registerResolver(n.Element,t.registerResolver(hu,new Ye("ElementResolver",r?null:i))),t.registerResolver(du,new Ye("IRenderLocation",r?i:null));const s=t.invoke(e);return t.registerResolver(e,new Ye("au-compose.viewModel",s)),s}getDef(t){const e=_a(t)?t:null==t?void 0:t.constructor;return Wc.isType(e)?Wc.getDefinition(e):null}}Ra([Xa],zf.prototype,"view",void 0),Ra([Xa],zf.prototype,"viewModel",void 0),Ra([Xa],zf.prototype,"model",void 0),Ra([Xa({set:t=>{if("scoped"===t||"auto"===t)return t;throw new Error("AUR0805")}})],zf.prototype,"scopeBehavior",void 0),Ic("au-compose")(zf);class Df{}class Ff{constructor(){this.id=0}isCurrent(t){return t.id===this.id}create(t){return se(t.load(),(t=>new Hf(++this.id,t)))}invalidate(){this.id++}}class qf{constructor(t,e,i,n){this.view=t,this.viewModel=e,this.model=i,this.src=n}load(){return Ha(this.view)||Ha(this.viewModel)?Promise.all([this.view,this.viewModel]).then((([t,e])=>new Zf(t,e,this.model,this.src))):new Zf(this.view,this.viewModel,this.model,this.src)}}class Zf{constructor(t,e,i,n){this.view=t,this.viewModel=e,this.model=i,this.src=n}}class Hf{constructor(t,e){this.id=t,this.change=e}}class _f{constructor(t,e,i,n,r){this.controller=t,this.start=e,this.stop=i,this.update=n,this.context=r,this.state=0}activate(t){if(0!==this.state)throw new Error(`AUR0807:${this.controller.name}`);return this.state=1,this.start(t)}deactivate(t){switch(this.state){case 1:return this.state=-1,this.stop(t);case-1:throw new Error("AUR0808");default:this.state=-1}}}class Wf{constructor(t,e,i,n){var r,s;let o;this.je=null,this.Ne=null;const a=e.auSlot,l=null===(s=null===(r=i.instruction)||void 0===r?void 0:r.projections)||void 0===s?void 0:s[a.name];null==l?(o=n.getViewFactory(a.fallback,i.controller.container),this.We=!1):(o=n.getViewFactory(l,i.parent.controller.container),this.We=!0),this.Oe=i,this.view=o.create().setLocation(t)}static get inject(){return[du,Mu,Fh,Sh]}binding(t,e,i){var n;let r;this.je=this.$controller.scope.parentScope,this.We&&(r=this.Oe.controller.scope.parentScope,(this.Ne=Wi.fromParent(r,r.bindingContext)).overrideContext.$host=null!==(n=this.expose)&&void 0!==n?n:this.je.bindingContext)}attaching(t,e,i){return this.view.activate(t,this.$controller,i,this.We?this.Ne:this.je)}detaching(t,e,i){return this.view.deactivate(t,this.$controller,i)}exposeChanged(t){this.We&&null!=this.Ne&&(this.Ne.overrideContext.$host=t)}dispose(){this.view.dispose(),this.view=void 0}accept(t){var e;if(!0===(null===(e=this.view)||void 0===e?void 0:e.accept(t)))return!0}}Ra([Xa],Wf.prototype,"expose",void 0),Ic({name:"au-slot",template:null,containerless:!0})(Wf);const Kf=ke.createInterface("ISanitizer",(t=>t.singleton(class{sanitize(){throw new Error('"sanitize" method not implemented')}})));let Qf=class{constructor(t){this.He=t}toView(t){return null==t?null:this.He.sanitize(t)}};Qf=Ra([Oa(0,Kf)],Qf),on("sanitize")(Qf);let Xf=class{constructor(t){this.ze=t}toView(t,e){return this.ze.getViewComponentForObject(t,e)}};Xf=Ra([Oa(0,Ah)],Xf),on("view")(Xf);const Gf=Bp,Yf=Mp,Jf=Lp,tg=jp,eg=Up,ig=Np,ng=Ip,rg=[class{constructor(){this.debug=!1,this.resolveResources=!0}static register(t){return Ge.singleton(Ju,this).register(t)}compile(t,e,i){var n,r,s,o;const a=Uc.getOrCreate(t);if(null===a.template||void 0===a.template)return a;if(!1===a.needsCompile)return a;null!=i||(i=dp);const l=new cp(t,e,i,null,null,void 0),c=Wa(a.template)||!t.enhance?l.ni.createTemplate(a.template):a.template,h="TEMPLATE"===c.nodeName&&null!=c.content,u=h?c.content:c,d=e.get(function(t){function e(t,i,n){ke.inject(e)(t,i,n)}return e.$isResolver=!0,e.resolve=function(e,i){return i.root===i?i.getAll(t,!1):i.has(t,!1)?i.getAll(t,!1).concat(i.root.getAll(t,!1)):i.root.getAll(t,!1)},e}($p)),p=d.length;let f=0;if(p>0)for(;p>f;)null===(r=(n=d[f]).compiling)||void 0===r||r.call(n,c),++f;if(c.hasAttribute(xp))throw new Error("AUR0701");return this.ri(u,l),this.oi(u,l),Uc.create({...t,name:t.name||Cp(),dependencies:(null!==(s=t.dependencies)&&void 0!==s?s:ii).concat(null!==(o=l.deps)&&void 0!==o?o:ii),instructions:l.rows,surrogates:h?this.li(c,l):ii,template:c,hasSlots:l.hasSlot,needsCompile:!1})}compileSpread(t,e,i,n){var r;const s=new cp(t,i,dp,null,null,void 0),o=[],a=s.hi(n.nodeName.toLowerCase()),l=null!==a,c=s.ep,h=e.length;let u,d,p,f,g,v,m,b,y,w,x=0,k=null,A=null;for(;h>x;++x)if(u=e[x],y=u.target,w=u.rawValue,A=s.ai(u),null!==A&&(1&A.type)>0)fp.node=n,fp.attr=u,fp.bindable=null,fp.def=null,o.push(A.build(fp));else if(k=s.ui(y),null===k)if(null===A){if(m=c.parse(w,1),l&&(f=bp.from(a,!1),g=f.attrs[y],void 0!==g)){m=c.parse(w,1),o.push(new Yu(null==m?new Vu(w,g.property):new ju(m,g.property)));continue}if(null!=m)o.push(new ju(m,null!==(r=s.m.map(n,y))&&void 0!==r?r:_t(y)));else switch(y){case"class":o.push(new Ku(w));break;case"style":o.push(new Qu(w));break;default:o.push(new Wu(w,y))}}else{if(l&&(f=bp.from(a,!1),g=f.attrs[y],void 0!==g)){fp.node=n,fp.attr=u,fp.bindable=g,fp.def=a,o.push(new Yu(A.build(fp)));continue}fp.node=n,fp.attr=u,fp.bindable=null,fp.def=null,o.push(A.build(fp))}else{if(k.isTemplateController)throw new Error(`AUR0703:${y}`);f=bp.from(k,!0),b=!1===k.noMultiBindings&&null===A&&hp(w),b?p=this.fi(n,w,k,s):(v=f.primary,null===A?(m=c.parse(w,1),p=[null===m?new Vu(w,v.property):new ju(m,v.property)]):(fp.node=n,fp.attr=u,fp.bindable=v,fp.def=k,p=[A.build(fp)])),(null!=d?d:d=[]).push(new Du(this.resolveResources?k:k.name,null!=k.aliases&&k.aliases.includes(y)?y:void 0,p))}return up(),null!=d?d.concat(o):o}li(t,e){var i;const n=[],r=t.attributes,s=e.ep;let o,a,l,c,h,u,d,p,f,g,v,m,b=r.length,y=0,w=null,x=null;for(;b>y;++y){if(o=r[y],a=o.name,l=o.value,c=e.di.parse(a,l),v=c.target,m=c.rawValue,gp[v])throw new Error(`AUR0702:${a}`);if(x=e.ai(c),null!==x&&(1&x.type)>0)fp.node=t,fp.attr=c,fp.bindable=null,fp.def=null,n.push(x.build(fp));else if(w=e.ui(v),null===w)if(null===x)if(f=s.parse(m,1),null!=f)t.removeAttribute(a),--y,--b,n.push(new ju(f,null!==(i=e.m.map(t,v))&&void 0!==i?i:_t(v)));else switch(a){case"class":n.push(new Ku(m));break;case"style":n.push(new Qu(m));break;default:n.push(new Wu(m,a))}else fp.node=t,fp.attr=c,fp.bindable=null,fp.def=null,n.push(x.build(fp));else{if(w.isTemplateController)throw new Error(`AUR0703:${v}`);d=bp.from(w,!0),g=!1===w.noMultiBindings&&null===x&&hp(m),g?u=this.fi(t,m,w,e):(p=d.primary,null===x?(f=s.parse(m,1),u=[null===f?new Vu(m,p.property):new ju(f,p.property)]):(fp.node=t,fp.attr=c,fp.bindable=p,fp.def=w,u=[x.build(fp)])),t.removeAttribute(a),--y,--b,(null!=h?h:h=[]).push(new Du(this.resolveResources?w:w.name,null!=w.aliases&&w.aliases.includes(v)?v:void 0,u))}}return up(),null!=h?h.concat(n):n}oi(t,e){switch(t.nodeType){case 1:return"LET"===t.nodeName?this.mi(t,e):this.vi(t,e);case 3:return this.gi(t,e);case 11:{let i=t.firstChild;for(;null!==i;)i=this.oi(i,e);break}}return t.nextSibling}mi(t,e){const i=t.attributes,n=i.length,r=[],s=e.ep;let o,a,l,c,h,u,d,p,f=!1,g=0;for(;n>g;++g)if(o=i[g],l=o.name,c=o.value,"to-binding-context"!==l){if(a=e.di.parse(l,c),u=a.target,d=a.rawValue,h=e.ai(a),null!==h)switch(h.name){case"to-view":case"bind":r.push(new Zu(s.parse(d,8),_t(u)));continue;default:throw new Error(`AUR0704:${a.command}`)}p=s.parse(d,1),r.push(new Zu(null===p?new En(d):p,_t(u)))}else f=!0;return e.rows.push([new qu(r,f)]),this.pi(t).nextSibling}vi(t,e){var i,n,r,s,o,a,l,c,h,u;const d=t.nextSibling,p=(null!==(i=t.getAttribute("as-element"))&&void 0!==i?i:t.nodeName).toLowerCase(),f=e.hi(p),g=null!==f,v=g&&null!=f.shadowOptions,m=!!(null==f?void 0:f.capture),b=m?[]:ii,y=e.ep,w=this.debug?ri:()=>{t.removeAttribute(A),--F,--D};let x,k,A,$,S,T,E,C,R,O,P,M,L,j,I,B,U,N,V,z=t.attributes,D=z.length,F=0,q=null,Z=!1,H=null,_=!0,W=!1;if("slot"===p){if(null==e.root.def.shadowOptions)throw new Error(`AUR0717:${e.root.def.name}`);e.root.hasSlot=!0}if(g&&(_=null===(n=f.processContent)||void 0===n?void 0:n.call(f.Type,t,e.p),z=t.attributes,D=z.length),e.root.def.enhance&&t.classList.contains("au"))throw new Error("AUR0705");for(;D>F;++F){switch(k=z[F],A=k.name,$=k.value,A){case"as-element":case"containerless":w(),W||(W="containerless"===A);continue}if(S=e.di.parse(A,$),H=e.ai(S),U=S.target,N=S.rawValue,m){if(null!=H&&1&H.type){w(),b.push(S);continue}if("au-slot"!==U&&(I=bp.from(f,!1),null==I.attrs[U]&&!(null===(r=e.ui(U))||void 0===r?void 0:r.isTemplateController))){w(),b.push(S);continue}}if(null!==H&&1&H.type)fp.node=t,fp.attr=S,fp.bindable=null,fp.def=null,(null!=T?T:T=[]).push(H.build(fp)),w();else if(q=e.ui(U),null===q)if(null!==H)w(),g&&(I=bp.from(f,!1),C=I.attrs[U],void 0!==C)?(fp.node=t,fp.attr=S,fp.bindable=C,fp.def=f,(null!=E?E:E=[]).push(H.build(fp))):(fp.node=t,fp.attr=S,fp.bindable=null,fp.def=null,(null!=T?T:T=[]).push(H.build(fp)));else{if(g&&(I=bp.from(f,!1),C=I.attrs[U],void 0!==C)){L=y.parse(N,1),(null!=E?E:E=[]).push(null==L?new Vu(N,C.property):new ju(L,C.property)),w();continue}L=y.parse(N,1),null!=L&&(w(),(null!=T?T:T=[]).push(new ju(L,null!==(s=e.m.map(t,U))&&void 0!==s?s:_t(U))))}else I=bp.from(q,!0),Z=!1===q.noMultiBindings&&null===H&&hp(N),Z?O=this.fi(t,N,q,e):(B=I.primary,null===H?(L=y.parse(N,1),O=[null===L?new Vu(N,B.property):new ju(L,B.property)]):(fp.node=t,fp.attr=S,fp.bindable=B,fp.def=q,O=[H.build(fp)])),w(),q.isTemplateController?(null!=P?P:P=[]).push(new Fu(pp,this.resolveResources?q:q.name,void 0,O)):(null!=R?R:R=[]).push(new Du(this.resolveResources?q:q.name,null!=q.aliases&&q.aliases.includes(U)?U:void 0,O))}if(up(),this.wi(t)&&null!=T&&T.length>1&&this.bi(t,T),g&&(j=new zu(this.resolveResources?f:f.name,void 0,null!=E?E:ii,null,W,b),p===Op)){const i=t.getAttribute("name")||Rp,n=e.h("template"),r=e.xi();let s=t.firstChild;for(;null!==s;)1===s.nodeType&&s.hasAttribute("au-slot")?t.removeChild(s):n.content.appendChild(s),s=t.firstChild;this.oi(n.content,r),j.auSlot={name:i,fallback:Uc.create({name:Cp(),template:n,instructions:r.rows,needsCompile:!1})},t=this.yi(t,e)}if(null==T&&null==j&&null==R||(x=ii.concat(null!=j?j:ii,null!=R?R:ii,null!=T?T:ii),this.pi(t)),null!=P){let i;D=P.length-1,F=D,M=P[F],this.yi(t,e),"TEMPLATE"===t.nodeName?i=t:(i=e.h("template"),i.content.appendChild(t));const n=i,r=e.xi(null==x?[]:[x]);let s,a,h,u,d,m,b,y,w=0,k=0,A=t.firstChild,$=!1;if(!1!==_)for(;null!==A;)if(a=1===A.nodeType?A.getAttribute(Op):null,null!==a&&A.removeAttribute(Op),g)s=A.nextSibling,v||($=3===A.nodeType&&""===A.textContent.trim(),$||(null!==(o=(l=null!=u?u:u={})[c=a||Rp])&&void 0!==o?o:l[c]=[]).push(A),t.removeChild(A)),A=s;else{if(null!==a)throw a=a||Rp,new Error(`AUR0706:${p}[${a}]`);A=A.nextSibling}if(null!=u){for(a in h={},u){for(i=e.h("template"),d=u[a],w=0,k=d.length;k>w;++w)m=d[w],"TEMPLATE"===m.nodeName?m.attributes.length>0?i.content.appendChild(m):i.content.appendChild(m.content):i.content.appendChild(m);y=e.xi(),this.oi(i.content,y),h[a]=Uc.create({name:Cp(),template:i,instructions:y.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}j.projections=h}if(g&&(W||f.containerless)&&this.yi(t,e),V=!g||!f.containerless&&!W&&!1!==_,V)if("TEMPLATE"===t.nodeName)this.oi(t.content,r);else for(A=t.firstChild;null!==A;)A=this.oi(A,r);for(M.def=Uc.create({name:Cp(),template:n,instructions:r.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding});F-- >0;)M=P[F],i=e.h("template"),b=e.h("au-m"),b.classList.add("au"),i.content.appendChild(b),M.def=Uc.create({name:Cp(),template:i,needsCompile:!1,instructions:[[P[F+1]]],isStrictBinding:e.root.def.isStrictBinding});e.rows.push([M])}else{null!=x&&e.rows.push(x);let i,n,r,s,o,l,c,d=t.firstChild,m=null,b=!1,y=0,w=0;if(!1!==_)for(;null!==d;)if(n=1===d.nodeType?d.getAttribute(Op):null,null!==n&&d.removeAttribute(Op),g)i=d.nextSibling,v||(b=3===d.nodeType&&""===d.textContent.trim(),b||(null!==(a=(h=null!=r?r:r={})[u=n||Rp])&&void 0!==a?a:h[u]=[]).push(d),t.removeChild(d)),d=i;else{if(null!==n)throw n=n||Rp,new Error(`AUR0706:${p}[${n}]`);d=d.nextSibling}if(null!=r){for(n in m={},r){for(l=e.h("template"),s=r[n],y=0,w=s.length;w>y;++y)o=s[y],"TEMPLATE"===o.nodeName?o.attributes.length>0?l.content.appendChild(o):l.content.appendChild(o.content):l.content.appendChild(o);c=e.xi(),this.oi(l.content,c),m[n]=Uc.create({name:Cp(),template:l,instructions:c.rows,needsCompile:!1,isStrictBinding:e.root.def.isStrictBinding})}j.projections=m}if(g&&(W||f.containerless)&&this.yi(t,e),V=!g||!f.containerless&&!W&&!1!==_,V&&t.childNodes.length>0)for(d=t.firstChild;null!==d;)d=this.oi(d,e)}return d}gi(t,e){let i="",n=t;for(;null!==n&&3===n.nodeType;)i+=n.textContent,n=n.nextSibling;const r=e.ep.parse(i,1);if(null===r)return n;const s=t.parentNode;for(s.insertBefore(this.pi(e.h("au-m")),t),e.rows.push([new Hu(r,!!e.def.isStrictBinding)]),t.textContent="",n=t.nextSibling;null!==n&&3===n.nodeType;)s.removeChild(n),n=t.nextSibling;return t.nextSibling}fi(t,e,i,n){const r=bp.from(i,!0),s=e.length,o=[];let a,l,c,h,u,d,p=0,f=0;for(let g=0;g<s;++g)if(f=e.charCodeAt(g),92===f)++g;else if(58===f){for(a=e.slice(p,g);e.charCodeAt(++g)<=32;);for(p=g;g<s;++g)if(f=e.charCodeAt(g),92===f)++g;else if(59===f){l=e.slice(p,g);break}if(void 0===l&&(l=e.slice(p)),h=n.di.parse(a,l),u=n.ai(h),d=r.attrs[h.target],null==d)throw new Error(`AUR0707:${i.name}.${h.target}`);for(null===u?(c=n.ep.parse(l,1),o.push(null===c?new Vu(l,d.property):new ju(c,d.property))):(fp.node=t,fp.attr=h,fp.bindable=d,fp.def=i,o.push(u.build(fp)));g<s&&e.charCodeAt(++g)<=32;);p=g,a=void 0,l=void 0}return up(),o}ri(t,e){var i,n;const r=t,s=Qt(r.querySelectorAll("template[as-custom-element]")),o=s.length;if(0===o)return;if(o===r.childElementCount)throw new Error("AUR0708");const a=new Set,l=[];for(const t of s){if(t.parentNode!==r)throw new Error("AUR0709");const i=kp(t,a),n=class{},s=t.content,o=Qt(s.querySelectorAll("bindable")),c=Ja.for(n),h=new Set,u=new Set;for(const t of o){if(t.parentNode!==s)throw new Error("AUR0710");const e=t.getAttribute("property");if(null===e)throw new Error("AUR0711");const i=t.getAttribute("attribute");if(null!==i&&u.has(i)||h.has(e))throw new Error(`AUR0712:${e}+${i}`);null!==i&&u.add(i),h.add(e),c.add({property:e,attribute:null!=i?i:void 0,mode:Ap(t)}),t.getAttributeNames().filter((t=>!wp.includes(t))).length,s.removeChild(t)}l.push(n),e.ki(Wc.define({name:i,template:t},n)),r.removeChild(t)}let c=0;const h=l.length;for(;h>c;++c)Wc.getDefinition(l[c]).dependencies.push(...null!==(i=e.def.dependencies)&&void 0!==i?i:ii,...null!==(n=e.deps)&&void 0!==n?n:ii)}wi(t){return"INPUT"===t.nodeName&&1===vp[t.type]}bi(t,e){if("INPUT"===t.nodeName){const t=e;let i,n,r,s=0;for(let e=0;e<t.length&&s<3;e++)switch(r=t[e],r.to){case"model":case"value":case"matcher":i=e,s++;break;case"checked":n=e,s++}void 0!==n&&void 0!==i&&n<i&&([t[i],t[n]]=[t[n],t[i]])}}pi(t){return t.classList.add("au"),t}yi(t,e){const i=t.parentNode,n=e.h("au-m");return this.pi(i.insertBefore(n,t)),i.removeChild(t),n}},lf],sg=[Tl,Sl,Rl],og=[Qd,Hd,Wd,_d,Kd,Xd,Gd,rp,Yd,Jd,tp,np,ip,ep,sp],ag=[Gf,Yf,Jf,tg,eg,ig,ng,Qf,Xf,ff,gf,vf,yf,$f,Sf,Tf,Ef,Cf,Rf,Of,Pf,Lf,jf,If,zp,Fp,hf,Vf,zf,pf,uf,df,Wf],lg=[dd,pd,cd,hd,ud,rd,sd,od,ad,ld,wd,Sd,xd,kd,Ad,$d,md,Td],cg=function t(e){return{optionsProvider:e,register(t){const i={coercingOptions:{enableCoercion:!1,coerceNullish:!1}};return e(i),t.register(Ge.instance(Fn,i.coercingOptions),...rg,...ag,...sg,...og,...lg)},customize:i=>t(null!=i?i:e)}}(ri),hg=ke.createInterface("IAurelia");var ug;!function(t){t[t.Element=1]="Element",t[t.Attribute=2]="Attribute"}(ug||(ug={}));const dg=ke.createInterface("IDialogService"),pg=ke.createInterface("IDialogController"),fg=ke.createInterface("IDialogDomRenderer"),gg=ke.createInterface("IDialogDom"),vg=ke.createInterface("IDialogGlobalSettings");class mg{constructor(t,e){this.wasCancelled=t,this.dialog=e}static create(t,e){return new mg(t,e)}}class bg{constructor(t,e){this.status=t,this.value=e}static create(t,e){return new bg(t,e)}}var yg;!function(t){t.Ok="ok",t.Error="error",t.Cancel="cancel",t.Abort="abort"}(yg||(yg={}));class wg{constructor(t,e){this.p=t,this.ctn=e,this.closed=new Promise(((t,e)=>{this.Pt=t,this.St=e}))}static get inject(){return[Ol,Se]}activate(t){var e;const i=this.ctn.createChild(),{model:n,template:r,rejectOnCancel:s}=t,o=i.get(fg),a=null!==(e=t.host)&&void 0!==e?e:this.p.document.body,l=this.dom=o.render(a,t),c=i.has(uu,!0)?i.get(uu):null,h=l.contentHost;return this.settings=t,null!=c&&c.contains(a)||i.register(Ge.instance(uu,a)),i.register(Ge.instance(hu,h),Ge.instance(gg,l)),new Promise((e=>{var r,s;const o=Object.assign(this.cmp=this.getOrCreateVm(i,t,h),{$dialog:this});e(null===(s=null===(r=o.canActivate)||void 0===r?void 0:r.call(o,n))||void 0===s||s)})).then((e=>{var o;if(!0!==e){if(l.dispose(),s)throw kg(null,"Dialog activation rejected");return mg.create(!0,this)}const a=this.cmp;return se(null===(o=a.activate)||void 0===o?void 0:o.call(a,n),(()=>{var e;const n=this.controller=Oh.$el(i,a,h,null,Uc.create(null!==(e=this.getDefinition(a))&&void 0!==e?e:{name:Wc.generateName(),template:r}));return se(n.activate(n,null,2),(()=>{var e;return l.overlay.addEventListener(null!==(e=t.mouseEvent)&&void 0!==e?e:"click",this),mg.create(!1,this)}))}))}),(t=>{throw l.dispose(),t}))}deactivate(t,e){if(this.es)return this.es;let i=!0;const{controller:n,dom:r,cmp:s,settings:{mouseEvent:o,rejectOnCancel:a}}=this,l=bg.create(t,e),c=new Promise((c=>{var h,u;c(se(null===(u=null===(h=s.canDeactivate)||void 0===h?void 0:h.call(s,l))||void 0===u||u,(c=>{var h;if(!0!==c){if(i=!1,this.es=void 0,a)throw kg(null,"Dialog cancellation rejected");return bg.create("abort")}return se(null===(h=s.deactivate)||void 0===h?void 0:h.call(s,l),(()=>se(n.deactivate(n,null,4),(()=>(r.dispose(),r.overlay.removeEventListener(null!=o?o:"click",this),a||"error"===t?this.St(kg(e,"Dialog cancelled with a rejection on cancel")):this.Pt(l),l)))))})))})).catch((t=>{throw this.es=void 0,t}));return this.es=i?c:void 0,c}ok(t){return this.deactivate("ok",t)}cancel(t){return this.deactivate("cancel",t)}error(t){const e=function(t){const e=new Error;return e.wasCancelled=!1,e.value=t,e}(t);return new Promise((t=>{var i,n;return t(se(null===(n=(i=this.cmp).deactivate)||void 0===n?void 0:n.call(i,bg.create("error",e)),(()=>se(this.controller.deactivate(this.controller,null,4),(()=>{this.dom.dispose(),this.St(e)})))))}))}handleEvent(t){this.settings.overlayDismiss&&!this.dom.contentHost.contains(t.target)&&this.cancel()}getOrCreateVm(t,e,i){const n=e.component;if(null==n)return new xg;if("object"==typeof n)return n;const r=this.p;return t.registerResolver(r.HTMLElement,t.registerResolver(r.Element,t.registerResolver(hu,new Ye("ElementResolver",i)))),t.invoke(n)}getDefinition(t){const e=_a(t)?t:null==t?void 0:t.constructor;return Wc.isType(e)?Wc.getDefinition(e):null}}class xg{}function kg(t,e){const i=new Error(e);return i.wasCancelled=!0,i.value=t,i}class Ag{static from(...t){return Object.assign(new Ag,...t).ls().os()}load(){const t=this,e=this.component,i=this.template,n=oe(null==e?void 0:se(e(),(e=>{t.component=e})),_a(i)?se(i(),(e=>{t.template=e})):void 0);return n instanceof Promise?n.then((()=>t)):t}ls(){if(null==this.component&&null==this.template)throw new Error("AUR0903");return this}os(){return null==this.keyboard&&(this.keyboard=this.lock?[]:["Enter","Escape"]),"boolean"!=typeof this.overlayDismiss&&(this.overlayDismiss=!this.lock),this}}function $g(t,e){return this.then((i=>i.dialog.closed.then(t,e)),e)}const Sg="position:absolute;width:100%;height:100%;top:0;left:0;";class Tg{constructor(t){this.p=t,this.wrapperCss=`${Sg} display:flex;`,this.overlayCss=Sg,this.hostCss="position:relative;margin:auto;"}static register(t){Ge.singleton(fg,this).register(t)}render(t){const e=this.p.document,i=(t,i)=>{const n=e.createElement(t);return n.style.cssText=i,n},n=t.appendChild(i("au-dialog-container",this.wrapperCss)),r=n.appendChild(i("au-dialog-overlay",this.overlayCss)),s=n.appendChild(i("div",this.hostCss));return new Eg(n,r,s)}}Tg.inject=[Ol];class Eg{constructor(t,e,i){this.wrapper=t,this.overlay=e,this.contentHost=i}dispose(){this.wrapper.remove()}}function Cg(t,e){return{settingsProvider:t,register:i=>i.register(...e,dc.beforeCreate((()=>t(i.get(vg))))),customize:(t,i)=>Cg(t,null!=i?i:e)}}Cg((()=>{throw new Error("AUR0904")}),[class{static register(t){t.register(Ge.singleton(vg,this))}}]),Cg(ri,[class{constructor(t,e,i){this.ft=t,this.p=e,this.ss=i,this.dlgs=[]}get controllers(){return this.dlgs.slice(0)}get top(){const t=this.dlgs;return t.length>0?t[t.length-1]:null}static get inject(){return[Se,Ol,vg]}static register(t){t.register(Ge.singleton(dg,this),dc.beforeDeactivate(dg,(t=>se(t.closeAll(),(t=>{if(t.length>0)throw new Error(`AUR0901:${t.length}`)})))))}open(t){return function(t){return t.whenClosed=$g,t}(new Promise((e=>{var i;const n=Ag.from(this.ss,t),r=null!==(i=n.container)&&void 0!==i?i:this.ft.createChild();e(se(n.load(),(t=>{const e=r.invoke(wg);return r.register(Ge.instance(pg,e)),r.register(Ge.callback(wg,(()=>{throw new Error("AUR0902")}))),se(e.activate(t),(t=>{if(!t.wasCancelled){1===this.dlgs.push(e)&&this.p.window.addEventListener("keydown",this);const t=()=>this.remove(e);e.closed.then(t,t)}return t}))})))})))}closeAll(){return Promise.all(Array.from(this.dlgs).map((t=>t.settings.rejectOnCancel?t.cancel().then((()=>null)):t.cancel().then((e=>"cancel"===e.status?null:t))))).then((t=>t.filter((t=>!!t))))}remove(t){const e=this.dlgs,i=e.indexOf(t);i>-1&&this.dlgs.splice(i,1),0===e.length&&this.p.window.removeEventListener("keydown",this)}handleEvent(t){const e=function(t){return"Escape"===(t.code||t.key)||27===t.keyCode?"Escape":"Enter"===(t.code||t.key)||13===t.keyCode?"Enter":void 0}(t);if(null==e)return;const i=this.top;if(null===i||0===i.settings.keyboard.length)return;const n=i.settings.keyboard;"Escape"===e&&n.includes(e)?i.cancel():"Enter"===e&&n.includes(e)&&i.ok()}},class{constructor(){this.lock=!0,this.startingZIndex=1e3,this.rejectOnCancel=!1}static register(t){Ge.singleton(vg,this).register(t)}},Tg]),ke.createInterface((t=>t.singleton(Rg)));class Rg{constructor(t,e,i){this.ctn=t,this.p=e,this.r=i}define(t,e,i){if(!t.includes("-"))throw new Error('Invalid web-components custom element name. It must include a "-"');let n;if(null==e)throw new Error("Invalid custom element definition");if(n="function"==typeof e?Wc.isType(e)?Wc.getDefinition(e):Uc.create(Wc.generateName(),e):Uc.getOrCreate(e),n.containerless)throw new Error("Containerless custom element is not supported. Consider using buitl-in extends instead");const r=(null==i?void 0:i.extends)?this.p.document.createElement(i.extends).constructor:HTMLElement,s=this.ctn,o=this.r,a=n.bindables,l=this.p;class c extends r{auInit(){if(this.auInited)return;this.auInited=!0;const t=s.createChild();t.registerResolver(l.HTMLElement,t.registerResolver(l.Element,t.registerResolver(hu,new Ye("ElementProvider",this))));const e=o.compile(n,t,{projections:null}),i=t.invoke(e.Type),r=this.auCtrl=Oh.$el(t,i,this,null,e);cu(this,e.key,r)}connectedCallback(){this.auInit(),this.auCtrl.activate(this.auCtrl,null,0)}disconnectedCallback(){this.auCtrl.deactivate(this.auCtrl,null,0)}adoptedCallback(){this.auInit()}attributeChangedCallback(t,e,i){this.auInit(),this.auCtrl.viewModel[t]=i}}c.observedAttributes=Object.keys(a);for(const t in a)Object.defineProperty(c.prototype,t,{configurable:!0,enumerable:!1,get(){return this.auCtrl.viewModel[t]},set(e){this.auInited||this.auInit(),this.auCtrl.viewModel[t]=e}});return this.p.customElements.define(t,c,i),c}}Rg.inject=[Se,Ol,Sh];const Og=Ca.getOrCreate(globalThis);class Pg extends class{constructor(t=ke.createContainer()){if(this.container=t,this.ir=!1,this.Ge=!1,this.Xe=!1,this.Ke=void 0,this.next=void 0,this.Ye=void 0,this.Ze=void 0,t.has(hg,!0))throw new Error("AUR0768");t.registerResolver(hg,new Ye("IAurelia",this)),t.registerResolver(nu,this.Je=new Ye("IAppRoot"))}get isRunning(){return this.ir}get isStarting(){return this.Ge}get isStopping(){return this.Xe}get root(){if(null==this.Ke){if(null==this.next)throw new Error("AUR0767");return this.next}return this.Ke}register(...t){return this.container.register(...t),this}app(t){return this.next=new ou(t,this.Qe(t.host),this.container,this.Je),this}enhance(t,e){var i;const n=null!==(i=t.container)&&void 0!==i?i:this.container.createChild(),r=t.host,s=this.Qe(r),o=t.component;let a;_a(o)?(n.registerResolver(s.HTMLElement,n.registerResolver(s.Element,n.registerResolver(hu,new Ye("ElementResolver",r)))),a=n.invoke(o)):a=o,n.registerResolver(uu,new Ye("IEventTarget",r)),e=null!=e?e:null;const l=Oh.$el(n,a,r,null,Uc.create({name:Wc.generateName(),template:r,enhance:!0}));return se(l.activate(l,e,2),(()=>l))}async waitForIdle(){const t=this.root.platform;await t.domWriteQueue.yield(),await t.domReadQueue.yield(),await t.taskQueue.yield()}Qe(t){let e;if(this.container.has(Ol,!1))e=this.container.get(Ol);else{if(null===t.ownerDocument.defaultView)throw new Error("AUR0769");e=new Ca(t.ownerDocument.defaultView),this.container.register(Ge.instance(Ol,e))}return e}start(t=this.next){if(null==t)throw new Error("AUR0770");return this.Ye instanceof Promise?this.Ye:this.Ye=se(this.stop(),(()=>(Reflect.set(t.host,"$aurelia",this),this.Je.prepare(this.Ke=t),this.Ge=!0,se(t.activate(),(()=>{this.ir=!0,this.Ge=!1,this.Ye=void 0,this.ts(t,"au-started",t.host)})))))}stop(t=!1){if(this.Ze instanceof Promise)return this.Ze;if(!0===this.ir){const e=this.Ke;return this.ir=!1,this.Xe=!0,this.Ze=se(e.deactivate(),(()=>{Reflect.deleteProperty(e.host,"$aurelia"),t&&e.dispose(),this.Ke=void 0,this.Je.dispose(),this.Xe=!1,this.ts(e,"au-stopped",e.host)}))}}dispose(){if(this.ir||this.Xe)throw new Error("AUR0771");this.container.dispose()}ts(t,e,i){const n=new t.platform.window.CustomEvent(e,{detail:this,bubbles:!0,cancelable:!0});i.dispatchEvent(n)}}{constructor(t=function(){return ke.createContainer().register(Ge.instance(Ol,Og),cg)}()){super(t)}static start(t){return(new Pg).start(t)}static app(t){return(new Pg).app(t)}static enhance(t,e){return(new Pg).enhance(t,e)}static register(...t){return(new Pg).register(...t)}app(t){if(Wc.isType(t)){const e=Wc.getDefinition(t);let i=document.querySelector(e.name);return null===i&&(i=document.body),super.app({host:i,component:t})}return super.app(t)}}var Mg=function(t,e){return Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Mg(t,e)};function Lg(t,e){function i(){this.constructor=t}Mg(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function jg(t){return"function"==typeof t}var Ig=!1,Bg={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,Ig=t},get useDeprecatedSynchronousErrorHandling(){return Ig}};function Ug(t){setTimeout((function(){throw t}),0)}var Ng={closed:!0,next:function(t){},error:function(t){if(Bg.useDeprecatedSynchronousErrorHandling)throw t;Ug(t)},complete:function(){}},Vg=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function zg(t){return null!==t&&"object"==typeof t}var Dg=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),Fg=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var i=this,n=i._parentOrParents,r=i._ctorUnsubscribe,s=i._unsubscribe,o=i._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(jg(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof Dg?qg(t.errors):[t]}}if(Vg(o)){a=-1;for(var l=o.length;++a<l;){var c=o[a];if(zg(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof Dg?e=e.concat(qg(t.errors)):e.push(t)}}}if(e)throw new Dg(e)}},t.prototype.add=function(e){var i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var n=i;(i=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=i._parentOrParents;if(null===r)i._parentOrParents=this;else if(r instanceof t){if(r===this)return i;i._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return i;r.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function qg(t){return t.reduce((function(t,e){return t.concat(e instanceof Dg?e.errors:e)}),[])}var Zg=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Hg=function(t){function e(i,n,r){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ng;break;case 1:if(!i){s.destination=Ng;break}if("object"==typeof i){i instanceof e?(s.syncErrorThrowable=i.syncErrorThrowable,s.destination=i,i.add(s)):(s.syncErrorThrowable=!0,s.destination=new _g(s,i));break}default:s.syncErrorThrowable=!0,s.destination=new _g(s,i,n,r)}return s}return Lg(e,t),e.prototype[Zg]=function(){return this},e.create=function(t,i,n){var r=new e(t,i,n);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(Fg),_g=function(t){function e(e,i,n,r){var s,o=t.call(this)||this;o._parentSubscriber=e;var a=o;return jg(i)?s=i:i&&(s=i.next,n=i.error,r=i.complete,i!==Ng&&(jg((a=Object.create(i)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=s,o._error=n,o._complete=r,o}return Lg(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Bg.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=Bg.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ug(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Ug(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};Bg.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Bg.useDeprecatedSynchronousErrorHandling)throw t;Ug(t)}},e.prototype.__tryOrSetError=function(t,e,i){if(!Bg.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(e){return Bg.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Ug(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Hg),Wg=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Kg(t){return t}function Qg(t){return 0===t.length?Kg:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Xg=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var n=this.operator,r=function(t,e,i){if(t){if(t instanceof Hg)return t;if(t[Zg])return t[Zg]()}return t||e||i?new Hg(t,e,i):new Hg(Ng)}(t,e,i);if(n?r.add(n.call(r,this.source)):r.add(this.source||Bg.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),Bg.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Bg.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,i=e.closed,n=e.destination,r=e.isStopped;if(i||r)return!1;t=n&&n instanceof Hg?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var i=this;return new(e=Gg(e))((function(e,n){var r;r=i.subscribe((function(e){try{t(e)}catch(t){n(t),r&&r.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Wg]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Qg(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Gg(t))((function(t,i){var n;e.subscribe((function(t){return n=t}),(function(t){return i(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function Gg(t){if(t||(t=Bg.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Yg=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Jg=function(t){function e(e,i){var n=t.call(this)||this;return n.subject=e,n.subscriber=i,n.closed=!1,n}return Lg(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(Fg),tv=function(t){function e(e){var i=t.call(this,e)||this;return i.destination=e,i}return Lg(e,t),e}(Hg),ev=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Lg(e,t),e.prototype[Zg]=function(){return new tv(this)},e.prototype.lift=function(t){var e=new iv(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Yg;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new Yg;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Yg;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Yg;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Yg;return this.hasError?(t.error(this.thrownError),Fg.EMPTY):this.isStopped?(t.complete(),Fg.EMPTY):(this.observers.push(t),new Jg(this,t))},e.prototype.asObservable=function(){var t=new Xg;return t.source=this,t},e.create=function(t,e){return new iv(t,e)},e}(Xg),iv=function(t){function e(e,i){var n=t.call(this)||this;return n.destination=e,n.source=i,n}return Lg(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Fg.EMPTY},e}(ev),nv=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return Lg(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return i&&!i.closed&&e.next(this._value),i},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Yg;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(ev);function rv(t,e){if(!ov(t))throw Error("Provided state is not of type StateHistory");return e>0?function(t,e){if(e<0||e>=t.future.length)return t;const{past:i,future:n,present:r}=t;return{past:[...i,r,...n.slice(0,e)],present:n[e],future:n.slice(e+1)}}(t,e-1):e<0?function(t,e){if(e<0||e>=t.past.length)return t;const{past:i,future:n,present:r}=t,s=i.slice(0,e),o=[...i.slice(e+1),r,...n];return{past:s,present:i[e],future:o}}(t,t.past.length+e):t}function sv(t,e){return{...t,past:[...t.past,t.present],present:e,future:[]}}function ov(t){return void 0!==t.present&&void 0!==t.future&&void 0!==t.past&&Array.isArray(t.future)&&Array.isArray(t.past)}function av(t,e){return function(i,n){e(i,n,t)}}const lv="aurelia-store-state";var cv,hv,uv;function dv(t,e,i){const n=gv.container.get(yu).localStorage;if(void 0!==n){const e=void 0!==(null==i?void 0:i.key)?i.key:lv;n.setItem(e,JSON.stringify(t))}}function pv(t,e){const i=gv.container.get(yu).localStorage;if(void 0===i)return t;const n=i.getItem(void 0===e?lv:e);if(null===n||""===n)return t;try{return JSON.parse(n)}catch(t){}return t}function fv(t,e,i){var n;return(null===(n=t.logDefinitions)||void 0===n?void 0:n.hasOwnProperty(e))&&t.logDefinitions[e]&&Object.values(hv).includes(t.logDefinitions[e])?t.logDefinitions[e]:i}!function(t){t.Before="before",t.After="after"}(cv||(cv={})),function(t){t.trace="trace",t.debug="debug",t.info="info",t.warn="warn",t.error="error"}(hv||(hv={})),function(t){t.StartEnd="startEnd",t.All="all"}(uv||(uv={}));const gv={container:null};class vv extends Error{constructor(t){super(`Tried to dispatch an unregistered action ${void 0!==t&&("string"==typeof t?t:t.name)}`)}}class mv extends Error{}class bv extends Error{}class yv extends Error{}let wv=class{constructor(t,e,i,n){var r,s,o,a;this.initialState=t,this.logger=e,this.t=i,this.devToolsAvailable=!1,this.actions=new Map,this.middlewares=new Map,this.dispatchQueue=[],this.options=null!=n?n:{};const l=!0===(null===(s=null===(r=this.options)||void 0===r?void 0:r.history)||void 0===s?void 0:s.undoable);this._state=new nv(t),this.state=this._state.asObservable(),!0!==(null===(a=null===(o=this.options)||void 0===o?void 0:o.devToolsOptions)||void 0===a?void 0:a.disable)&&this.setupDevTools(),l&&this.registerHistoryMethods()}registerMiddleware(t,e,i){this.middlewares.set(t,{placement:e,settings:i})}unregisterMiddleware(t){this.middlewares.has(t)&&this.middlewares.delete(t)}isMiddlewareRegistered(t){return this.middlewares.has(t)}registerAction(t,e){if(0===e.length)throw new bv("The reducer is expected to have one or more parameters, where the first will be the present state");this.actions.set(e,{type:t})}unregisterAction(t){this.actions.has(t)&&this.actions.delete(t)}isActionRegistered(t){return"string"==typeof t?void 0!==Array.from(this.actions).find((e=>e[1].type===t)):this.actions.has(t)}resetToState(t){this._state.next(t)}async dispatch(t,...e){const i=this.lookupAction(t);return i?this.queueDispatch([{reducer:i,params:e}]):Promise.reject(new vv(t))}pipe(t,...e){const i=[],n={dispatch:async()=>this.queueDispatch(i),pipe:(e,...r)=>{const s=this.lookupAction(e);if(!s)throw new vv(t);return i.push({reducer:s,params:r}),n}};return n.pipe(t,...e)}lookupAction(t){if("string"==typeof t){const e=Array.from(this.actions).find((([e,i])=>i.type===t));if(e)return e[0]}else if(this.actions.has(t))return t}async queueDispatch(t){return new Promise(((e,i)=>{this.dispatchQueue.push({actions:t,resolve:e,reject:i}),1===this.dispatchQueue.length&&this.handleQueue()}))}async handleQueue(){if(this.dispatchQueue.length>0){const t=this.dispatchQueue[0];try{await this.internalDispatch(t.actions),t.resolve()}catch(e){t.reject(e)}this.dispatchQueue.shift(),this.handleQueue()}}async internalDispatch(t){var e;const i=t.find((t=>!this.actions.has(t.reducer)));if(i)throw new vv(i.reducer);gv.container.get(yu).performance.mark("dispatch-start");const n=t.map((t=>({type:this.actions.get(t.reducer).type,params:t.params,reducer:t.reducer}))),r={name:n.map((t=>t.type)).join("->"),params:n.reduce(((t,e)=>t.concat(e.params)),[]),pipedActions:n.map((t=>({name:t.type,params:t.params})))};this.options.logDispatchedActions&&this.logger[fv(this.options,"dispatchedActions",hv.info)](`Dispatching: ${r.name}`);const s=await this.executeMiddlewares(this._state.getValue(),cv.Before,r);if(!1===s)return gv.container.get(yu).performance.clearMarks(),void gv.container.get(yu).performance.clearMeasures();let o=s;for(const t of n){if(o=await t.reducer(o,...t.params),!1===o)return gv.container.get(yu).performance.clearMarks(),void gv.container.get(yu).performance.clearMeasures();if(gv.container.get(yu).performance.mark(`dispatch-after-reducer-${t.type}`),!o&&"object"!=typeof o)throw new yv("The reducer has to return a new state")}let a=await this.executeMiddlewares(o,cv.After,r);if(!1===a)return gv.container.get(yu).performance.clearMarks(),void gv.container.get(yu).performance.clearMeasures();if(ov(a)&&(null===(e=this.options.history)||void 0===e?void 0:e.limit)&&(a=function(t,e){return ov(t)&&(t.past.length>e&&(t.past=t.past.slice(t.past.length-e)),t.future.length>e&&(t.future=t.future.slice(0,e))),t}(a,this.options.history.limit)),this._state.next(a),gv.container.get(yu).performance.mark("dispatch-end"),this.options.measurePerformance===uv.StartEnd){gv.container.get(yu).performance.measure("startEndDispatchDuration","dispatch-start","dispatch-end");const t=gv.container.get(yu).performance.getEntriesByName("startEndDispatchDuration");this.logger[fv(this.options,"performanceLog",hv.info)](`Total duration ${t[0].duration} of dispatched action ${r.name}:`,t)}else if(this.options.measurePerformance===uv.All){const t=gv.container.get(yu).performance.getEntriesByType("mark"),e=t[t.length-1].startTime-t[0].startTime;this.logger[fv(this.options,"performanceLog",hv.info)](`Total duration ${e} of dispatched action ${r.name}:`,t)}gv.container.get(yu).performance.clearMarks(),gv.container.get(yu).performance.clearMeasures(),this.updateDevToolsState({type:r.name,params:r.params},a)}executeMiddlewares(t,e,i){return Array.from(this.middlewares).filter((t=>t[1].placement===e)).reduce((async(t,n,r)=>{try{const r=await n[0](await t,this._state.getValue(),n[1].settings,i);return!1!==r&&(r||await t)}catch(e){if(this.options.propagateError)throw e;return await t}finally{gv.container.get(yu).performance.mark(`dispatch-${e}-${n[0].name}`)}}),t)}setupDevTools(){this.t.__REDUX_DEVTOOLS_EXTENSION__&&(this.logger[fv(this.options,"devToolsStatus",hv.debug)]("DevTools are available"),this.devToolsAvailable=!0,this.devTools=this.t.__REDUX_DEVTOOLS_EXTENSION__.connect(this.options.devToolsOptions),this.devTools.init(this.initialState),this.devTools.subscribe((t=>{var e,i;if(this.logger[fv(this.options,"devToolsStatus",hv.debug)](`DevTools sent change ${t.type}`),"ACTION"!==t.type||void 0===t.payload){if("DISPATCH"===t.type&&t.payload)switch(t.payload.type){case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return void this._state.next(JSON.parse(t.state));case"COMMIT":return void this.devTools.init(this._state.getValue());case"RESET":return this.devTools.init(this.initialState),void this.resetToState(this.initialState);case"ROLLBACK":{const e=JSON.parse(t.state);return this.resetToState(e),void this.devTools.init(e)}}}else{const n=Array.from(this.actions).find((function([e]){var i;return e.name===(null===(i=t.payload)||void 0===i?void 0:i.name)})),r=null!==(i=this.lookupAction(null===(e=t.payload)||void 0===e?void 0:e.name))&&void 0!==i?i:null==n?void 0:n[0];if(!r)throw new mv("Tried to remotely dispatch an unregistered action");if(!t.payload.args||t.payload.args.length<1)throw new mv("No action arguments provided");this.dispatch(r,...t.payload.args.slice(1).map((t=>JSON.parse(t)))).catch((()=>{throw new mv("Issue when trying to dispatch an action through devtools")}))}})))}updateDevToolsState(t,e){this.devToolsAvailable&&this.devTools&&this.devTools.send(t,e)}registerHistoryMethods(){this.registerAction("jump",rv)}};wv=function(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}([av(1,pi),av(2,yu)],wv);const xv=t=>t.state;function kv(t){const e={selector:"function"==typeof t?t:xv,...t};function i(t,e){const i=e(t);return i instanceof Xg?i:t.state}function n(){const t="object"==typeof e.selector,i={[e.target||"state"]:e.selector||xv};return Object.entries({...t?e.selector:i}).map((([i,n])=>{var r,s;return{targets:e.target&&t?[e.target,i]:[i],selector:n,changeHandlers:{[null!==(r=e.onChanged)&&void 0!==r?r:""]:1,[`${null!==(s=e.target)&&void 0!==s?s:i}Changed`]:e.target?0:1,propertyChanged:0}}}))}return function(e){const r="object"==typeof t&&t.setup?e.prototype[t.setup]:e.prototype.binding,s="object"==typeof t&&t.teardown?e.prototype[t.teardown]:e.prototype.unbinding;e.prototype["object"==typeof t&&void 0!==t.setup?t.setup:"binding"]=function(){if("object"==typeof t&&"string"==typeof t.onChanged&&!(t.onChanged in this))throw new Error("Provided onChanged handler does not exist on target VM");const e=Oh.getCached(this)?Oh.getCached(this).container.get(wv):gv.container.get(wv);if(this._stateSubscriptions=n().map((t=>i(e,t.selector).subscribe((e=>{const i=t.targets.length-1,n=t.targets.reduce(((t={},e)=>t[e]),this);Object.entries(t.changeHandlers).forEach((([r,s])=>{r in this&&this[r](...[t.targets[i],e,n].slice(s,3))})),t.targets.reduce(((t,n,r)=>(t[n]=r===i?e:t[n]||{},t[n])),this)})))),r)return r.apply(this,arguments)},e.prototype["object"==typeof t&&t.teardown?t.teardown:"unbinding"]=function(){if(this._stateSubscriptions&&Array.isArray(this._stateSubscriptions)&&this._stateSubscriptions.forEach((t=>{t instanceof Fg&&!1===t.closed&&t.unsubscribe()})),s)return s.apply(this,arguments)}}}const Av={withInitialState(t){return Reflect.set(this,"state",t),this},withOptions(t){return Reflect.set(this,"options",t),this},register(t){var e;gv.container=t;const i=Reflect.get(this,"state"),n=Reflect.get(this,"options"),r=t.get(pi),s=t.get(yu);if(!i)throw new Error("initialState must be provided via withInitialState builder method");let o=i;return(null===(e=null==n?void 0:n.history)||void 0===e?void 0:e.undoable)&&!ov(i)&&(o={past:[],present:i,future:[]}),Ge.instance(wv,new wv(o,r,s,n)).register(t),t}};function $v(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}function Sv(t,e){return function(i,n){e(i,n,t)}}function Tv(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}Object.create,Object.create;var Ev=i(3379),Cv=i.n(Ev),Rv=i(7795),Ov=i.n(Rv),Pv=i(569),Mv=i.n(Pv),Lv=i(3565),jv=i.n(Lv),Iv=i(9216),Bv=i.n(Iv),Uv=i(4589),Nv=i.n(Uv),Vv=i(1138),zv={};zv.styleTagTransform=Nv(),zv.setAttributes=jv(),zv.insert=Mv().bind(null,"head"),zv.domAPI=Ov(),zv.insertStyleElement=Bv(),Cv()(Vv.Z,zv),Vv.Z&&Vv.Z.locals&&Vv.Z.locals;var Dv=i(3292),Fv={};Fv.styleTagTransform=Nv(),Fv.setAttributes=jv(),Fv.insert=Mv().bind(null,"head"),Fv.domAPI=Ov(),Fv.insertStyleElement=Bv(),Cv()(Dv.Z,Fv),Dv.Z&&Dv.Z.locals&&Dv.Z.locals;var qv=i(8908),Zv={};Zv.styleTagTransform=Nv(),Zv.setAttributes=jv(),Zv.insert=Mv().bind(null,"head"),Zv.domAPI=Ov(),Zv.insertStyleElement=Bv(),Cv()(qv.Z,Zv),qv.Z&&qv.Z.locals&&qv.Z.locals;const Hv="primary-stat",_v='<div class="container ${active === true ? \'active\' : \'\'} ${readonly ? \'readonly\' : \'\'} ${mode} ${colorMode} ${size}"\r\n     pointerdown.delegate="press()"\r\n     ref="containerElement">\r\n    <span class="content numbers">${getValuePrefix()+value}</div>\r\n</div>\r\n<div class="overlay" if.bind="active"  pointerup.delegate="release()" pointermove.delegate="move($event)"></div>',Wv=_v,Kv=[];let Qv;function Xv(t){Qv||(Qv=Wc.define({name:Hv,template:_v,dependencies:Kv})),t.register(Qv)}class Gv{constructor(){this.colorMode="color"}}$v([Xa,Tv("design:type",String)],Gv.prototype,"colorMode",void 0);let Yv=class extends Gv{constructor(){super(...arguments),this.max=99,this.min=-99,this.mode="primary-angled",this.size="m",this.prefixPlus=!1,this.readonly=!1,this.active=!1,this.delta=0,this.press=()=>{this.readonly||(this.active=!0,this.originalValue=this.value,this.delta=0,window.addEventListener("pointerout",this.checkPointerOutsideWindow))},this.checkPointerOutsideWindow=t=>{(t.clientY<=0||t.clientX<=0||t.clientX>=window.innerWidth||t.clientY>=window.innerHeight)&&(window.removeEventListener("pointerout",this.checkPointerOutsideWindow),this.release())},this.release=()=>{this.readonly||(this.active=!1)},this.move=t=>{if(!this.active||this.readonly)return;this.delta+=t.movementY;let e=Math.round(this.originalValue-this.delta/10);this.value=Math.max(this.min,Math.min(this.max,e))},this.getValuePrefix=()=>this.prefixPlus&&this.value>0?"+":""}};$v([Xa,Tv("design:type",Number)],Yv.prototype,"value",void 0),$v([Xa,Tv("design:type",Number)],Yv.prototype,"max",void 0),$v([Xa,Tv("design:type",Number)],Yv.prototype,"min",void 0),$v([Xa,Tv("design:type",String)],Yv.prototype,"mode",void 0),$v([Xa,Tv("design:type",String)],Yv.prototype,"size",void 0),$v([Xa,Tv("design:type",Boolean)],Yv.prototype,"prefixPlus",void 0),$v([Xa,Tv("design:type",Boolean)],Yv.prototype,"readonly",void 0),Yv=$v([Ic(t)],Yv);var Jv=i(1939),tm={};tm.styleTagTransform=Nv(),tm.setAttributes=jv(),tm.insert=Mv().bind(null,"head"),tm.domAPI=Ov(),tm.insertStyleElement=Bv(),Cv()(Jv.Z,tm),Jv.Z&&Jv.Z.locals&&Jv.Z.locals;const em="title",im='<div class="title grid">\r\n    <div class="line-start"></div>\r\n    <div class="line"></div>\r\n    <div class="line-end"></div>\r\n    <span class="text">${text}</span>\r\n    <div class="line-start"></div>\r\n    <div class="line"></div>\r\n    <div class="line-end"></div>\r\n</div>',nm=im,rm=[];let sm;function om(t){sm||(sm=Wc.define({name:em,template:im,dependencies:rm})),t.register(sm)}let am=class{};$v([Xa,Tv("design:type",String)],am.prototype,"text",void 0),am=$v([Ic(n)],am);var lm=i(6140),cm={};cm.styleTagTransform=Nv(),cm.setAttributes=jv(),cm.insert=Mv().bind(null,"head"),cm.domAPI=Ov(),cm.insertStyleElement=Bv(),Cv()(lm.Z,cm),lm.Z&&lm.Z.locals&&lm.Z.locals;const hm="footer",um='<div class="grid">\r\n    <div class="line-start"></div>\r\n    <div class="line"></div>\r\n    <div class="line-end"></div>\r\n</div>',dm=um,pm=[];let fm;function gm(t){fm||(fm=Wc.define({name:hm,template:um,dependencies:pm})),t.register(fm)}let vm=class{};vm=$v([Ic(s)],vm);const mm="characteristics-block",bm='\r\n\r\n\r\n\r\n<title text="CHARACTERISTICS"></title>\r\n<div class="container">\r\n    <div class="grid">\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.strength.specialisation">\r\n        <span class="text left-col">STR</span>\r\n        <primary-stat size="xs" min="0" value.two-way="model.strength.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.strength.value"></primary-stat>\r\n\r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.dexterity.value"></primary-stat>\r\n        <primary-stat size="xs" min="0" value.two-way="model.dexterity.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <span class="text">DEX</span>\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.dexterity.specialisation">\r\n\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.stamina.specialisation">\r\n        <span class="text left-col">STA</span>\r\n        <primary-stat size="xs" min="0" value.two-way="model.stamina.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.stamina.value"></primary-stat>\r\n        \r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.quickness.value"></primary-stat>\r\n        <primary-stat size="xs" min="0" value.two-way="model.quickness.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <span class="text">QUI</span>\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.quickness.specialisation">\r\n    </div>\r\n    <br/>\r\n    <div class="grid">\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.intelligence.specialisation">\r\n        <span class="text left-col">INT</span>\r\n        <primary-stat size="xs" min="0" value.two-way="model.intelligence.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.intelligence.value"></primary-stat>\r\n        \r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.presence.value"></primary-stat>\r\n        <primary-stat size="xs" min="0" value.two-way="model.presence.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <span class="text">PRE</span>\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.presence.specialisation">\r\n\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.perception.specialisation">\r\n        <span class="text left-col">PER</span>\r\n        <primary-stat size="xs" min="0" value.two-way="model.perception.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.perception.value"></primary-stat>\r\n        \r\n        <primary-stat prefix-plus.bind="true" value.two-way="model.communication.value"></primary-stat>\r\n        <primary-stat size="xs" min="0" value.two-way="model.communication.agingPoints" color-mode="monochrome" mode="secondary" title="Aging points"></primary-stat>\r\n        <span class="text">COM</span>\r\n        <input type="text" class="specialisation" placeholder="Specialisation" value.bind="model.communication.specialisation">\r\n    </div>\r\n</div>\r\n<footer></footer>\r\n',ym=bm,wm=[e,r,o];let xm;function km(t){xm||(xm=Wc.define({name:mm,template:bm,dependencies:wm})),t.register(xm)}function Am(t){if(null===t)return t;if(t instanceof Date)return new Date(t.getTime());if("object"==typeof t){if("function"==typeof t[Symbol.iterator]){const e=[];if(t.length>0)for(const i of t)e.push(Am(i));return e}{const e=Object.keys(t),i={};if(e.length>0)for(const n of e)i[n]=Am(t[n]);return i}}return t}function $m(t){const e=Am(t.present);return e.character={physicalStatus:{fatigue:0,lightWounds:0,mediumWounds:0,heavyWounds:0},description:{name:"",description:""},abilities:[],personalityTraits:[],characteristics:{communication:{value:0,specialisation:"",agingPoints:0},dexterity:{value:0,specialisation:"",agingPoints:0},intelligence:{value:0,specialisation:"",agingPoints:0},perception:{value:0,specialisation:"",agingPoints:0},presence:{value:0,specialisation:"",agingPoints:0},quickness:{value:0,specialisation:"",agingPoints:0},stamina:{value:0,specialisation:"",agingPoints:0},strength:{value:0,specialisation:"",agingPoints:0}},flaws:[],virtues:[],arts:{creo:{level:0,xp:0,puissant:!1},muto:{level:0,xp:0,puissant:!1},rego:{level:0,xp:0,puissant:!1},intellego:{level:0,xp:0,puissant:!1},perdo:{level:0,xp:0,puissant:!1},animal:{level:0,xp:0,puissant:!1},auram:{level:0,xp:0,puissant:!1},aquam:{level:0,xp:0,puissant:!1},ignem:{level:0,xp:0,puissant:!1},terram:{level:0,xp:0,puissant:!1},herbam:{level:0,xp:0,puissant:!1},mentem:{level:0,xp:0,puissant:!1},corpus:{level:0,xp:0,puissant:!1},imaginem:{level:0,xp:0,puissant:!1},vim:{level:0,xp:0,puissant:!1}},spells:[],ageing:{age:25,apparentAge:25,birthYear:1195,currentYear:1220,decrepitudeLevel:0,decrepitudePoints:0,longevityModifier:0,ageingRollModifier:0,livingConditionModifier:0},confidence:{score:3},warping:{warpingPoints:0,warpingLevel:0,ongoingEffects:[]},activeMagic:[],xpEntries:[],notes:"",lab:{art1:{name:"",rating:0},art2:{name:"",rating:0},art3:{name:"",rating:0},art4:{name:"",rating:0},specialisation1:{name:"",rating:0},specialisation2:{name:"",rating:0},auraBonus:0,description:"",effectiveSafety:0,flaws:[],virtues:[],intelligenceBonus:0,labBaseQuality:0,livingConditionsModifier:0,magicTheory:0,occupiedSize:0,refinement:0,size:0,availableModifiers:[{name:"GQ"},{name:"Safety"},{name:"Health"},{name:"Aesthetics"},{name:"Upkeep"},{name:"Warping"}],researchProjects:[]},spellcastingStats:{arts:"",aura:0,ceremonial:!1,cyclicMagicVirtue:!1,focus:!1,largeGestures:!1,loudVoice:!1,similarFomulaicSpellBonus:0,spontaneousCastingTotal:0,staminaSpecialisation:!1,talismanBonus:0}},sv(t,e)}function Sm(t,e){const i=Am(t.present);return i.character=e,sv(t,i)}function Tm(t,e){console.log("Saving characteristics",e);const i=Am(t.present);return i.character.characteristics=e,Qm(i),sb(i),sv(t,i)}function Em(t,e){console.log("Saving name",e);const i=Am(t.present);return i.character.description.name=e,sv(t,i)}function Cm(t,e){console.log("Saving abilities",e);const i=Am(t.present);return i.character.abilities=Hm(e),sb(i),Qm(i),sv(t,i)}function Rm(t,e){console.log("Saving personality traits",e);const i=Am(t.present);return i.character.personalityTraits=Hm(e),sv(t,i)}function Om(t,e){console.log("Saving virtues",e);const i=Am(t.present);return i.character.virtues=Hm(e),_m(i),sv(t,i)}function Pm(t,e){console.log("Saving flaws",e);const i=Am(t.present);return i.character.flaws=Hm(e),sv(t,i)}function Mm(t,e){console.log("Saving description",e);const i=Am(t.present);return i.character.description=e,sv(t,i)}function Lm(t,e){console.log("Saving physical status",e);const i=Am(t.present);return i.character.physicalStatus=e,Qm(i),sv(t,i)}function jm(t,e){console.log("Saving arts",e);const i=Am(t.present);return i.character.arts=e,Qm(i),sb(i),sv(t,i)}function Im(t,e){console.log("Saving spells",e);const i=Am(t.present);return i.character.spells=Hm(e).sort(((t,e)=>t.arts.slice(2).localeCompare(e.arts.slice(2)))),Qm(i),sv(t,i)}function Bm(t,e){console.log("Saving ageing",e);const i=Am(t.present);return i.character.ageing=e,_m(i),function(t){for(t.character.xpEntries||(t.character.xpEntries=[ib(t.character.ageing.currentYear,"Spring"),ib(t.character.ageing.currentYear,"Summer"),ib(t.character.ageing.currentYear,"Fall"),ib(t.character.ageing.currentYear,"Winter")]),t.character.xpEntries=t.character.xpEntries.filter((e=>e.year<t.character.ageing.currentYear+3));t.character.xpEntries[t.character.xpEntries.length-1].year<t.character.ageing.currentYear+3;){let e=t.character.xpEntries[t.character.xpEntries.length-1].year+1;t.character.xpEntries.push(ib(e,"Spring")),t.character.xpEntries.push(ib(e,"Summer")),t.character.xpEntries.push(ib(e,"Fall")),t.character.xpEntries.push(ib(e,"Winter"))}t.character.xpEntries.forEach((e=>e.planningMode=e.year>=t.character.ageing.currentYear))}(i),sv(t,i)}function Um(t,e){console.log("Saving confidence",e);const i=Am(t.present);return i.character.confidence=e,sv(t,i)}function Nm(t,e){console.log("Saving warping",e);const i=Am(t.present);return i.character.warping=e,i.character.warping.ongoingEffects=Hm(e.ongoingEffects),function(t){t.character.warping.warpingLevel=Km(t.character.warping.warpingPoints,0)}(i),sv(t,i)}function Vm(t,e){console.log("Saving active magic",e);const i=Am(t.present);return i.character.activeMagic=Hm(e),function(t){t.character.activeMagic.forEach((t=>t.penetration=t.active?t.penetration:0))}(i),sv(t,i)}function zm(t,e){console.log("Saving xp entries",e);const i=Am(t.present);return i.character.xpEntries=e,sv(t,i)}function Dm(t,e){console.log("Saving notes",e);const i=Am(t.present);return i.character.notes=e,sv(t,i)}function Fm(t,e){console.log("Saving lab",e);const i=Am(t.present);return i.character.lab=e,i.character.lab.virtues=Hm(i.character.lab.virtues),i.character.lab.flaws=Hm(i.character.lab.flaws),i.character.lab.availableModifiers=i.character.lab.availableModifiers.filter((t=>""!=t.name)),i.character.lab.researchProjects=Hm(i.character.lab.researchProjects),function(t){nb(t.character.lab.virtues,t.character.lab.availableModifiers),nb(t.character.lab.flaws,t.character.lab.availableModifiers),sb(t),function(t){var e,i,n,r,s,o,a,l,c,h,u,d,p,f,g,v;let m=t.character.lab,b=rb(m),y=m.virtues.concat(m.flaws).reduce(((t,e)=>t+e.cost),0);m.occupiedSize=m.size+y-m.refinement;let w=null!==(i=null===(e=b.find((t=>"Safety"==t.name)))||void 0===e?void 0:e.rating)&&void 0!==i?i:0,x=null!==(r=null===(n=b.find((t=>"Health"==t.name)))||void 0===n?void 0:n.rating)&&void 0!==r?r:0;m.livingConditionsModifier=x>=0?Math.floor(x/2):Math.ceil(x/2),m.effectiveSafety=w-Math.max(0,m.occupiedSize)+m.refinement,m.specialisation1.rating=null!==(o=null===(s=b.find((t=>t.name==m.specialisation1.name)))||void 0===s?void 0:s.rating)&&void 0!==o?o:0,m.specialisation2.rating=null!==(l=null===(a=b.find((t=>t.name==m.specialisation2.name)))||void 0===a?void 0:a.rating)&&void 0!==l?l:0,m.art1.rating=null!==(h=null===(c=b.find((t=>t.name==m.art1.name)))||void 0===c?void 0:c.rating)&&void 0!==h?h:0,m.art2.rating=null!==(d=null===(u=b.find((t=>t.name==m.art2.name)))||void 0===u?void 0:u.rating)&&void 0!==d?d:0,m.art3.rating=null!==(f=null===(p=b.find((t=>t.name==m.art3.name)))||void 0===p?void 0:p.rating)&&void 0!==f?f:0,m.art4.rating=null!==(v=null===(g=b.find((t=>t.name==m.art4.name)))||void 0===g?void 0:g.rating)&&void 0!==v?v:0}(t),Wm(t)}(i),sv(t,i)}function qm(t,e){console.log("Importing character");const i=Am(t.present);return i.character=JSON.parse(e),sv(t,i)}function Zm(t,e){console.log("Saving spellcasting stats");const i=Am(t.present);return i.character.spellcastingStats=e,Qm(i),sv(t,i)}function Hm(t){return t.filter((t=>""!=t.name)).sort(((t,e)=>t.name.localeCompare(e.name)))}function _m(t){Wm(t),function(t){t.character.ageing.decrepitudeLevel=Km(t.character.ageing.decrepitudePoints,0)}(t),function(t){t.character.ageing.age=t.character.ageing.currentYear-t.character.ageing.birthYear}(t)}function Wm(t){let e=t.character.virtues.findIndex((t=>t.name.indexOf("Strong Faerie Blood")>=0))>=0?3:t.character.virtues.findIndex((t=>t.name.indexOf("Faerie Blood")>=0))>=0?1:0;t.character.ageing.ageingRollModifier=t.character.ageing.livingConditionModifier+t.character.ageing.longevityModifier+t.character.lab.livingConditionsModifier+e-Math.ceil(t.character.ageing.age/10)}function Km(t,e){let i=5*(e+1);return i>t?e:Km(t-i,e+1)}function Qm(t){var e;(null===(e=null==t?void 0:t.character)||void 0===e?void 0:e.arts)&&(t.character.spellcastingStats.spontaneousCastingTotal=function(t){let e=t.character.spellcastingStats;return Xm(t)+Ym(t,e.arts,"",e.focus)+e.talismanBonus+e.similarFomulaicSpellBonus+(e.ceremonial?Gm(t,"Ceremonial"):0)}(t),t.character.spells.forEach((e=>e.castingTotal=function(t,e){return Xm(t)+Ym(t,e.arts,e.prerequisites,e.focus)+e.attunementBonus+e.masteryLevel+(e.ritual?Gm(t,"Ritual"):0)}(t,e))))}function Xm(t){let e=t.character.spellcastingStats;return t.character.characteristics.stamina.value+function(t){let e=t.character.physicalStatus;return-e.lightWounds+-3*e.mediumWounds+-5*e.heavyWounds}(t)+function(t){let e=t.character.physicalStatus.fatigue;return e<=1?0:2===e?-1:3===e?-3:4===e?-5:0}(t)+e.aura+(e.cyclicMagicVirtue?3:0)+(e.staminaSpecialisation?1:0)+(e.largeGestures?1:0)+(e.loudVoice?1:0)}function Gm(t,e){var i,n;let r=t.character.abilities.find((t=>"Artes Liberales"==t.name)),s=t.character.abilities.find((t=>"Philosophiae"==t.name)),o=(null==r?void 0:r.specialisation)==e?1:0,a=(null==s?void 0:s.specialisation)==e?1:0,l=(null==r?void 0:r.puissant)?3:0,c=(null==s?void 0:s.puissant)?3:0;return(null!==(i=null==r?void 0:r.level)&&void 0!==i?i:0)+o+l+(null!==(n=null==s?void 0:s.level)&&void 0!==n?n:0)+a+c}function Ym(t,e,i,n){let r=Jm(t,e),s=tb(t,e);if(null===r||null==s)return 0;let o=Jm(t,i),a=tb(t,i),l=Math.min(r,null!=o?o:1e3),c=Math.min(s,null!=a?a:1e3);return l+c+(n?Math.min(l,c):0)}function Jm(t,e){let i=t.character.arts;return e.indexOf("Cr")>=0?eb(i.creo):e.indexOf("In")>=0?eb(i.intellego):e.indexOf("Mu")>=0?eb(i.muto):e.indexOf("Pe")>=0?eb(i.perdo):e.indexOf("Re")>=0?eb(i.rego):null}function tb(t,e){let i=t.character.arts;return e.indexOf("An")>=0?eb(i.animal):e.indexOf("Aq")>=0?eb(i.aquam):e.indexOf("Au")>=0?eb(i.auram):e.indexOf("Co")>=0?eb(i.corpus):e.indexOf("He")>=0?eb(i.herbam):e.indexOf("Ig")>=0?eb(i.ignem):e.indexOf("Im")>=0?eb(i.imaginem):e.indexOf("Me")>=0?eb(i.mentem):e.indexOf("Te")>=0?eb(i.terram):e.indexOf("Vi")>=0?eb(i.vim):null}function eb(t){return t.level+(t.puissant?3:0)}function ib(t,e){return{year:t,xp:"",correspondence:"",description:"",plans:"",areaLore:"",season:e,planningMode:!0}}function nb(t,e){t.forEach((t=>{let i=t.modifiers.filter((t=>0!=t.rating));t.modifiers=e.map((t=>({name:t.name,rating:0}))),i.forEach((e=>{let i=t.modifiers.findIndex((t=>t.name==e.name));i>=0&&(t.modifiers[i].rating=e.rating)})),t.category.length>1&&("outfitting".startsWith(t.category.toLocaleLowerCase())&&(t.category="Outfitting"),"stucture".startsWith(t.category.toLocaleLowerCase())&&(t.category="Structure"),"supernatural".startsWith(t.category.toLocaleLowerCase())&&(t.category="Supernatural"))}))}function rb(t){return t.availableModifiers.map((e=>({name:e.name,rating:t.virtues.concat(t.flaws).reduce(((t,i)=>t.concat(i.modifiers.filter((t=>t.name==e.name)))),[]).reduce(((t,e)=>t+e.rating),0)})))}function sb(t){let e=t.character.lab;e.researchProjects.forEach((i=>{var n,r,s,o;let a=null!==(r=null===(n=t.character.abilities.find((t=>"Magic Theory"==t.name)))||void 0===n?void 0:n.level)&&void 0!==r?r:0,l=null!==(o=null===(s=rb(e).find((t=>"GQ"==t.name)))||void 0===s?void 0:s.rating)&&void 0!==o?o:0;i.artModifier=Ym(t,i.arts,i.prerequisites,i.focus),i.labTotal=e.auraBonus+e.labBaseQuality+l+i.artModifier+i.labAssistantBonus+a+(i.magicTheorySpecialisation?1:0)+t.character.characteristics.intelligence.value+(i.intelligenceSpecialisation?1:0)+i.materialBonus+i.shapeBonus+i.similarResearchBonus+(i.talisman?5:0),i.surplusLabTotal=i.labTotal-i.level}))}let ob=class{constructor(t,e,i){this.store=t,this.pluckModel=e,this.saveAction=i,this.model=void 0,this.modelState=void 0,this.active=!1}stateChanged(t,e){t.present&&(this.modelState=this.pluckModel(t.present),this.hasChanges()&&(this.model=Am(this.modelState)))}bound(){this.active=!0,this.checkForChanges()}unbound(){this.active=!1}checkForChanges(){this.active&&(this.hasChanges()&&this.saveChanges(),setTimeout((()=>{this.checkForChanges()}),2e3))}saveChanges(){this.store.dispatch(this.saveAction,Am(this.model))}hasChanges(){return JSON.stringify(this.modelState)!==JSON.stringify(this.model)}};ob=$v([kv(),Tv("design:paramtypes",[wv,Function,Function])],ob);let ab=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.characteristics}),Tm)}};ab=$v([Ic(a),Tv("design:paramtypes",[wv])],ab);var lb=i(1459),cb={};cb.styleTagTransform=Nv(),cb.setAttributes=jv(),cb.insert=Mv().bind(null,"head"),cb.domAPI=Ov(),cb.insertStyleElement=Bv(),Cv()(lb.Z,cb),lb.Z&&lb.Z.locals&&lb.Z.locals;var hb=i(9909),ub={};ub.styleTagTransform=Nv(),ub.setAttributes=jv(),ub.insert=Mv().bind(null,"head"),ub.domAPI=Ov(),ub.insertStyleElement=Bv(),Cv()(hb.Z,ub),hb.Z&&hb.Z.locals&&hb.Z.locals;const db="radio-button",pb='<div class="container ${state} ${colorMode}"\r\n     pointerup.delegate="select()"\r\n     ref="element">\r\n</div>',fb=pb,gb=[];let vb;function mb(t){vb||(vb=Wc.define({name:db,template:pb,dependencies:gb})),t.register(vb)}let bb=class extends Gv{constructor(t){super(),this.ea=t,this.state="unselected",this.select=()=>{this.group?this.ea.publish("radio-button-selected",{group:this.group,source:this.element,value:this.value}):this.state="selected"}}bound(){this.ea.subscribe("radio-button-selected",(t=>{this.group==t.group&&(this.state=t.source===this.element?"selected":"unselected")}))}};$v([Xa,Tv("design:type",String)],bb.prototype,"state",void 0),$v([Xa,Tv("design:type",String)],bb.prototype,"group",void 0),$v([Xa,Tv("design:type",String)],bb.prototype,"value",void 0),bb=$v([Ic(c),Sv(0,Oi),Tv("design:paramtypes",[Object])],bb);const yb="fatigue-block",wb='\r\n\r\n\r\n\r\n<title text="FATIGUE"></title>\r\n<div class="container grid text">\r\n    <span>Fresh (-0)</span><span class="right"></span><radio-button group="fatigue" state="${model.fatigue == 0 ? \'selected\' : \'unselected\'}" value="0"></radio-button>\r\n    <span>Winded (-0)</span><span class="right">2m</span><radio-button group="fatigue" state="${model.fatigue == 1 ? \'selected\' : \'unselected\'}" value="1"></radio-button>\r\n    <span>Weary (-1)</span><span class="right">10m</span><radio-button group="fatigue" state="${model.fatigue == 2 ? \'selected\' : \'unselected\'}" value="2"></radio-button>\r\n    <span>Tired (-3)</span><span class="right">30m</span><radio-button group="fatigue" state="${model.fatigue == 3 ? \'selected\' : \'unselected\'}" value="3"></radio-button>\r\n    <span>Dazed (-5)</span><span class="right">1h</span><radio-button group="fatigue" state="${model.fatigue == 4 ? \'selected\' : \'unselected\'}" value="4"></radio-button>\r\n    <span>Unconscious</span><span class="right">2h</span><radio-button group="fatigue" state="${model.fatigue == 5 ? \'selected\' : \'unselected\'}" value="5"></radio-button>\r\n</div>\r\n<footer></footer>',xb=wb,kb=[h,r,o];let Ab;function $b(t){Ab||(Ab=Wc.define({name:yb,template:wb,dependencies:kb})),t.register(Ab)}let Sb=class extends ob{constructor(t,e){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.physicalStatus}),Lm),this.ea=e}bound(){super.bound(),this.ea.subscribe("radio-button-selected",(t=>{"fatigue"==t.group&&(this.model.fatigue=Number.parseInt(t.value))}))}};Sb=$v([Ic(u),Sv(1,Oi),Tv("design:paramtypes",[wv,Object])],Sb);var Tb=i(927),Eb={};Eb.styleTagTransform=Nv(),Eb.setAttributes=jv(),Eb.insert=Mv().bind(null,"head"),Eb.domAPI=Ov(),Eb.insertStyleElement=Bv(),Cv()(Tb.Z,Eb),Tb.Z&&Tb.Z.locals&&Tb.Z.locals;var Cb=i(288),Rb={};Rb.styleTagTransform=Nv(),Rb.setAttributes=jv(),Rb.insert=Mv().bind(null,"head"),Rb.domAPI=Ov(),Rb.insertStyleElement=Bv(),Cv()(Cb.Z,Rb),Cb.Z&&Cb.Z.locals&&Cb.Z.locals;const Ob="checkbox",Pb="<div class=\"container ${value ? 'checked' : 'unchecked'} ${readonly ? 'readonly' : ''} ${colorMode} ${size} ${mode}\" pointerup.delegate=\"toggle()\">\r\n</div>",Mb=Pb,Lb=[];let jb;function Ib(t){jb||(jb=Wc.define({name:Ob,template:Pb,dependencies:Lb})),t.register(jb)}let Bb=class extends Gv{constructor(){super(...arguments),this.value=!1,this.size="m",this.mode="regular",this.readonly=!1,this.toggle=()=>{this.readonly||(this.value=!this.value)}}};$v([Xa,Tv("design:type",Boolean)],Bb.prototype,"value",void 0),$v([Xa,Tv("design:type",String)],Bb.prototype,"size",void 0),$v([Xa,Tv("design:type",String)],Bb.prototype,"mode",void 0),$v([Xa,Tv("design:type",Boolean)],Bb.prototype,"readonly",void 0),Bb=$v([Ic(p)],Bb);const Ub="abilities-block",Nb='\r\n\r\n\r\n\r\n\r\n<title text="ABILITIES"></title>\r\n<div class="container">\r\n    <div class="ability ${item.level === 0 ? \'untrained\' : \'\'}" repeat.for="item of model">\r\n        <checkbox size="xs" mode="angled" value.two-way="item.puissant" title="Puissant ability"></checkbox>\r\n        <input class="name" type="text" value.bind="item.name">\r\n        <input class="specialisation" type="text" value.bind="item.specialisation" placeholder="Specialisation">\r\n        <primary-stat class="level" mode="secondary" value.two-way="item.level" min="0" size="s" title="Ability level"></primary-stat>\r\n        <primary-stat class="xp" mode="secondary" value.two-way="item.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n        <span class="puissant-label"><span class="numbers text" if.bind="item.puissant">+2</span></span>\r\n    </div>\r\n    <input class="add-item-input" type="text" placeholder="Add item" keyup.delegate="keyPressed($event)" value.two-way="newItemText">\r\n</div>\r\n<footer></footer>',Vb=Nb,zb=[r,o,e,f];let Db;function Fb(t){Db||(Db=Wc.define({name:Ub,template:Nb,dependencies:zb})),t.register(Db)}let qb=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.abilities}),Cm),this.newItemText="",this.keyPressed=t=>{"Enter"==t.key&&this.newItemText&&(this.model.push({name:this.newItemText,specialisation:"",level:0,xp:0,puissant:!1}),this.model.sort(((t,e)=>t.name.localeCompare(e.name))),this.newItemText="")}}};qb=$v([Ic(g),Tv("design:paramtypes",[wv])],qb);var Zb=i(2001),Hb={};Hb.styleTagTransform=Nv(),Hb.setAttributes=jv(),Hb.insert=Mv().bind(null,"head"),Hb.domAPI=Ov(),Hb.insertStyleElement=Bv(),Cv()(Zb.Z,Hb),Zb.Z&&Zb.Z.locals&&Zb.Z.locals;const _b="list",Wb='\r\n\r\n\r\n<title text.bind="title"></title>\r\n<div class="container">\r\n    <div repeat.for="item of items">\r\n        <input type="text" value.two-way="item.name">\r\n    </div>\r\n    <input type="text" class="add-item-input" placeholder="Add item" keyup.delegate="keyPressed($event)" value.two-way="newItemText">\r\n</div>\r\n<footer></footer>',Kb=Wb,Qb=[r,o];let Xb;function Gb(t){Xb||(Xb=Wc.define({name:_b,template:Wb,dependencies:Qb})),t.register(Xb)}let Yb=class{constructor(){this.items=[],this.newItemText="",this.keyPressed=t=>{"Enter"==t.key&&this.newItemText&&(this.items.push({name:this.newItemText}),this.items.sort(((t,e)=>t.name.localeCompare(e.name))),this.newItemText="")}}};$v([Xa,Tv("design:type",String)],Yb.prototype,"title",void 0),$v([Xa,Tv("design:type",Array)],Yb.prototype,"items",void 0),Yb=$v([Ic(m)],Yb);const Jb="virtues-list",ty='\r\n\r\n<list title="VIRTUES" items.two-way="model"></list>',ey=ty,iy=[b];let ny;function ry(t){ny||(ny=Wc.define({name:Jb,template:ty,dependencies:iy})),t.register(ny)}let sy=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.virtues}),Om)}};sy=$v([Ic(y),Tv("design:paramtypes",[wv])],sy);const oy="flaws-list",ay='\r\n\r\n<list title="FLAWS" items.two-way="model"></list>',ly=ay,cy=[b];let hy;function uy(t){hy||(hy=Wc.define({name:oy,template:ay,dependencies:cy})),t.register(hy)}let dy=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.flaws}),Pm)}};dy=$v([Ic(x),Tv("design:paramtypes",[wv])],dy);var py=i(835),fy={};fy.styleTagTransform=Nv(),fy.setAttributes=jv(),fy.insert=Mv().bind(null,"head"),fy.domAPI=Ov(),fy.insertStyleElement=Bv(),Cv()(py.Z,fy),py.Z&&py.Z.locals&&py.Z.locals;const gy="text-box",vy='\r\n\r\n\r\n<title text.bind="title"></title>\r\n<div class="container">\r\n    <textarea value.bind="text" cols="32" rows="8"></textarea>\r\n</div>\r\n<footer></footer>',my=vy,by=[r,o];let yy;function wy(t){yy||(yy=Wc.define({name:gy,template:vy,dependencies:by})),t.register(yy)}let xy=class{};$v([Xa,Tv("design:type",String)],xy.prototype,"title",void 0),$v([Xa,Tv("design:type",String)],xy.prototype,"text",void 0),xy=$v([Ic(A)],xy);const ky="description-block",Ay='\r\n\r\n<text-box title="DESCRIPTION" text.two-way="model.description"></text-box>',$y=Ay,Sy=[$];let Ty;function Ey(t){Ty||(Ty=Wc.define({name:ky,template:Ay,dependencies:Sy})),t.register(Ty)}let Cy=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.description}),Mm)}};Cy=$v([Ic(S),Tv("design:paramtypes",[wv])],Cy);var Ry=i(5185),Oy={};Oy.styleTagTransform=Nv(),Oy.setAttributes=jv(),Oy.insert=Mv().bind(null,"head"),Oy.domAPI=Ov(),Oy.insertStyleElement=Bv(),Cv()(Ry.Z,Oy),Ry.Z&&Ry.Z.locals&&Ry.Z.locals;const Py="arts-block",My='\r\n\r\n\r\n\r\n\r\n<title text="ARTS"></title>\r\n<div class="container grid">\r\n    <checkbox size="xs" mode="angled" value.two-way="model.creo.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="primary-angled" value.two-way="model.creo.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.creo.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.creo.level === 0 ? \'untrained\' : \'\'}">Creo</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.animal.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.animal.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.animal.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span  class="name text ${model.animal.level === 0 ? \'untrained\' : \'\'}">Animal</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.ignem.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.ignem.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.ignem.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.ignem.level === 0 ? \'untrained\' : \'\'}">Ignem</span>\r\n\r\n   \r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.intellego.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="primary-angled" value.two-way="model.intellego.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.intellego.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.intellego.level === 0 ? \'untrained\' : \'\'}">Intellego</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.aquam.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.aquam.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.aquam.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.aquam.level === 0 ? \'untrained\' : \'\'}">Aquam</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.imaginem.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.imaginem.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.imaginem.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.imaginem.level === 0 ? \'untrained\' : \'\'}">Imaginem</span>\r\n\r\n\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.muto.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="primary-angled" value.two-way="model.muto.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.muto.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.muto.level === 0 ? \'untrained\' : \'\'}">Muto</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.auram.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.auram.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.auram.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.auram.level === 0 ? \'untrained\' : \'\'}">Auram</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.mentem.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.mentem.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.mentem.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.mentem.level === 0 ? \'untrained\' : \'\'}">Mentem</span>\r\n\r\n\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.perdo.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="primary-angled" value.two-way="model.perdo.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.perdo.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.perdo.level === 0 ? \'untrained\' : \'\'}">Perdo</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.corpus.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.corpus.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.corpus.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.corpus.level === 0 ? \'untrained\' : \'\'}">Corpus</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.terram.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.terram.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.terram.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.terram.level === 0 ? \'untrained\' : \'\'}">Terram</span>\r\n\r\n\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.rego.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="primary-angled" value.two-way="model.rego.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.rego.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.rego.level === 0 ? \'untrained\' : \'\'}">Rego</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.herbam.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.herbam.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.herbam.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.herbam.level === 0 ? \'untrained\' : \'\'}">Herbam</span>\r\n\r\n    <span></span>\r\n\r\n    <checkbox size="xs" mode="angled" value.two-way="model.vim.puissant" title="Puissant Art"></checkbox>\r\n    <primary-stat class="level" mode="secondary-angled" value.two-way="model.vim.level" min="0" size="s" title="Level"></primary-stat>\r\n    <primary-stat class="xp" mode="secondary" value.two-way="model.vim.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n    <span class="name text ${model.vim.level === 0 ? \'untrained\' : \'\'}">Vim</span>\r\n</div>\r\n<footer></footer>',Ly=My,jy=[r,o,e,f];let Iy;function By(t){Iy||(Iy=Wc.define({name:Py,template:My,dependencies:jy})),t.register(Iy)}let Uy=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.arts}),jm)}};Uy=$v([Ic(E),Tv("design:paramtypes",[wv])],Uy);var Ny=i(7624),Vy={};Vy.styleTagTransform=Nv(),Vy.setAttributes=jv(),Vy.insert=Mv().bind(null,"head"),Vy.domAPI=Ov(),Vy.insertStyleElement=Bv(),Cv()(Ny.Z,Vy),Ny.Z&&Ny.Z.locals&&Ny.Z.locals;const zy="spell-list",Dy='\r\n\r\n\r\n\r\n\r\n<title text="SPELLS"></title>\r\n<div class="container">\r\n    <div class="spell grid ${spell.arts.slice(2).toLowerCase()}-form" repeat.for="spell of model">\r\n        <span class="form-header"></span>\r\n        <input class="name" type="text" value.bind="spell.name" placeholder="Name">\r\n        <checkbox size="xs" value.two-way="spell.focus" title="Focus"></checkbox>\r\n        <checkbox size="xs" value.two-way="spell.ritual" title="Ritual"></checkbox>\r\n        <input class="arts" type="text" value.bind="spell.arts" placeholder="Arts">\r\n        <input class="prerequisites" type="text" value.bind="spell.prerequisites"  placeholder="Prereq" title="Prerequisites">\r\n        <span class="casting-total-label numbers text">+${spell.castingTotal}</span>\r\n        <primary-stat class="level" mode="secondary" value.two-way="spell.level" min="0" size="s" title="Spell level"></primary-stat>\r\n        <primary-stat class="attunement-bonus" mode="secondary" value.two-way="spell.attunementBonus" min="0" size="xs" color-mode="monochrome" title="Attunement bonus"></primary-stat>\r\n        <input class="attunement" type="text" value.bind="spell.attunement" placeholder="Attunement">\r\n        <input class="masteries" type="text" value.bind="spell.masteries" placeholder="Masteries">\r\n        <primary-stat class="mastery-level" mode="secondary" value.two-way="spell.masteryLevel" min="0" size="s" color-mode="monochrome" title="Mastery level"></primary-stat>\r\n        <primary-stat class="xp" mode="secondary" value.two-way="spell.xp" min="0" size="xs" color-mode="monochrome" title="Excess XP"></primary-stat>\r\n        <input class="range" type="text" value.bind="spell.range" placeholder="Range">\r\n        <input class="duration" type="text" value.bind="spell.duration" placeholder="Duration">\r\n        <input class="target" type="text" value.bind="spell.target" placeholder="Target">\r\n        <input class="notes" type="text" value.bind="spell.notes" placeholder="Notes" title="${spell.notes}">\r\n        <input class="sigil" type="text" value.bind="spell.sigil" placeholder="Sigil" title="${spell.sigil}">\r\n        <input class="page" type="text" value.bind="spell.pageNumber" placeholder="Page">\r\n        <input class="book" type="text" value.bind="spell.sourceBook" placeholder="Book">\r\n    </div>\r\n    <input class="add-item-input" type="text" placeholder="Add spell" keyup.delegate="keyPressed($event)" value.two-way="newSpellText">\r\n</div>\r\n<footer></footer>',Fy=Dy,qy=[r,o,f,e];let Zy;function Hy(t){Zy||(Zy=Wc.define({name:zy,template:Dy,dependencies:qy})),t.register(Zy)}let _y=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.spells}),Im),this.newSpellText="",this.keyPressed=t=>{"Enter"==t.key&&this.newSpellText&&(this.model.push({name:this.newSpellText,level:0,xp:0,arts:"",attunement:"",attunementBonus:0,duration:"",focus:!1,ritual:!1,masteries:"",masteryLevel:0,notes:"",pageNumber:"",prerequisites:"",range:"",sigil:"",sourceBook:"Core",target:"",castingTotal:0}),this.model.sort(((t,e)=>t.name.localeCompare(e.name))),this.newSpellText="")}}};_y=$v([Ic(R),Tv("design:paramtypes",[wv])],_y);var Wy=i(6903),Ky={};Ky.styleTagTransform=Nv(),Ky.setAttributes=jv(),Ky.insert=Mv().bind(null,"head"),Ky.domAPI=Ov(),Ky.insertStyleElement=Bv(),Cv()(Wy.Z,Ky),Wy.Z&&Wy.Z.locals&&Wy.Z.locals;const Qy="damage-block",Xy='\r\n\r\n\r\n\r\n<title text="WOUNDS"></title>\r\n<div class="container text">\r\n    <span class="wound-type">Light</span><primary-stat value.two-way="model.lightWounds" min="0" size="s"></primary-stat>\r\n    <span class="wound-type">Medium</span><primary-stat value.two-way="model.mediumWounds" min="0" size="s"></primary-stat>\r\n    <span class="wound-type">Heavy</span><primary-stat value.two-way="model.heavyWounds" min="0" size="s"></primary-stat>\r\n</div>\r\n<footer></footer>',Gy=Xy,Yy=[e,r,o];let Jy;function tw(t){Jy||(Jy=Wc.define({name:Qy,template:Xy,dependencies:Yy})),t.register(Jy)}let ew=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.physicalStatus}),Lm)}};ew=$v([Ic(P),Tv("design:paramtypes",[wv])],ew);var iw=i(5555),nw={};nw.styleTagTransform=Nv(),nw.setAttributes=jv(),nw.insert=Mv().bind(null,"head"),nw.domAPI=Ov(),nw.insertStyleElement=Bv(),Cv()(iw.Z,nw),iw.Z&&iw.Z.locals&&iw.Z.locals;const rw="personality-traits-list",sw='\r\n\r\n\r\n\r\n<title text="PERSONALITY"></title>\r\n<div class="container">\r\n    <div repeat.for="trait of model">\r\n        <input type="text" value.two-way="trait.name">\r\n        <primary-stat mode="secondary" size="s" value.two-way="trait.rating" prefix-plus.bind="true"></primary-stat>\r\n    </div>\r\n    <input type="text" class="add-item-input" placeholder="Add trait" keyup.delegate="keyPressed($event)" value.two-way="newTraitText">\r\n</div>\r\n<footer></footer>',ow=sw,aw=[r,o,e];let lw;function cw(t){lw||(lw=Wc.define({name:rw,template:sw,dependencies:aw})),t.register(lw)}let hw=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.personalityTraits}),Rm),this.newTraitText="",this.keyPressed=t=>{"Enter"==t.key&&this.newTraitText&&(this.model.push({name:this.newTraitText,rating:0}),this.model.sort(((t,e)=>t.name.localeCompare(e.name))),this.newTraitText="")}}};hw=$v([Ic(L),Tv("design:paramtypes",[wv])],hw);var uw=i(2012),dw={};dw.styleTagTransform=Nv(),dw.setAttributes=jv(),dw.insert=Mv().bind(null,"head"),dw.domAPI=Ov(),dw.insertStyleElement=Bv(),Cv()(uw.Z,dw),uw.Z&&uw.Z.locals&&uw.Z.locals;const pw="age-block",fw='\r\n\r\n\r\n<div class="container grid">\r\n    <primary-stat class="small-text" mode="secondary-angled" size="m" value.two-way="model.birthYear" min="0" max="2000" title="Birth Year"></primary-stat>\r\n    <div>\r\n        <primary-stat mode="secondary" size="s" value.two-way="model.age" readonly.bind="true" min="0" title="Age"></primary-stat>\r\n        <primary-stat mode="secondary" size="s" value.two-way="model.apparentAge" min="0" title="Apparent Age"></primary-stat>\r\n    </div>\r\n    <primary-stat class="small-text" mode="secondary-angled" size="m" value.two-way="model.currentYear" min="0" max="2000" title="Current Year"></primary-stat>\r\n\r\n    <primary-stat mode="secondary" size="s" value.two-way="model.livingConditionModifier" prefix-plus.bind="true" title="Living condition modifier"></primary-stat>\r\n    <primary-stat mode="primary" value.two-way="model.ageingRollModifier" prefix-plus.bind="true" title="Ageing roll bonus" readonly.bind="true"></primary-stat>\r\n    <primary-stat mode="secondary" size="s" value.two-way="model.longevityModifier" min="0" prefix-plus.bind="true" title="Longevity ritual modifier"></primary-stat>\r\n\r\n    <checkbox class="left" mode="angled" readonly.bind="true" value.bind="model.decrepitudeLevel >= 1" title="Decrepitude level 1"></checkbox>\r\n    <primary-stat mode="primary" value.two-way="model.decrepitudePoints" min="0" title="Decrepitude points"></primary-stat>\r\n    <checkbox class="right" mode="angled" readonly.bind="true" value.bind="model.decrepitudeLevel >= 5" title="Decrepitude level 5"></checkbox>\r\n\r\n    <checkbox class="right top" mode="angled" readonly.bind="true" value.bind="model.decrepitudeLevel >= 2" title="Decrepitude level 2"></checkbox>\r\n    <checkbox class="bottom" mode="angled" readonly.bind="true" value.bind="model.decrepitudeLevel >= 3" title="Decrepitude level 3"></checkbox>\r\n    <checkbox class="left top" mode="angled" readonly.bind="true" value.bind="model.decrepitudeLevel >= 4" title="Decrepitude level 4"></checkbox>\r\n</div>',gw=fw,vw=[e,f];let mw;function bw(t){mw||(mw=Wc.define({name:pw,template:fw,dependencies:vw})),t.register(mw)}let yw=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.ageing}),Bm)}};yw=$v([Ic(I),Tv("design:paramtypes",[wv])],yw);var ww=i(4397),xw={};xw.styleTagTransform=Nv(),xw.setAttributes=jv(),xw.insert=Mv().bind(null,"head"),xw.domAPI=Ov(),xw.insertStyleElement=Bv(),Cv()(ww.Z,xw),ww.Z&&ww.Z.locals&&ww.Z.locals;const kw="confidence-block",Aw='\r\n\r\n<primary-stat size="l" min="0" value.two-way="model.score" mode="primary-angled" title="Confidence Points"></primary-stat>',$w=Aw,Sw=[e];let Tw;function Ew(t){Tw||(Tw=Wc.define({name:kw,template:Aw,dependencies:Sw})),t.register(Tw)}let Cw=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.confidence}),Um)}};Cw=$v([Ic(U),Tv("design:paramtypes",[wv])],Cw);var Rw=i(2410),Ow={};Ow.styleTagTransform=Nv(),Ow.setAttributes=jv(),Ow.insert=Mv().bind(null,"head"),Ow.domAPI=Ov(),Ow.insertStyleElement=Bv(),Cv()(Rw.Z,Ow),Rw.Z&&Rw.Z.locals&&Rw.Z.locals;const Pw="warping-block",Mw='\r\n\r\n\r\n\r\n<title text="WARPING"></title>\r\n<div class="container">\r\n    <div class="warping-level">\r\n        <primary-stat mode="secondary" value.two-way="model.warpingPoints" min="0" max="999" size="s" title="Warping Points"></primary-stat>\r\n        <primary-stat mode="secondary" readonly.bind="true" value.two-way="model.warpingLevel" min="0" size="m" title="Warping Level"></primary-stat>\r\n    </div>\r\n    <div class="warping-effect grid" repeat.for="effect of model.ongoingEffects">\r\n        <input class="name" type="text" value.bind="effect.name" placeholder="Name">\r\n        <primary-stat mode="secondary" value.two-way="effect.warpingPointsPerYear" min="1" size="s" title="Warping Points Per Year"></primary-stat>\r\n        <span class="text">/year</span>\r\n    </div>\r\n    <input class="add-effect-input" type="text" placeholder="Add ongoing effect" keyup.delegate="keyPressed($event)" value.two-way="newEffectText">\r\n</div>\r\n<footer></footer>',Lw=Mw,jw=[r,o,e];let Iw;function Bw(t){Iw||(Iw=Wc.define({name:Pw,template:Mw,dependencies:jw})),t.register(Iw)}let Uw=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.warping}),Nm),this.newEffectText="",this.keyPressed=t=>{"Enter"==t.key&&this.newEffectText&&(this.model.ongoingEffects.push({name:this.newEffectText,warpingPointsPerYear:1}),this.model.ongoingEffects.sort(((t,e)=>t.name.localeCompare(e.name))),this.newEffectText="")}}};Uw=$v([Ic(V),Tv("design:paramtypes",[wv])],Uw);var Nw=i(7804),Vw={};Vw.styleTagTransform=Nv(),Vw.setAttributes=jv(),Vw.insert=Mv().bind(null,"head"),Vw.domAPI=Ov(),Vw.insertStyleElement=Bv(),Cv()(Nw.Z,Vw),Nw.Z&&Nw.Z.locals&&Nw.Z.locals;const zw="active-magic-list",Dw='\r\n\r\n\r\n\r\n\r\n<title text="ACTIVE MAGIC"></title>\r\n<div class="container">\r\n    <div class="active-magic grid" repeat.for="magic of model">\r\n        <checkbox size="s" mode="angled" value.two-way="magic.active" title="Active"></checkbox>\r\n        <input class="name" type="text" value.bind="magic.name" placeholder="Name">\r\n        <primary-stat mode="secondary" value.two-way="magic.penetration" min="0" size="s" title="Penetration" readonly.bind="!magic.active" color-mode="${magic.active ? \'color\' : \'monochrome\'}"></primary-stat>\r\n    </div>\r\n    <input class="add-magic-input" type="text" placeholder="Add active magic" keyup.delegate="keyPressed($event)" value.two-way="newMagicText">\r\n</div>\r\n<footer></footer>',Fw=Dw,qw=[r,o,e,f];let Zw;function Hw(t){Zw||(Zw=Wc.define({name:zw,template:Dw,dependencies:qw})),t.register(Zw)}let _w=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.activeMagic}),Vm),this.newMagicText="",this.keyPressed=t=>{this.model||(this.model=[]),"Enter"==t.key&&this.newMagicText&&(this.model.push({name:this.newMagicText,penetration:0,active:!0}),this.model.sort(((t,e)=>t.name.localeCompare(e.name))),this.newMagicText="")}}};_w=$v([Ic(D),Tv("design:paramtypes",[wv])],_w);var Ww=i(8840),Kw={};Kw.styleTagTransform=Nv(),Kw.setAttributes=jv(),Kw.insert=Mv().bind(null,"head"),Kw.domAPI=Ov(),Kw.insertStyleElement=Bv(),Cv()(Ww.Z,Kw),Ww.Z&&Ww.Z.locals&&Ww.Z.locals;const Qw="xp-list",Xw='\r\n\r\n\r\n<title text="XP ENTRIES"></title>\r\n<div class="container">\r\n    <div class="xp-entry grid" repeat.for="entry of planningEntries">\r\n        <span class="year text"><span if.bind="entry.season == \'Spring\'">${entry.year}</span></span>\r\n        <span class="season text">${entry.season}</span>\r\n        <input class="description" type="text" value.bind="entry.description" placeholder="Description">\r\n        <input class="xp" type="text" value.bind="entry.xp" placeholder="XP">\r\n        <input class="correspondence" type="text" value.bind="entry.correspondence" placeholder="Correspondence">\r\n        <input class="area-lore" type="text" value.bind="entry.areaLore" placeholder="Area Lore">\r\n        <input class="plans" type="text" value.bind="entry.plans" placeholder="Plans">\r\n    </div>\r\n\r\n    <div class="separator"></div>\r\n\r\n    <div class="past-xp-entry grid" repeat.for="entry of pastEntries">\r\n        <span class="year text"><span if.bind="entry.season == \'Spring\'">${entry.year}</span></span>\r\n        <span class="season text">${entry.season}</span>\r\n        <input class="description" type="text" value.bind="entry.description" placeholder="Description">\r\n        <input class="xp" type="text" value.bind="entry.xp" placeholder="XP">\r\n        <input class="correspondence" type="text" value.bind="entry.correspondence" placeholder="Correspondence">\r\n        <input class="area-lore" type="text" value.bind="entry.areaLore" placeholder="Area Lore">\r\n    </div>\r\n</div>\r\n<footer></footer>',Gw=Xw,Yw=[r,o];let Jw;function tx(t){Jw||(Jw=Wc.define({name:Qw,template:Xw,dependencies:Yw})),t.register(Jw)}let ex=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.xpEntries}),zm)}get planningEntries(){return this.model?this.model.filter((t=>t.planningMode)):[]}get pastEntries(){return this.model?this.model.filter((t=>!t.planningMode)):[]}};ex=$v([Ic(q),Tv("design:paramtypes",[wv])],ex);var ix=i(3349),nx={};nx.styleTagTransform=Nv(),nx.setAttributes=jv(),nx.insert=Mv().bind(null,"head"),nx.domAPI=Ov(),nx.insertStyleElement=Bv(),Cv()(ix.Z,nx),ix.Z&&ix.Z.locals&&ix.Z.locals;const rx="notes-block",sx='\r\n\r\n<text-box title="NOTES" text.two-way="model"></text-box>',ox=sx,ax=[$];let lx;function cx(t){lx||(lx=Wc.define({name:rx,template:sx,dependencies:ax})),t.register(lx)}let hx=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.notes}),Dm)}};hx=$v([Ic(H),Tv("design:paramtypes",[wv])],hx);var ux=i(6964),dx={};dx.styleTagTransform=Nv(),dx.setAttributes=jv(),dx.insert=Mv().bind(null,"head"),dx.domAPI=Ov(),dx.insertStyleElement=Bv(),Cv()(ux.Z,dx),ux.Z&&ux.Z.locals&&ux.Z.locals;const px="lab-modifications-list",fx='\r\n\r\n\r\n\r\n\r\n<title text="LAB MODIFICATIONS"></title>\r\n<div class="container">\r\n    <input class="add-item-input add-modifier-input" type="text" keyup.delegate="keyPressed($event, \'modifier\')" value.two-way="newModifierText" title="Add Modifier Column">\r\n    <div class="modifier-titles">\r\n        <input type="text" repeat.for="modifier of model.availableModifiers" class="modifier-title text" value.bind="modifier.name" title="${modifier.name}">\r\n    </div>\r\n\r\n    <label class="text title">VIRTUES</label>\r\n    <div class="virtue grid" repeat.for="virtue of model.virtues">\r\n        <input class="name" type="text" value.bind="virtue.name" placeholder="Name">\r\n        <input class="category" type="text" value.bind="virtue.category" placeholder="Category">\r\n        <input class="description" type="text" value.bind="virtue.description" placeholder="Description">\r\n        <primary-stat class="cost" mode="secondary" value.two-way="virtue.cost" min="0" size="s" title="Cost"></primary-stat>\r\n        <primary-stat class="modifier" prefix-plus.bind="true" mode="secondary" repeat.for="modifier of virtue.modifiers" value.two-way="modifier.rating" size="s" title="${modifier.name} modifier" color-mode="monochrome"></primary-stat>\r\n    </div>\r\n    <input class="add-item-input" type="text" placeholder="Add virtue" keyup.delegate="keyPressed($event, \'virtue\')" value.two-way="newVirtueText">\r\n\r\n    <label class="text title">FLAWS</label>\r\n    <div class="flaw grid" repeat.for="flaw of model.flaws">\r\n        <input class="name" type="text" value.bind="flaw.name" placeholder="Name">\r\n        <input class="category" type="text" value.bind="flaw.category" placeholder="Category">\r\n        <input class="description" type="text" value.bind="flaw.description" placeholder="Description">\r\n        <primary-stat class="cost" mode="secondary" value.two-way="flaw.cost" max="0" size="s" title="Cost"></primary-stat>\r\n        <primary-stat class="modifier" prefix-plus.bind="true" mode="secondary" repeat.for="modifier of flaw.modifiers" value.two-way="modifier.rating" size="s" title="${modifier.name} modifier" color-mode="monochrome"></primary-stat>\r\n    </div>\r\n    <input class="add-item-input" type="text" placeholder="Add flaw" keyup.delegate="keyPressed($event, \'flaw\')" value.two-way="newFlawText">\r\n\r\n    <div class="modifier-totals">\r\n        <span class="numbers modifier-total" repeat.for="total of totals" class="modifier-title text">${total}</span>\r\n    </div>\r\n</div>\r\n<footer></footer>',gx=fx,vx=[r,o,f,e];let mx;function bx(t){mx||(mx=Wc.define({name:px,template:fx,dependencies:vx})),t.register(mx)}let yx=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.lab}),Fm),this.newVirtueText="",this.newFlawText="",this.newModifierText="",this.keyPressed=(t,e)=>{"Enter"==t.key&&("virtue"==e&&this.newVirtueText&&(this.model.virtues.push({name:this.newVirtueText,category:"Outfitting",cost:0,modifiers:[],notes:"",type:"Virtue"}),this.model.virtues.sort(((t,e)=>t.name.localeCompare(e.name))),this.newVirtueText=""),"flaw"==e&&this.newFlawText&&(this.model.flaws.push({name:this.newFlawText,category:"Outfitting",cost:0,modifiers:[],notes:"",type:"Flaw"}),this.model.flaws.sort(((t,e)=>t.name.localeCompare(e.name))),this.newFlawText=""),"modifier"==e&&this.newModifierText&&(this.model.availableModifiers.push({name:this.newModifierText}),this.newModifierText=""))}}get totals(){return this.model?rb(this.model).map((t=>t.rating)):[]}};yx=$v([Ic(W),Tv("design:paramtypes",[wv])],yx);var wx=i(4467),xx={};xx.styleTagTransform=Nv(),xx.setAttributes=jv(),xx.insert=Mv().bind(null,"head"),xx.domAPI=Ov(),xx.insertStyleElement=Bv(),Cv()(wx.Z,xx),wx.Z&&wx.Z.locals&&wx.Z.locals;const kx="research-projects",Ax='\r\n\r\n\r\n\r\n\r\n<title text="RESEARCH PROJECTS"></title>\r\n<div class="container">\r\n    <primary-stat class="aura-bonus" mode="secondary" value.two-way="model.auraBonus" size="s" title="Aura Bonus" prefix-plus.bind="true"></primary-stat>\r\n\r\n    <div class="project grid" repeat.for="project of model.researchProjects">\r\n        <input class="name" type="text" value.bind="project.name" placeholder="Name">\r\n        <input class="arts" type="text" value.bind="project.arts" placeholder="Arts">\r\n        <input class="prerequisites" type="text" value.bind="project.prerequisites" placeholder="Prereq">\r\n        <primary-stat class="level" mode="secondary" value.two-way="project.level" min="1" size="m" title="Level"></primary-stat>\r\n\r\n        <checkbox value.two-way="project.focus" title="Focus"></checkbox>\r\n        <primary-stat class="specialisation-bonus" mode="secondary" value.two-way="project.specialisationBonus" min="0" size="s" title="Lab Specialisation Bonus" prefix-plus.bind="true"></primary-stat>\r\n        <checkbox value.two-way="project.intelligenceSpecialisation" title="Intelligence Specialisation"></checkbox>\r\n        <checkbox value.two-way="project.magicTheorySpecialisation" title="Magic Theory Specialisation"></checkbox>\r\n        <checkbox value.two-way="project.talisman" title="Talisman"></checkbox>\r\n        <primary-stat class="similar-research-bonus" mode="secondary" value.two-way="project.similarResearchBonus" min="0" size="s" title="Similar Research Bonus" prefix-plus.bind="true"></primary-stat>\r\n        <input class="material" type="text" value.bind="project.material" placeholder="Material">\r\n        <primary-stat class="material-bonus" mode="secondary" value.two-way="project.materialBonus" min="0" size="s" title="Material Bonus" prefix-plus.bind="true"></primary-stat>\r\n        <input class="shape" type="text" value.bind="project.shape" placeholder="Shape">\r\n        <primary-stat class="shape-bonus" mode="secondary" value.two-way="project.shapeBonus" min="0" size="s" title="Shape Bonus" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat class="lab-assistant-bonus" mode="secondary" value.two-way="project.labAssistantBonus" min="0" size="s" title="Lab Assistant Bonus" prefix-plus.bind="true"></primary-stat>\r\n        \r\n        <primary-stat class="total" mode="primary" readonly.bind="true" value.two-way="project.labTotal" min="0" size="m" title="Lab Total"></primary-stat>\r\n        <primary-stat class="surplus" mode="secondary" readonly.bind="true" value.two-way="project.surplusLabTotal" min="0" size="s" title="Surplus Lab Total"></primary-stat>\r\n        <primary-stat class="accumulated-total" mode="secondary" value.two-way="project.accumulatedLabTotal" min="0" size="s" title="Accumulated Lab Total"></primary-stat>\r\n        \r\n        <input class="description" type="text" value.bind="project.description" placeholder="Description" title="${project.description}">\r\n    </div>\r\n    <input class="add-item-input" type="text" placeholder="Add project" keyup.delegate="keyPressed($event)" value.two-way="newProjectText">\r\n</div>\r\n<footer></footer>',$x=Ax,Sx=[r,o,f,e];let Tx;function Ex(t){Tx||(Tx=Wc.define({name:kx,template:Ax,dependencies:Sx})),t.register(Tx)}let Cx=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.lab}),Fm),this.newProjectText="",this.keyPressed=t=>{"Enter"==t.key&&this.newProjectText&&(this.model.researchProjects||(this.model.researchProjects=[]),this.model.researchProjects.push({name:this.newProjectText,description:"",accumulatedLabTotal:0,surplusLabTotal:0,artModifier:0,arts:"",prerequisites:"",focus:!1,labTotal:0,labAssistantBonus:0,magicTheorySpecialisation:!1,intelligenceSpecialisation:!0,material:"",materialBonus:0,shape:"",shapeBonus:0,similarResearchBonus:0,specialisationBonus:0,talisman:!1,level:1}),this.newProjectText="")}}};Cx=$v([Ic(Q),Tv("design:paramtypes",[wv])],Cx);var Rx=i(8412),Ox={};Ox.styleTagTransform=Nv(),Ox.setAttributes=jv(),Ox.insert=Mv().bind(null,"head"),Ox.domAPI=Ov(),Ox.insertStyleElement=Bv(),Cv()(Rx.Z,Ox),Rx.Z&&Rx.Z.locals&&Rx.Z.locals;const Px="lab-stats",Mx='\r\n\r\n\r\n\r\n<title text="LAB STATS"></title>\r\n<div class="container">\r\n    <div class="grid">\r\n        <span class="text">Size</span>\r\n        <span class="text">Refinement</span>\r\n        <span class="text">Occupied Size</span>\r\n        <span class="text">Effective Safety</span>\r\n        <span class="text">Living Conditions Modifier</span>\r\n        <span class="text">Specialisation 1</span>\r\n        <span class="text">Specialisation 2</span>\r\n        <span class="text">Art 1 (Any)</span>\r\n        <span class="text">Art 2 (Any)</span>\r\n        <span class="text">Art 3 (Form)</span>\r\n        <span class="text">Art 4 (Form)</span>\r\n\r\n        <primary-stat value.two-way="model.size" mode="primary-angled" min="-3"></primary-stat>\r\n        <primary-stat value.two-way="model.refinement" mode="primary-angled" min="0"></primary-stat>\r\n        <primary-stat value.two-way="model.occupiedSize" mode="secondary-angled" readonly.bind="true" color-mode="monochrome"></primary-stat>\r\n        <primary-stat value.two-way="model.effectiveSafety" mode="secondary-angled" readonly.bind="true" color-mode="monochrome"></primary-stat>\r\n        <primary-stat value.two-way="model.livingConditionsModifier" mode="secondary-angled" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.specialisation1.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.specialisation2.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.art1.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.art2.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.art3.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n        <primary-stat value.two-way="model.art4.rating" mode="secondary" readonly.bind="true" color-mode="monochrome" prefix-plus.bind="true"></primary-stat>\r\n\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <input class="modifier-selector" type="text" value.bind="model.specialisation1.name" placeholder="Modifier">\r\n        <input class="modifier-selector" type="text" value.bind="model.specialisation2.name" placeholder="Modifier">\r\n        <input class="modifier-selector" type="text" value.bind="model.art1.name" placeholder="Modifier">\r\n        <input class="modifier-selector" type="text" value.bind="model.art2.name" placeholder="Modifier">\r\n        <input class="modifier-selector" type="text" value.bind="model.art3.name" placeholder="Modifier">\r\n        <input class="modifier-selector" type="text" value.bind="model.art4.name" placeholder="Modifier">\r\n    </div>\r\n</div>\r\n<footer></footer>\r\n',Lx=Mx,jx=[r,o,e];let Ix;function Bx(t){Ix||(Ix=Wc.define({name:Px,template:Mx,dependencies:jx})),t.register(Ix)}let Ux=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.lab}),Fm)}};Ux=$v([Ic(G),Tv("design:paramtypes",[wv])],Ux);var Nx=i(2244),Vx={};Vx.styleTagTransform=Nv(),Vx.setAttributes=jv(),Vx.insert=Mv().bind(null,"head"),Vx.domAPI=Ov(),Vx.insertStyleElement=Bv(),Cv()(Nx.Z,Vx),Nx.Z&&Nx.Z.locals&&Nx.Z.locals;const zx="spellcasting-modifiers-block",Dx='\r\n\r\n\r\n\r\n\r\n<title text="SPELLCASTING STATS"></title>\r\n<div class="container">\r\n    <div class="grid">\r\n        <span class="text">Aura</span>\r\n        <span class="text">Stamina Specialisation</span>\r\n        <span class="text">Good Cycle</span>\r\n        <span class="text">Loud Voice</span>\r\n        <span class="text">Large Gestures</span>\r\n\r\n        <span class="text">Arts</span>\r\n        <span class="text">Ceremonial</span>\r\n        <span class="text">Talisman Bonus</span>\r\n        <span class="text">Similar Spell</span>\r\n        <span class="text">Focus</span>\r\n        <span class="text">Casting Total</span>\r\n\r\n\r\n        <primary-stat value.two-way="model.aura" mode="secondary" prefix-plus.bind="true"></primary-stat></primary-stat>\r\n        <checkbox value.two-way="model.staminaSpecialisation" mode="angled"></checkbox>\r\n        <checkbox value.two-way="model.cyclicMagicVirtue" mode="angled"></checkbox>\r\n        <checkbox value.two-way="model.loudVoice" mode="angled"></checkbox>\r\n        <checkbox value.two-way="model.largeGestures" mode="angled"></checkbox>\r\n\r\n        <input class="arts" type="text" value.bind="model.arts" placeholder="Arts">\r\n        <checkbox value.two-way="model.ceremonial" mode="angled" color-mode="monochrome"></checkbox>\r\n        <primary-stat value.two-way="model.talismanBonus" mode="secondary" prefix-plus.bind="true" color-mode="monochrome"></primary-stat>\r\n        <primary-stat value.two-way="model.similarFomulaicSpellBonus" mode="secondary" prefix-plus.bind="true" color-mode="monochrome"></primary-stat>\r\n        <checkbox value.two-way="model.focus" mode="angled" color-mode="monochrome"></checkbox>\r\n        <primary-stat value.two-way="model.spontaneousCastingTotal" mode="primary-angled" readonly.bind="true" prefix-plus.bind="true" color-mode="monochrome"></primary-stat>\r\n    </div>\r\n</div>\r\n<footer></footer>\r\n',Fx=Dx,qx=[r,o,e,f];let Zx;function Hx(t){Zx||(Zx=Wc.define({name:zx,template:Dx,dependencies:qx})),t.register(Zx)}let _x=class extends ob{constructor(t){super(t,(t=>{var e;return null===(e=t.character)||void 0===e?void 0:e.spellcastingStats}),Zm)}};_x=$v([Ic(J),Tv("design:paramtypes",[wv])],_x);var Wx=i(1525),Kx={};Kx.styleTagTransform=Nv(),Kx.setAttributes=jv(),Kx.insert=Mv().bind(null,"head"),Kx.domAPI=Ov(),Kx.insertStyleElement=Bv(),Cv()(Wx.Z,Kx),Wx.Z&&Wx.Z.locals&&Wx.Z.locals;const Qx="rune-edge",Xx='<div class="container">\r\n</div>',Gx=Xx,Yx=[];let Jx;function tk(t){Jx||(Jx=Wc.define({name:Qx,template:Xx,dependencies:Yx})),t.register(Jx)}let ek=class{};ek=$v([Ic(et)],ek);var ik=i(6392),nk={};nk.styleTagTransform=Nv(),nk.setAttributes=jv(),nk.insert=Mv().bind(null,"head"),nk.domAPI=Ov(),nk.insertStyleElement=Bv(),Cv()(ik.Z,nk),ik.Z&&ik.Z.locals&&ik.Z.locals;const rk="page-header",sk='\r\n\r\n<div class="grid">\r\n    <rune-edge></rune-edge>\r\n    <div class="name-box">\r\n        <input type="text" placeholder="Name" value.bind="name">\r\n    </div>\r\n    <rune-edge></rune-edge>\r\n</div>',ok=sk,ak=[it];let lk;function ck(t){lk||(lk=Wc.define({name:rk,template:sk,dependencies:ak})),t.register(lk)}let hk=class{constructor(t){this.store=t,this.name="undefined",this.saveChanges=function(t,e=300){let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>{t.apply(this,n)}),e)}}((()=>this.store.dispatch(Em,this.name)),2e3)}stateChanged(t,e){t.present.character&&(this.name=t.present.character.description.name)}nameChanged(t,e){e!=t&&"undefined"!==e&&this.saveChanges()}};hk=$v([Ic(nt),kv(),function(t,e){return function(i,n,r){const s=null==n,o=s?i:i.constructor,a=new Pc(t,s?e:r.value);if(s){if(!_a(e)&&!(e in o.prototype))throw new Error(`AUR0773:${String(e)}@${o.name}}`)}else if(!_a(null==r?void 0:r.value))throw new Error(`AUR0774:${String(n)}`);jc.add(o,a),Oc.isType(o)&&Oc.getDefinition(o).watches.push(a),Wc.isType(o)&&Wc.getDefinition(o).watches.push(a)}}("name","nameChanged"),Tv("design:paramtypes",[wv])],hk);var uk=i(7015),dk={};dk.styleTagTransform=Nv(),dk.setAttributes=jv(),dk.insert=Mv().bind(null,"head"),dk.domAPI=Ov(),dk.insertStyleElement=Bv(),Cv()(uk.Z,dk),uk.Z&&uk.Z.locals&&uk.Z.locals;const pk="sigil",fk='<div class="container">\r\n    <div class="sigil-image"></div>\r\n</div>',gk=fk,vk=[];let mk;function bk(t){mk||(mk=Wc.define({name:pk,template:fk,dependencies:vk})),t.register(mk)}let yk=class{};yk=$v([Ic(st)],yk);const wk="my-app",xk='\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<page-header></page-header>\r\n\r\n<abilities-block></abilities-block>\r\n<characteristics-block></characteristics-block>\r\n<virtues-list></virtues-list>\r\n<flaws-list></flaws-list>\r\n<fatigue-block></fatigue-block>\r\n<damage-block></damage-block>\r\n<arts-block></arts-block>\r\n<description-block></description-block>\r\n<sigil></sigil>\r\n<personality-traits-list></personality-traits-list>\r\n<age-block></age-block>\r\n<confidence-block></confidence-block>\r\n<warping-block></warping-block>\r\n<spellcasting-modifiers-block></spellcasting-modifiers-block>\r\n<active-magic-list></active-magic-list>\r\n<spell-list></spell-list>\r\n<xp-list></xp-list>\r\n<lab-stats></lab-stats>\r\n<research-projects></research-projects>\r\n<lab-modifications-list></lab-modifications-list>\r\n<notes-block></notes-block>\r\n\r\n<div style="clear:both;"></div>\r\n\r\n<rune-edge></rune-edge>\r\n\r\n<button click.delegate="undo()" disabled.bind="state.past.length == 0">Undo</button>\r\n<button click.delegate="redo()" disabled.bind="state.future.length == 0">Redo</button>\r\n<button click.delegate="export()">Export</button>\r\n<button click.delegate="import()">Import</button>\r\n\r\n<input type=\'file\' accept=\'.json\' files.bind="selectedFiles" ref="fileInput" style="display: none;"><br>',kk=xk,Ak=[l,d,v,w,k,T,C,O,M,j,B,N,z,F,Z,_,K,X,Y,tt,it,rt,ot];let $k;function Sk(t){$k||($k=Wc.define({name:wk,template:xk,dependencies:Ak})),t.register($k)}let Tk=class{constructor(t){this.store=t,this.undo=()=>{this.store.dispatch(rv,-1)},this.redo=()=>{this.store.dispatch(rv,1)},this.export=()=>{!function(t,e){const i=document.createElement("a"),n=e.split(".").pop();i.href=URL.createObjectURL(new Blob([t],{type:`text/${"txt"===n?"plain":n}`})),i.download=e,i.click(),i.remove()}(JSON.stringify(this.state.present.character,null,4),"character sheet.json")},this.import=()=>{this.fileInput.click(),this.fileInput.onchange=this.change},this.change=()=>{this.theFile.text().then((t=>this.store.dispatch(qm,t)))},this.store.registerAction("rehydrateFromLocalStorage",pv),this.store.registerAction("createNewCharacter",$m),this.store.registerAction("loadCharacter",Sm),this.store.registerAction("updateCharacteristics",Tm),this.store.registerAction("updateName",Em),this.store.registerAction("updateAbilities",Cm),this.store.registerAction("updateVirtues",Om),this.store.registerAction("updateFlaws",Pm),this.store.registerAction("updateDescription",Mm),this.store.registerAction("updatePhysicalStatus",Lm),this.store.registerAction("updateArts",jm),this.store.registerAction("updateSpells",Im),this.store.registerAction("updatePersonalityTraits",Rm),this.store.registerAction("updateAgeing",Bm),this.store.registerAction("updateConfidence",Um),this.store.registerAction("updateWarping",Nm),this.store.registerAction("updateActiveMagic",Vm),this.store.registerAction("updateXpEntries",zm),this.store.registerAction("updateNotes",Dm),this.store.registerAction("updateLab",Fm),this.store.registerAction("importCharacter",qm),this.store.registerAction("updateSpellcastingStats",Zm),t.registerMiddleware(dv,cv.After,{key:"character-sheets"}),t.dispatch(pv,"character-sheets")}get theFile(){return this.selectedFiles&&this.selectedFiles.length>0?this.selectedFiles[0]:null}};Tk=$v([Ic(at),kv(),Tv("design:paramtypes",[wv])],Tk),Pg.register(Av.withInitialState({character:null}).withOptions({history:{undoable:!0,limit:20}})).app(Tk).start()})()})();